import{PushNotifications as fn}from"@capacitor/push-notifications";import{Capacitor as $d}from"@capacitor/core";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var zm={exports:{}},Uo={},Wm={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),ax=Symbol.for("react.portal"),sx=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),ox=Symbol.for("react.profiler"),lx=Symbol.for("react.provider"),cx=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),hx=Symbol.for("react.memo"),fx=Symbol.for("react.lazy"),Gh=Symbol.iterator;function mx(e){return e===null||typeof e!="object"?null:(e=Gh&&e[Gh]||e["@@iterator"],typeof e=="function"?e:null)}var qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,Hm={};function Sa(e,t,r){this.props=e,this.context=t,this.refs=Hm,this.updater=r||qm}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vm(){}Vm.prototype=Sa.prototype;function Ad(e,t,r){this.props=e,this.context=t,this.refs=Hm,this.updater=r||qm}var Id=Ad.prototype=new Vm;Id.constructor=Ad;Bm(Id,Sa.prototype);Id.isPureReactComponent=!0;var Qh=Array.isArray,Km=Object.prototype.hasOwnProperty,Ld={current:null},Ym={key:!0,ref:!0,__self:!0,__source:!0};function Jm(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Km.call(t,n)&&!Ym.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];a.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:qs,type:e,key:s,ref:o,props:a,_owner:Ld.current}}function gx(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Md(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function px(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xh=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?px(""+e.key):t.toString(36)}function Fi(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qs:case ax:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Pl(o,0):n,Qh(a)?(r="",e!=null&&(r=e.replace(Xh,"$&/")+"/"),Fi(a,t,r,"",function(u){return u})):a!=null&&(Md(a)&&(a=gx(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Xh,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Qh(e))for(var l=0;l<e.length;l++){s=e[l];var d=n+Pl(s,l);o+=Fi(s,t,r,d,a)}else if(d=mx(e),typeof d=="function")for(e=d.call(e),l=0;!(s=e.next()).done;)s=s.value,d=n+Pl(s,l++),o+=Fi(s,t,r,d,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pi(e,t,r){if(e==null)return e;var n=[],a=0;return Fi(e,n,"","",function(s){return t.call(r,s,a++)}),n}function yx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},zi={transition:null},xx={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:zi,ReactCurrentOwner:Ld};function Gm(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:pi,forEach:function(e,t,r){pi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pi(e,function(){t++}),t},toArray:function(e){return pi(e,function(t){return t})||[]},only:function(e){if(!Md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Sa;G.Fragment=sx;G.Profiler=ox;G.PureComponent=Ad;G.StrictMode=ix;G.Suspense=ux;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx;G.act=Gm;G.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bm({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ld.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Km.call(t,d)&&!Ym.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qs,type:e.type,key:a,ref:s,props:n,_owner:o}};G.createContext=function(e){return e={$$typeof:cx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lx,_context:e},e.Consumer=e};G.createElement=Jm;G.createFactory=function(e){var t=Jm.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:dx,render:e}};G.isValidElement=Md;G.lazy=function(e){return{$$typeof:fx,_payload:{_status:-1,_result:e},_init:yx}};G.memo=function(e,t){return{$$typeof:hx,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=zi.transition;zi.transition={};try{e()}finally{zi.transition=t}};G.unstable_act=Gm;G.useCallback=function(e,t){return lt.current.useCallback(e,t)};G.useContext=function(e){return lt.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};G.useEffect=function(e,t){return lt.current.useEffect(e,t)};G.useId=function(){return lt.current.useId()};G.useImperativeHandle=function(e,t,r){return lt.current.useImperativeHandle(e,t,r)};G.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return lt.current.useMemo(e,t)};G.useReducer=function(e,t,r){return lt.current.useReducer(e,t,r)};G.useRef=function(e){return lt.current.useRef(e)};G.useState=function(e){return lt.current.useState(e)};G.useSyncExternalStore=function(e,t,r){return lt.current.useSyncExternalStore(e,t,r)};G.useTransition=function(){return lt.current.useTransition()};G.version="18.3.1";Wm.exports=G;var w=Wm.exports;const vx=rx(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=w,bx=Symbol.for("react.element"),kx=Symbol.for("react.fragment"),jx=Object.prototype.hasOwnProperty,_x=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nx={key:!0,ref:!0,__self:!0,__source:!0};function Qm(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)jx.call(t,n)&&!Nx.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:bx,type:e,key:s,ref:o,props:a,_owner:_x.current}}Uo.Fragment=kx;Uo.jsx=Qm;Uo.jsxs=Qm;zm.exports=Uo;var i=zm.exports,xc={},Xm={exports:{}},jt={},Zm={exports:{}},e0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var V=I.length;I.push(H);e:for(;0<V;){var se=V-1>>>1,ue=I[se];if(0<a(ue,H))I[se]=H,I[V]=ue,V=se;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var H=I[0],V=I.pop();if(V!==H){I[0]=V;e:for(var se=0,ue=I.length,Xt=ue>>>1;se<Xt;){var F=2*(se+1)-1,It=I[F],Zt=F+1,$r=I[Zt];if(0>a(It,V))Zt<ue&&0>a($r,It)?(I[se]=$r,I[Zt]=V,se=Zt):(I[se]=It,I[F]=V,se=F);else if(Zt<ue&&0>a($r,V))I[se]=$r,I[Zt]=V,se=Zt;else break e}}return H}function a(I,H){var V=I.sortIndex-H.sortIndex;return V!==0?V:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,f=null,g=3,v=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=I)n(u),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(u)}}function S(I){if(_=!1,y(I),!k)if(r(d)!==null)k=!0,tt(C);else{var H=r(u);H!==null&&Qt(S,H.startTime-I)}}function C(I,H){k=!1,_&&(_=!1,x(O),O=-1),v=!0;var V=g;try{for(y(H),f=r(d);f!==null&&(!(f.expirationTime>H)||I&&!ye());){var se=f.callback;if(typeof se=="function"){f.callback=null,g=f.priorityLevel;var ue=se(f.expirationTime<=H);H=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===r(d)&&n(d),y(H)}else n(d);f=r(d)}if(f!==null)var Xt=!0;else{var F=r(u);F!==null&&Qt(S,F.startTime-H),Xt=!1}return Xt}finally{f=null,g=V,v=!1}}var N=!1,E=null,O=-1,U=5,L=-1;function ye(){return!(e.unstable_now()-L<U)}function We(){if(E!==null){var I=e.unstable_now();L=I;var H=!0;try{H=E(!0,I)}finally{H?Ke():(N=!1,E=null)}}else N=!1}var Ke;if(typeof p=="function")Ke=function(){p(We)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,xe=et.port2;et.port1.onmessage=We,Ke=function(){xe.postMessage(null)}}else Ke=function(){j(We,0)};function tt(I){E=I,N||(N=!0,Ke())}function Qt(I,H){O=j(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,tt(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var V=g;g=H;try{return I()}finally{g=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=g;g=I;try{return H()}finally{g=V}},e.unstable_scheduleCallback=function(I,H,V){var se=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?se+V:se):V=se,I){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=V+ue,I={id:h++,callback:H,priorityLevel:I,startTime:V,expirationTime:ue,sortIndex:-1},V>se?(I.sortIndex=V,t(u,I),r(d)===null&&I===r(u)&&(_?(x(O),O=-1):_=!0,Qt(S,V-se))):(I.sortIndex=ue,t(d,I),k||v||(k=!0,tt(C))),I},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(I){var H=g;return function(){var V=g;g=H;try{return I.apply(this,arguments)}finally{g=V}}}})(e0);Zm.exports=e0;var Sx=Zm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex=w,kt=Sx;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t0=new Set,js={};function An(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(js[e]=t,e=0;e<t.length;e++)t0.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=Object.prototype.hasOwnProperty,Cx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zh={},ef={};function Tx(e){return vc.call(ef,e)?!0:vc.call(Zh,e)?!1:Cx.test(e)?ef[e]=!0:(Zh[e]=!0,!1)}function Px(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ox(e,t,r,n){if(t===null||typeof t>"u"||Px(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ud=/[\-:]([a-z])/g;function Fd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ud,Fd);Ve[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ud,Fd);Ve[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ud,Fd);Ve[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function zd(e,t,r,n){var a=Ve.hasOwnProperty(t)?Ve[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ox(t,r,a,n)&&(r=null),n||a===null?Tx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dr=Ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yi=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),wc=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),kc=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),a0=Symbol.for("react.offscreen"),tf=Symbol.iterator;function Va(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Ol;function ss(e){if(Ol===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Rl=!1;function Dl(e,t){if(!e||Rl)return"";Rl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{Rl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ss(e):""}function Rx(e){switch(e.tag){case 5:return ss(e.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return e=Dl(e.type,!1),e;case 11:return e=Dl(e.type.render,!1),e;case 1:return e=Dl(e.type,!0),e;default:return""}}function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zn:return"Fragment";case Xn:return"Portal";case wc:return"Profiler";case Wd:return"StrictMode";case bc:return"Suspense";case kc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n0:return(e.displayName||"Context")+".Consumer";case r0:return(e._context.displayName||"Context")+".Provider";case qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bd:return t=e.displayName||null,t!==null?t:jc(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return jc(e(t))}catch{}}return null}function Dx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jc(t);case 8:return t===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $x(e){var t=s0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xi(e){e._valueTracker||(e._valueTracker=$x(e))}function i0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=s0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _c(e,t){var r=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function o0(e,t){t=t.checked,t!=null&&zd(e,"checked",t,!1)}function Nc(e,t){o0(e,t);var r=rn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sc(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sc(e,t,r){(t!=="number"||io(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var is=Array.isArray;function da(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ec(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function af(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(is(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rn(r)}}function l0(e,t){var r=rn(t.value),n=rn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function c0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?c0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vi,d0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _s(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ax=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(e){Ax.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),us[t]=us[e]})});function u0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||us.hasOwnProperty(e)&&us[e]?(""+t).trim():t+"px"}function h0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=u0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Ix=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tc(e,t){if(t){if(Ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Pc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=null;function Hd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rc=null,ua=null,ha=null;function of(e){if(e=Vs(e)){if(typeof Rc!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Bo(t),Rc(e.stateNode,e.type,t))}}function f0(e){ua?ha?ha.push(e):ha=[e]:ua=e}function m0(){if(ua){var e=ua,t=ha;if(ha=ua=null,of(e),t)for(e=0;e<t.length;e++)of(t[e])}}function g0(e,t){return e(t)}function p0(){}var $l=!1;function y0(e,t,r){if($l)return e(t,r);$l=!0;try{return g0(e,t,r)}finally{$l=!1,(ua!==null||ha!==null)&&(p0(),m0())}}function Ns(e,t){var r=e.stateNode;if(r===null)return null;var n=Bo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Dc=!1;if(Cr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Dc=!1}function Lx(e,t,r,n,a,s,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var hs=!1,oo=null,lo=!1,$c=null,Mx={onError:function(e){hs=!0,oo=e}};function Ux(e,t,r,n,a,s,o,l,d){hs=!1,oo=null,Lx.apply(Mx,arguments)}function Fx(e,t,r,n,a,s,o,l,d){if(Ux.apply(this,arguments),hs){if(hs){var u=oo;hs=!1,oo=null}else throw Error(R(198));lo||(lo=!0,$c=u)}}function In(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function x0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lf(e){if(In(e)!==e)throw Error(R(188))}function zx(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return lf(a),e;if(s===n)return lf(a),t;s=s.sibling}throw Error(R(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function v0(e){return e=zx(e),e!==null?w0(e):null}function w0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w0(e);if(t!==null)return t;e=e.sibling}return null}var b0=kt.unstable_scheduleCallback,cf=kt.unstable_cancelCallback,Wx=kt.unstable_shouldYield,qx=kt.unstable_requestPaint,Ce=kt.unstable_now,Bx=kt.unstable_getCurrentPriorityLevel,Vd=kt.unstable_ImmediatePriority,k0=kt.unstable_UserBlockingPriority,co=kt.unstable_NormalPriority,Hx=kt.unstable_LowPriority,j0=kt.unstable_IdlePriority,Fo=null,dr=null;function Vx(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Jx,Kx=Math.log,Yx=Math.LN2;function Jx(e){return e>>>=0,e===0?32:31-(Kx(e)/Yx|0)|0}var wi=64,bi=4194304;function os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=os(l):(s&=o,s!==0&&(n=os(s)))}else o=r&~a,o!==0?n=os(o):s!==0&&(n=os(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ht(t),a=1<<r,n|=e[r],t&=~a;return n}function Gx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ht(s),l=1<<o,d=a[o];d===-1?(!(l&r)||l&n)&&(a[o]=Gx(l,t)):d<=t&&(e.expiredLanes|=l),s&=~l}}function Ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _0(){var e=wi;return wi<<=1,!(wi&4194240)&&(wi=64),e}function Al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function Xx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ht(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Kd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ht(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ne=0;function N0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S0,Yd,E0,C0,T0,Ic=!1,ki=[],Yr=null,Jr=null,Gr=null,Ss=new Map,Es=new Map,qr=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Ya(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Vs(t),t!==null&&Yd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ev(e,t,r,n,a){switch(t){case"focusin":return Yr=Ya(Yr,e,t,r,n,a),!0;case"dragenter":return Jr=Ya(Jr,e,t,r,n,a),!0;case"mouseover":return Gr=Ya(Gr,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ss.set(s,Ya(Ss.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Es.set(s,Ya(Es.get(s)||null,e,t,r,n,a)),!0}return!1}function P0(e){var t=_n(e.target);if(t!==null){var r=In(t);if(r!==null){if(t=r.tag,t===13){if(t=x0(r),t!==null){e.blockedOn=t,T0(e.priority,function(){E0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Oc=n,r.target.dispatchEvent(n),Oc=null}else return t=Vs(r),t!==null&&Yd(t),e.blockedOn=r,!1;t.shift()}return!0}function uf(e,t,r){Wi(e)&&r.delete(t)}function tv(){Ic=!1,Yr!==null&&Wi(Yr)&&(Yr=null),Jr!==null&&Wi(Jr)&&(Jr=null),Gr!==null&&Wi(Gr)&&(Gr=null),Ss.forEach(uf),Es.forEach(uf)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,tv)))}function Cs(e){function t(a){return Ja(a,e)}if(0<ki.length){Ja(ki[0],e);for(var r=1;r<ki.length;r++){var n=ki[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yr!==null&&Ja(Yr,e),Jr!==null&&Ja(Jr,e),Gr!==null&&Ja(Gr,e),Ss.forEach(t),Es.forEach(t),r=0;r<qr.length;r++)n=qr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)P0(r),r.blockedOn===null&&qr.shift()}var fa=Dr.ReactCurrentBatchConfig,ho=!0;function rv(e,t,r,n){var a=ne,s=fa.transition;fa.transition=null;try{ne=1,Jd(e,t,r,n)}finally{ne=a,fa.transition=s}}function nv(e,t,r,n){var a=ne,s=fa.transition;fa.transition=null;try{ne=4,Jd(e,t,r,n)}finally{ne=a,fa.transition=s}}function Jd(e,t,r,n){if(ho){var a=Lc(e,t,r,n);if(a===null)Hl(e,t,n,fo,r),df(e,n);else if(ev(a,e,t,r,n))n.stopPropagation();else if(df(e,n),t&4&&-1<Zx.indexOf(e)){for(;a!==null;){var s=Vs(a);if(s!==null&&S0(s),s=Lc(e,t,r,n),s===null&&Hl(e,t,n,fo,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Hl(e,t,n,null,r)}}var fo=null;function Lc(e,t,r,n){if(fo=null,e=Hd(n),e=_n(e),e!==null)if(t=In(e),t===null)e=null;else if(r=t.tag,r===13){if(e=x0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function O0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bx()){case Vd:return 1;case k0:return 4;case co:case Hx:return 16;case j0:return 536870912;default:return 16}default:return 16}}var Vr=null,Gd=null,qi=null;function R0(){if(qi)return qi;var e,t=Gd,r=t.length,n,a="value"in Vr?Vr.value:Vr.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return qi=a.slice(e,1<n?1-n:void 0)}function Bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function hf(){return!1}function _t(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ji:hf,this.isPropagationStopped=hf,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),t}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=_t(Ea),Hs=je({},Ea,{view:0,detail:0}),av=_t(Hs),Il,Ll,Ga,zo=je({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ga&&(Ga&&e.type==="mousemove"?(Il=e.screenX-Ga.screenX,Ll=e.screenY-Ga.screenY):Ll=Il=0,Ga=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Ll}}),ff=_t(zo),sv=je({},zo,{dataTransfer:0}),iv=_t(sv),ov=je({},Hs,{relatedTarget:0}),Ml=_t(ov),lv=je({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=_t(lv),dv=je({},Ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uv=_t(dv),hv=je({},Ea,{data:0}),mf=_t(hv),fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gv[e])?!!t[e]:!1}function Xd(){return pv}var yv=je({},Hs,{key:function(e){if(e.key){var t=fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xv=_t(yv),vv=je({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=_t(vv),wv=je({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),bv=_t(wv),kv=je({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),jv=_t(kv),_v=je({},zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=_t(_v),Sv=[9,13,27,32],Zd=Cr&&"CompositionEvent"in window,fs=null;Cr&&"documentMode"in document&&(fs=document.documentMode);var Ev=Cr&&"TextEvent"in window&&!fs,D0=Cr&&(!Zd||fs&&8<fs&&11>=fs),pf=String.fromCharCode(32),yf=!1;function $0(e,t){switch(e){case"keyup":return Sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function Cv(e,t){switch(e){case"compositionend":return A0(t);case"keypress":return t.which!==32?null:(yf=!0,pf);case"textInput":return e=t.data,e===pf&&yf?null:e;default:return null}}function Tv(e,t){if(ea)return e==="compositionend"||!Zd&&$0(e,t)?(e=R0(),qi=Gd=Vr=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D0&&t.locale!=="ko"?null:t.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pv[e.type]:t==="textarea"}function I0(e,t,r,n){f0(n),t=mo(t,"onChange"),0<t.length&&(r=new Qd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ms=null,Ts=null;function Ov(e){K0(e,0)}function Wo(e){var t=na(e);if(i0(t))return e}function Rv(e,t){if(e==="change")return t}var L0=!1;if(Cr){var Ul;if(Cr){var Fl="oninput"in document;if(!Fl){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),Fl=typeof vf.oninput=="function"}Ul=Fl}else Ul=!1;L0=Ul&&(!document.documentMode||9<document.documentMode)}function wf(){ms&&(ms.detachEvent("onpropertychange",M0),Ts=ms=null)}function M0(e){if(e.propertyName==="value"&&Wo(Ts)){var t=[];I0(t,Ts,e,Hd(e)),y0(Ov,t)}}function Dv(e,t,r){e==="focusin"?(wf(),ms=t,Ts=r,ms.attachEvent("onpropertychange",M0)):e==="focusout"&&wf()}function $v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(Ts)}function Av(e,t){if(e==="click")return Wo(t)}function Iv(e,t){if(e==="input"||e==="change")return Wo(t)}function Lv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Lv;function Ps(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!vc.call(t,a)||!Kt(e[a],t[a]))return!1}return!0}function bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kf(e,t){var r=bf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bf(r)}}function U0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F0(){for(var e=window,t=io();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=io(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mv(e){var t=F0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&U0(r.ownerDocument.documentElement,r)){if(n!==null&&eu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=kf(r,s);var o=kf(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uv=Cr&&"documentMode"in document&&11>=document.documentMode,ta=null,Mc=null,gs=null,Uc=!1;function jf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uc||ta==null||ta!==io(n)||(n=ta,"selectionStart"in n&&eu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gs&&Ps(gs,n)||(gs=n,n=mo(Mc,"onSelect"),0<n.length&&(t=new Qd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ta)))}function _i(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ra={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},zl={},z0={};Cr&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function qo(e){if(zl[e])return zl[e];if(!ra[e])return e;var t=ra[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in z0)return zl[e]=t[r];return e}var W0=qo("animationend"),q0=qo("animationiteration"),B0=qo("animationstart"),H0=qo("transitionend"),V0=new Map,_f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){V0.set(e,t),An(t,[e])}for(var Wl=0;Wl<_f.length;Wl++){var ql=_f[Wl],Fv=ql.toLowerCase(),zv=ql[0].toUpperCase()+ql.slice(1);an(Fv,"on"+zv)}an(W0,"onAnimationEnd");an(q0,"onAnimationIteration");an(B0,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(H0,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Nf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Fx(n,t,void 0,e),e.currentTarget=null}function K0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==s&&a.isPropagationStopped())break e;Nf(a,l,u),s=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==s&&a.isPropagationStopped())break e;Nf(a,l,u),s=d}}}if(lo)throw e=$c,lo=!1,$c=null,e}function he(e,t){var r=t[Bc];r===void 0&&(r=t[Bc]=new Set);var n=e+"__bubble";r.has(n)||(Y0(t,e,2,!1),r.add(n))}function Bl(e,t,r){var n=0;t&&(n|=4),Y0(r,e,n,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[Ni]){e[Ni]=!0,t0.forEach(function(r){r!=="selectionchange"&&(Wv.has(r)||Bl(r,!1,e),Bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,Bl("selectionchange",!1,t))}}function Y0(e,t,r,n){switch(O0(t)){case 1:var a=rv;break;case 4:a=nv;break;default:a=Jd}r=a.bind(null,t,r,e),a=void 0,!Dc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hl(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_n(l),o===null)return;if(d=o.tag,d===5||d===6){n=s=o;continue e}l=l.parentNode}}n=n.return}y0(function(){var u=s,h=Hd(r),f=[];e:{var g=V0.get(e);if(g!==void 0){var v=Qd,k=e;switch(e){case"keypress":if(Bi(r)===0)break e;case"keydown":case"keyup":v=xv;break;case"focusin":k="focus",v=Ml;break;case"focusout":k="blur",v=Ml;break;case"beforeblur":case"afterblur":v=Ml;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bv;break;case W0:case q0:case B0:v=cv;break;case H0:v=jv;break;case"scroll":v=av;break;case"wheel":v=Nv;break;case"copy":case"cut":case"paste":v=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gf}var _=(t&4)!==0,j=!_&&e==="scroll",x=_?g!==null?g+"Capture":null:g;_=[];for(var p=u,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,x!==null&&(S=Ns(p,x),S!=null&&_.push(Rs(p,S,y)))),j)break;p=p.return}0<_.length&&(g=new v(g,k,null,r,h),f.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&r!==Oc&&(k=r.relatedTarget||r.fromElement)&&(_n(k)||k[Tr]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(k=r.relatedTarget||r.toElement,v=u,k=k?_n(k):null,k!==null&&(j=In(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=u),v!==k)){if(_=ff,S="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=gf,S="onPointerLeave",x="onPointerEnter",p="pointer"),j=v==null?g:na(v),y=k==null?g:na(k),g=new _(S,p+"leave",v,r,h),g.target=j,g.relatedTarget=y,S=null,_n(h)===u&&(_=new _(x,p+"enter",k,r,h),_.target=y,_.relatedTarget=j,S=_),j=S,v&&k)t:{for(_=v,x=k,p=0,y=_;y;y=zn(y))p++;for(y=0,S=x;S;S=zn(S))y++;for(;0<p-y;)_=zn(_),p--;for(;0<y-p;)x=zn(x),y--;for(;p--;){if(_===x||x!==null&&_===x.alternate)break t;_=zn(_),x=zn(x)}_=null}else _=null;v!==null&&Sf(f,g,v,_,!1),k!==null&&j!==null&&Sf(f,j,k,_,!0)}}e:{if(g=u?na(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var C=Rv;else if(xf(g))if(L0)C=Iv;else{C=$v;var N=Dv}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Av);if(C&&(C=C(e,u))){I0(f,C,r,h);break e}N&&N(e,g,u),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Sc(g,"number",g.value)}switch(N=u?na(u):window,e){case"focusin":(xf(N)||N.contentEditable==="true")&&(ta=N,Mc=u,gs=null);break;case"focusout":gs=Mc=ta=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,jf(f,r,h);break;case"selectionchange":if(Uv)break;case"keydown":case"keyup":jf(f,r,h)}var E;if(Zd)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ea?$0(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(D0&&r.locale!=="ko"&&(ea||O!=="onCompositionStart"?O==="onCompositionEnd"&&ea&&(E=R0()):(Vr=h,Gd="value"in Vr?Vr.value:Vr.textContent,ea=!0)),N=mo(u,O),0<N.length&&(O=new mf(O,e,null,r,h),f.push({event:O,listeners:N}),E?O.data=E:(E=A0(r),E!==null&&(O.data=E)))),(E=Ev?Cv(e,r):Tv(e,r))&&(u=mo(u,"onBeforeInput"),0<u.length&&(h=new mf("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=E))}K0(f,t)})}function Rs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mo(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ns(e,r),s!=null&&n.unshift(Rs(e,s,a)),s=Ns(e,t),s!=null&&n.push(Rs(e,s,a))),e=e.return}return n}function zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sf(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&u!==null&&(l=u,a?(d=Ns(r,s),d!=null&&o.unshift(Rs(r,d,l))):a||(d=Ns(r,s),d!=null&&o.push(Rs(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var qv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function Ef(e){return(typeof e=="string"?e:""+e).replace(qv,`
`).replace(Bv,"")}function Si(e,t,r){if(t=Ef(t),Ef(e)!==t&&r)throw Error(R(425))}function go(){}var Fc=null,zc=null;function Wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=typeof setTimeout=="function"?setTimeout:void 0,Hv=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(e){return Cf.resolve(null).then(e).catch(Kv)}:qc;function Kv(e){setTimeout(function(){throw e})}function Vl(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cs(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),ir="__reactFiber$"+Ca,Ds="__reactProps$"+Ca,Tr="__reactContainer$"+Ca,Bc="__reactEvents$"+Ca,Yv="__reactListeners$"+Ca,Jv="__reactHandles$"+Ca;function _n(e){var t=e[ir];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tr]||r[ir]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tf(e);e!==null;){if(r=e[ir])return r;e=Tf(e)}return t}e=r,r=e.parentNode}return null}function Vs(e){return e=e[ir]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Bo(e){return e[Ds]||null}var Hc=[],aa=-1;function sn(e){return{current:e}}function fe(e){0>aa||(e.current=Hc[aa],Hc[aa]=null,aa--)}function ce(e,t){aa++,Hc[aa]=e.current,e.current=t}var nn={},Ze=sn(nn),gt=sn(!1),Pn=nn;function va(e,t){var r=e.type.contextTypes;if(!r)return nn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return e=e.childContextTypes,e!=null}function po(){fe(gt),fe(Ze)}function Pf(e,t,r){if(Ze.current!==nn)throw Error(R(168));ce(Ze,t),ce(gt,r)}function J0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(R(108,Dx(e)||"Unknown",a));return je({},r,n)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,Pn=Ze.current,ce(Ze,e),ce(gt,gt.current),!0}function Of(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=J0(e,t,Pn),n.__reactInternalMemoizedMergedChildContext=e,fe(gt),fe(Ze),ce(Ze,e)):fe(gt),ce(gt,r)}var br=null,Ho=!1,Kl=!1;function G0(e){br===null?br=[e]:br.push(e)}function Gv(e){Ho=!0,G0(e)}function on(){if(!Kl&&br!==null){Kl=!0;var e=0,t=ne;try{var r=br;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}br=null,Ho=!1}catch(a){throw br!==null&&(br=br.slice(e+1)),b0(Vd,on),a}finally{ne=t,Kl=!1}}return null}var sa=[],ia=0,xo=null,vo=0,Tt=[],Pt=0,On=null,_r=1,Nr="";function yn(e,t){sa[ia++]=vo,sa[ia++]=xo,xo=e,vo=t}function Q0(e,t,r){Tt[Pt++]=_r,Tt[Pt++]=Nr,Tt[Pt++]=On,On=e;var n=_r;e=Nr;var a=32-Ht(n)-1;n&=~(1<<a),r+=1;var s=32-Ht(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,_r=1<<32-Ht(t)+a|r<<a|n,Nr=s+e}else _r=1<<s|r<<a|n,Nr=e}function tu(e){e.return!==null&&(yn(e,1),Q0(e,1,0))}function ru(e){for(;e===xo;)xo=sa[--ia],sa[ia]=null,vo=sa[--ia],sa[ia]=null;for(;e===On;)On=Tt[--Pt],Tt[Pt]=null,Nr=Tt[--Pt],Tt[Pt]=null,_r=Tt[--Pt],Tt[Pt]=null}var bt=null,wt=null,ge=!1,Bt=null;function X0(e,t){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,wt=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=On!==null?{id:_r,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bt=e,wt=null,!0):!1;default:return!1}}function Vc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kc(e){if(ge){var t=wt;if(t){var r=t;if(!Rf(e,t)){if(Vc(e))throw Error(R(418));t=Qr(r.nextSibling);var n=bt;t&&Rf(e,t)?X0(n,r):(e.flags=e.flags&-4097|2,ge=!1,bt=e)}}else{if(Vc(e))throw Error(R(418));e.flags=e.flags&-4097|2,ge=!1,bt=e}}}function Df(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function Ei(e){if(e!==bt)return!1;if(!ge)return Df(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wc(e.type,e.memoizedProps)),t&&(t=wt)){if(Vc(e))throw Z0(),Error(R(418));for(;t;)X0(e,t),t=Qr(t.nextSibling)}if(Df(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wt=Qr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=bt?Qr(e.stateNode.nextSibling):null;return!0}function Z0(){for(var e=wt;e;)e=Qr(e.nextSibling)}function wa(){wt=bt=null,ge=!1}function nu(e){Bt===null?Bt=[e]:Bt.push(e)}var Qv=Dr.ReactCurrentBatchConfig;function Qa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $f(e){var t=e._init;return t(e._payload)}function eg(e){function t(x,p){if(e){var y=x.deletions;y===null?(x.deletions=[p],x.flags|=16):y.push(p)}}function r(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function n(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=tn(x,p),x.index=0,x.sibling=null,x}function s(x,p,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<p?(x.flags|=2,p):y):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,y,S){return p===null||p.tag!==6?(p=ec(y,x.mode,S),p.return=x,p):(p=a(p,y),p.return=x,p)}function d(x,p,y,S){var C=y.type;return C===Zn?h(x,p,y.props.children,S,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zr&&$f(C)===p.type)?(S=a(p,y.props),S.ref=Qa(x,p,y),S.return=x,S):(S=Qi(y.type,y.key,y.props,null,x.mode,S),S.ref=Qa(x,p,y),S.return=x,S)}function u(x,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=tc(y,x.mode,S),p.return=x,p):(p=a(p,y.children||[]),p.return=x,p)}function h(x,p,y,S,C){return p===null||p.tag!==7?(p=Tn(y,x.mode,S,C),p.return=x,p):(p=a(p,y),p.return=x,p)}function f(x,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ec(""+p,x.mode,y),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case yi:return y=Qi(p.type,p.key,p.props,null,x.mode,y),y.ref=Qa(x,null,p),y.return=x,y;case Xn:return p=tc(p,x.mode,y),p.return=x,p;case zr:var S=p._init;return f(x,S(p._payload),y)}if(is(p)||Va(p))return p=Tn(p,x.mode,y,null),p.return=x,p;Ci(x,p)}return null}function g(x,p,y,S){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(x,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yi:return y.key===C?d(x,p,y,S):null;case Xn:return y.key===C?u(x,p,y,S):null;case zr:return C=y._init,g(x,p,C(y._payload),S)}if(is(y)||Va(y))return C!==null?null:h(x,p,y,S,null);Ci(x,y)}return null}function v(x,p,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(y)||null,l(p,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yi:return x=x.get(S.key===null?y:S.key)||null,d(p,x,S,C);case Xn:return x=x.get(S.key===null?y:S.key)||null,u(p,x,S,C);case zr:var N=S._init;return v(x,p,y,N(S._payload),C)}if(is(S)||Va(S))return x=x.get(y)||null,h(p,x,S,C,null);Ci(p,S)}return null}function k(x,p,y,S){for(var C=null,N=null,E=p,O=p=0,U=null;E!==null&&O<y.length;O++){E.index>O?(U=E,E=null):U=E.sibling;var L=g(x,E,y[O],S);if(L===null){E===null&&(E=U);break}e&&E&&L.alternate===null&&t(x,E),p=s(L,p,O),N===null?C=L:N.sibling=L,N=L,E=U}if(O===y.length)return r(x,E),ge&&yn(x,O),C;if(E===null){for(;O<y.length;O++)E=f(x,y[O],S),E!==null&&(p=s(E,p,O),N===null?C=E:N.sibling=E,N=E);return ge&&yn(x,O),C}for(E=n(x,E);O<y.length;O++)U=v(E,x,O,y[O],S),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?O:U.key),p=s(U,p,O),N===null?C=U:N.sibling=U,N=U);return e&&E.forEach(function(ye){return t(x,ye)}),ge&&yn(x,O),C}function _(x,p,y,S){var C=Va(y);if(typeof C!="function")throw Error(R(150));if(y=C.call(y),y==null)throw Error(R(151));for(var N=C=null,E=p,O=p=0,U=null,L=y.next();E!==null&&!L.done;O++,L=y.next()){E.index>O?(U=E,E=null):U=E.sibling;var ye=g(x,E,L.value,S);if(ye===null){E===null&&(E=U);break}e&&E&&ye.alternate===null&&t(x,E),p=s(ye,p,O),N===null?C=ye:N.sibling=ye,N=ye,E=U}if(L.done)return r(x,E),ge&&yn(x,O),C;if(E===null){for(;!L.done;O++,L=y.next())L=f(x,L.value,S),L!==null&&(p=s(L,p,O),N===null?C=L:N.sibling=L,N=L);return ge&&yn(x,O),C}for(E=n(x,E);!L.done;O++,L=y.next())L=v(E,x,O,L.value,S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?O:L.key),p=s(L,p,O),N===null?C=L:N.sibling=L,N=L);return e&&E.forEach(function(We){return t(x,We)}),ge&&yn(x,O),C}function j(x,p,y,S){if(typeof y=="object"&&y!==null&&y.type===Zn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case yi:e:{for(var C=y.key,N=p;N!==null;){if(N.key===C){if(C=y.type,C===Zn){if(N.tag===7){r(x,N.sibling),p=a(N,y.props.children),p.return=x,x=p;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zr&&$f(C)===N.type){r(x,N.sibling),p=a(N,y.props),p.ref=Qa(x,N,y),p.return=x,x=p;break e}r(x,N);break}else t(x,N);N=N.sibling}y.type===Zn?(p=Tn(y.props.children,x.mode,S,y.key),p.return=x,x=p):(S=Qi(y.type,y.key,y.props,null,x.mode,S),S.ref=Qa(x,p,y),S.return=x,x=S)}return o(x);case Xn:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(x,p.sibling),p=a(p,y.children||[]),p.return=x,x=p;break e}else{r(x,p);break}else t(x,p);p=p.sibling}p=tc(y,x.mode,S),p.return=x,x=p}return o(x);case zr:return N=y._init,j(x,p,N(y._payload),S)}if(is(y))return k(x,p,y,S);if(Va(y))return _(x,p,y,S);Ci(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(x,p.sibling),p=a(p,y),p.return=x,x=p):(r(x,p),p=ec(y,x.mode,S),p.return=x,x=p),o(x)):r(x,p)}return j}var ba=eg(!0),tg=eg(!1),wo=sn(null),bo=null,oa=null,au=null;function su(){au=oa=bo=null}function iu(e){var t=wo.current;fe(wo),e._currentValue=t}function Yc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ma(e,t){bo=e,au=oa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(au!==e)if(e={context:e,memoizedValue:t,next:null},oa===null){if(bo===null)throw Error(R(308));oa=e,bo.dependencies={lanes:0,firstContext:e}}else oa=oa.next=e;return t}var Nn=null;function ou(e){Nn===null?Nn=[e]:Nn.push(e)}function rg(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ou(t)):(r.next=a.next,a.next=r),t.interleaved=r,Pr(e,n)}function Pr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wr=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Pr(e,r)}return a=n.interleaved,a===null?(t.next=t,ou(n)):(t.next=a.next,a.next=t),n.interleaved=t,Pr(e,r)}function Hi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kd(e,r)}}function Af(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ko(e,t,r,n){var a=e.updateQueue;Wr=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?s=u:o.next=u,o=d;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(s!==null){var f=a.baseState;o=0,h=u=d=null,l=s;do{var g=l.lane,v=l.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=e,_=l;switch(g=t,v=r,_.tag){case 1:if(k=_.payload,typeof k=="function"){f=k.call(v,f,g);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=_.payload,g=typeof k=="function"?k.call(v,f,g):k,g==null)break e;f=je({},f,g);break e;case 2:Wr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,d=f):h=h.next=v,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(1);if(h===null&&(d=f),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Dn|=o,e.lanes=o,e.memoizedState=f}}function If(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(R(191,a));a.call(n)}}}var Ks={},ur=sn(Ks),$s=sn(Ks),As=sn(Ks);function Sn(e){if(e===Ks)throw Error(R(174));return e}function cu(e,t){switch(ce(As,t),ce($s,e),ce(ur,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cc(t,e)}fe(ur),ce(ur,t)}function ka(){fe(ur),fe($s),fe(As)}function ag(e){Sn(As.current);var t=Sn(ur.current),r=Cc(t,e.type);t!==r&&(ce($s,e),ce(ur,r))}function du(e){$s.current===e&&(fe(ur),fe($s))}var be=sn(0);function jo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function uu(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var Vi=Dr.ReactCurrentDispatcher,Jl=Dr.ReactCurrentBatchConfig,Rn=0,ke=null,Le=null,Fe=null,_o=!1,ps=!1,Is=0,Xv=0;function Ge(){throw Error(R(321))}function hu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function fu(e,t,r,n,a,s){if(Rn=s,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vi.current=e===null||e.memoizedState===null?rw:nw,e=r(n,a),ps){s=0;do{if(ps=!1,Is=0,25<=s)throw Error(R(301));s+=1,Fe=Le=null,t.updateQueue=null,Vi.current=aw,e=r(n,a)}while(ps)}if(Vi.current=No,t=Le!==null&&Le.next!==null,Rn=0,Fe=Le=ke=null,_o=!1,t)throw Error(R(300));return e}function mu(){var e=Is!==0;return Is=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ke.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function At(){if(Le===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Fe===null?ke.memoizedState:Fe.next;if(t!==null)Fe=t,Le=e;else{if(e===null)throw Error(R(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Fe===null?ke.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Ls(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=At(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=Le,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,d=null,u=s;do{var h=u.lane;if((Rn&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=f,o=n):d=d.next=f,ke.lanes|=h,Dn|=h}u=u.next}while(u!==null&&u!==s);d===null?o=n:d.next=l,Kt(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,ke.lanes|=s,Dn|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ql(e){var t=At(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Kt(s,t.memoizedState)||(mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function sg(){}function ig(e,t){var r=ke,n=At(),a=t(),s=!Kt(n.memoizedState,a);if(s&&(n.memoizedState=a,mt=!0),n=n.queue,gu(cg.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,Ms(9,lg.bind(null,r,n,a,t),void 0,null),ze===null)throw Error(R(349));Rn&30||og(r,t,a)}return a}function og(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lg(e,t,r,n){t.value=r,t.getSnapshot=n,dg(t)&&ug(e)}function cg(e,t,r){return r(function(){dg(t)&&ug(e)})}function dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function ug(e){var t=Pr(e,1);t!==null&&Vt(t,e,1,-1)}function Lf(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:e},t.queue=e,e=e.dispatch=tw.bind(null,ke,e),[t.memoizedState,e]}function Ms(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hg(){return At().memoizedState}function Ki(e,t,r,n){var a=ar();ke.flags|=e,a.memoizedState=Ms(1|t,r,void 0,n===void 0?null:n)}function Vo(e,t,r,n){var a=At();n=n===void 0?null:n;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,n!==null&&hu(n,o.deps)){a.memoizedState=Ms(t,r,s,n);return}}ke.flags|=e,a.memoizedState=Ms(1|t,r,s,n)}function Mf(e,t){return Ki(8390656,8,e,t)}function gu(e,t){return Vo(2048,8,e,t)}function fg(e,t){return Vo(4,2,e,t)}function mg(e,t){return Vo(4,4,e,t)}function gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pg(e,t,r){return r=r!=null?r.concat([e]):null,Vo(4,4,gg.bind(null,t,e),r)}function pu(){}function yg(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xg(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vg(e,t,r){return Rn&21?(Kt(r,t)||(r=_0(),ke.lanes|=r,Dn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function Zv(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Jl.transition;Jl.transition={};try{e(!1),t()}finally{ne=r,Jl.transition=n}}function wg(){return At().memoizedState}function ew(e,t,r){var n=en(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bg(e))kg(t,r);else if(r=rg(e,t,r,n),r!==null){var a=ot();Vt(r,e,n,a),jg(r,t,n)}}function tw(e,t,r){var n=en(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bg(e))kg(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Kt(l,o)){var d=t.interleaved;d===null?(a.next=a,ou(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=rg(e,t,a,n),r!==null&&(a=ot(),Vt(r,e,n,a),jg(r,t,n))}}function bg(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function kg(e,t){ps=_o=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kd(e,r)}}var No={readContext:$t,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},rw={readContext:$t,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Mf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ki(4194308,4,gg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ki(4,2,e,t)},useMemo:function(e,t){var r=ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ar();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ew.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:Lf,useDebugValue:pu,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=Lf(!1),t=e[0];return e=Zv.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ke,a=ar();if(ge){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),ze===null)throw Error(R(349));Rn&30||og(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Mf(cg.bind(null,n,s,e),[e]),n.flags|=2048,Ms(9,lg.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ar(),t=ze.identifierPrefix;if(ge){var r=Nr,n=_r;r=(n&~(1<<32-Ht(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Is++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Xv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nw={readContext:$t,useCallback:yg,useContext:$t,useEffect:gu,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:mg,useMemo:xg,useReducer:Gl,useRef:hg,useState:function(){return Gl(Ls)},useDebugValue:pu,useDeferredValue:function(e){var t=At();return vg(t,Le.memoizedState,e)},useTransition:function(){var e=Gl(Ls)[0],t=At().memoizedState;return[e,t]},useMutableSource:sg,useSyncExternalStore:ig,useId:wg,unstable_isNewReconciler:!1},aw={readContext:$t,useCallback:yg,useContext:$t,useEffect:gu,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:mg,useMemo:xg,useReducer:Ql,useRef:hg,useState:function(){return Ql(Ls)},useDebugValue:pu,useDeferredValue:function(e){var t=At();return Le===null?t.memoizedState=e:vg(t,Le.memoizedState,e)},useTransition:function(){var e=Ql(Ls)[0],t=At().memoizedState;return[e,t]},useMutableSource:sg,useSyncExternalStore:ig,useId:wg,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ko={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ot(),a=en(e),s=Sr(n,a);s.payload=t,r!=null&&(s.callback=r),t=Xr(e,s,a),t!==null&&(Vt(t,e,a,n),Hi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ot(),a=en(e),s=Sr(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Xr(e,s,a),t!==null&&(Vt(t,e,a,n),Hi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),n=en(e),a=Sr(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xr(e,a,n),t!==null&&(Vt(t,e,n,r),Hi(t,e,n))}};function Uf(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ps(r,n)||!Ps(a,s):!0}function _g(e,t,r){var n=!1,a=nn,s=t.contextType;return typeof s=="object"&&s!==null?s=$t(s):(a=pt(t)?Pn:Ze.current,n=t.contextTypes,s=(n=n!=null)?va(e,a):nn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ko,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ff(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ko.enqueueReplaceState(t,t.state,null)}function Gc(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},lu(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=$t(s):(s=pt(t)?Pn:Ze.current,a.context=va(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Jc(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ko.enqueueReplaceState(a,a.state,null),ko(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ja(e,t){try{var r="",n=t;do r+=Rx(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Xl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function Ng(e,t,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eo||(Eo=!0,od=n),Qc(e,t)},r}function Sg(e,t,r){r=Sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Qc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Qc(e,t),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function zf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sw;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=vw.bind(null,e,t,r),t.then(e,e))}function Wf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qf(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sr(-1,1),t.tag=2,Xr(r,t,1))),r.lanes|=1),e)}var iw=Dr.ReactCurrentOwner,mt=!1;function it(e,t,r,n){t.child=e===null?tg(t,null,r,n):ba(t,e.child,r,n)}function Bf(e,t,r,n,a){r=r.render;var s=t.ref;return ma(t,a),n=fu(e,t,r,n,s,a),r=mu(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Or(e,t,a)):(ge&&r&&tu(t),t.flags|=1,it(e,t,n,a),t.child)}function Hf(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!_u(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Eg(e,t,s,n,a)):(e=Qi(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ps,r(o,n)&&e.ref===t.ref)return Or(e,t,a)}return t.flags|=1,e=tn(s,n),e.ref=t.ref,e.return=t,t.child=e}function Eg(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ps(s,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Or(e,t,a)}return Xc(e,t,r,n,a)}function Cg(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ca,vt),vt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(ca,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ce(ca,vt),vt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ce(ca,vt),vt|=n;return it(e,t,a,r),t.child}function Tg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xc(e,t,r,n,a){var s=pt(r)?Pn:Ze.current;return s=va(t,s),ma(t,a),r=fu(e,t,r,n,s,a),n=mu(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Or(e,t,a)):(ge&&n&&tu(t),t.flags|=1,it(e,t,r,a),t.child)}function Vf(e,t,r,n,a){if(pt(r)){var s=!0;yo(t)}else s=!1;if(ma(t,a),t.stateNode===null)Yi(e,t),_g(t,r,n),Gc(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=pt(r)?Pn:Ze.current,u=va(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==u)&&Ff(t,o,n,u),Wr=!1;var g=t.memoizedState;o.state=g,ko(t,n,o,a),d=t.memoizedState,l!==n||g!==d||gt.current||Wr?(typeof h=="function"&&(Jc(t,r,h,n),d=t.memoizedState),(l=Wr||Uf(t,r,l,n,g,d,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ng(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zt(t.type,l),o.props=u,f=t.pendingProps,g=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=$t(d):(d=pt(r)?Pn:Ze.current,d=va(t,d));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==d)&&Ff(t,o,n,d),Wr=!1,g=t.memoizedState,o.state=g,ko(t,n,o,a);var k=t.memoizedState;l!==f||g!==k||gt.current||Wr?(typeof v=="function"&&(Jc(t,r,v,n),k=t.memoizedState),(u=Wr||Uf(t,r,u,n,g,k,d)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),o.props=n,o.state=k,o.context=d,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Zc(e,t,r,n,s,a)}function Zc(e,t,r,n,a,s){Tg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Of(t,r,!1),Or(e,t,s);n=t.stateNode,iw.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ba(t,e.child,null,s),t.child=ba(t,null,l,s)):it(e,t,l,s),t.memoizedState=n.state,a&&Of(t,r,!0),t.child}function Pg(e){var t=e.stateNode;t.pendingContext?Pf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pf(e,t.context,!1),cu(e,t.containerInfo)}function Kf(e,t,r,n,a){return wa(),nu(a),t.flags|=256,it(e,t,r,n),t.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,r){var n=t.pendingProps,a=be.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ce(be,a&1),e===null)return Kc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Go(o,n,0,null),e=Tn(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=td(r),t.memoizedState=ed,e):yu(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return ow(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=tn(a,d),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=tn(l,s):(s=Tn(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?td(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=ed,n}return s=e.child,e=s.sibling,n=tn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yu(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,r,n){return n!==null&&nu(n),ba(t,e.child,null,r),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ow(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Xl(Error(R(422))),Ti(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Go({mode:"visible",children:n.children},a,0,null),s=Tn(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ba(t,e.child,null,o),t.child.memoizedState=td(o),t.memoizedState=ed,s);if(!(t.mode&1))return Ti(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(R(419)),n=Xl(s,n,void 0),Ti(e,t,o,n)}if(l=(o&e.childLanes)!==0,mt||l){if(n=ze,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Pr(e,a),Vt(n,e,a,-1))}return ju(),n=Xl(Error(R(421))),Ti(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ww.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,wt=Qr(a.nextSibling),bt=t,ge=!0,Bt=null,e!==null&&(Tt[Pt++]=_r,Tt[Pt++]=Nr,Tt[Pt++]=On,_r=e.id,Nr=e.overflow,On=t),t=yu(t,n.children),t.flags|=4096,t)}function Yf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yc(e.return,t,r)}function Zl(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Rg(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(it(e,t,n.children,r),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,r,t);else if(e.tag===19)Yf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ce(be,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&jo(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Zl(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&jo(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Zl(t,!0,r,null,s);break;case"together":Zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=tn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lw(e,t,r){switch(t.tag){case 3:Pg(t),wa();break;case 5:ag(t);break;case 1:pt(t.type)&&yo(t);break;case 4:cu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ce(wo,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ce(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?Og(e,t,r):(ce(be,be.current&1),e=Or(e,t,r),e!==null?e.sibling:null);ce(be,be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Rg(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ce(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,Cg(e,t,r)}return Or(e,t,r)}var Dg,rd,$g,Ag;Dg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rd=function(){};$g=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Sn(ur.current);var s=null;switch(r){case"input":a=_c(e,a),n=_c(e,n),s=[];break;case"select":a=je({},a,{value:void 0}),n=je({},n,{value:void 0}),s=[];break;case"textarea":a=Ec(e,a),n=Ec(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=go)}Tc(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(js.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var d=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(s||(s=[]),s.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(s=s||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(js.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&he("scroll",e),s||l===d||(s=[])):(s=s||[]).push(u,d))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ag=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xa(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cw(e,t,r){var n=t.pendingProps;switch(ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return pt(t.type)&&po(),Qe(t),null;case 3:return n=t.stateNode,ka(),fe(gt),fe(Ze),uu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(dd(Bt),Bt=null))),rd(e,t),Qe(t),null;case 5:du(t);var a=Sn(As.current);if(r=t.type,e!==null&&t.stateNode!=null)$g(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return Qe(t),null}if(e=Sn(ur.current),Ei(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ir]=t,n[Ds]=s,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(a=0;a<ls.length;a++)he(ls[a],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":rf(n,s),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},he("invalid",n);break;case"textarea":af(n,s),he("invalid",n)}Tc(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Si(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Si(n.textContent,l,e),a=["children",""+l]):js.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":xi(n),nf(n,s,!0);break;case"textarea":xi(n),sf(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=go)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=c0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ir]=t,e[Ds]=n,Dg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pc(r,n),r){case"dialog":he("cancel",e),he("close",e),a=n;break;case"iframe":case"object":case"embed":he("load",e),a=n;break;case"video":case"audio":for(a=0;a<ls.length;a++)he(ls[a],e);a=n;break;case"source":he("error",e),a=n;break;case"img":case"image":case"link":he("error",e),he("load",e),a=n;break;case"details":he("toggle",e),a=n;break;case"input":rf(e,n),a=_c(e,n),he("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=je({},n,{value:void 0}),he("invalid",e);break;case"textarea":af(e,n),a=Ec(e,n),he("invalid",e);break;default:a=n}Tc(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];s==="style"?h0(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&d0(e,d)):s==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&_s(e,d):typeof d=="number"&&_s(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(js.hasOwnProperty(s)?d!=null&&s==="onScroll"&&he("scroll",e):d!=null&&zd(e,s,d,o))}switch(r){case"input":xi(e),nf(e,n,!1);break;case"textarea":xi(e),sf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?da(e,!!n.multiple,s,!1):n.defaultValue!=null&&da(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=go)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Ag(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=Sn(As.current),Sn(ur.current),Ei(t)){if(n=t.stateNode,r=t.memoizedProps,n[ir]=t,(s=n.nodeValue!==r)&&(e=bt,e!==null))switch(e.tag){case 3:Si(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Si(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ir]=t,t.stateNode=n}return Qe(t),null;case 13:if(fe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&wt!==null&&t.mode&1&&!(t.flags&128))Z0(),wa(),t.flags|=98560,s=!1;else if(s=Ei(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[ir]=t}else wa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),s=!1}else Bt!==null&&(dd(Bt),Bt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Me===0&&(Me=3):ju())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return ka(),rd(e,t),e===null&&Os(t.stateNode.containerInfo),Qe(t),null;case 10:return iu(t.type._context),Qe(t),null;case 17:return pt(t.type)&&po(),Qe(t),null;case 19:if(fe(be),s=t.memoizedState,s===null)return Qe(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Xa(s,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jo(e),o!==null){for(t.flags|=128,Xa(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ce()>_a&&(t.flags|=128,n=!0,Xa(s,!1),t.lanes=4194304)}else{if(!n)if(e=jo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return Qe(t),null}else 2*Ce()-s.renderingStartTime>_a&&r!==1073741824&&(t.flags|=128,n=!0,Xa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ce(),t.sibling=null,r=be.current,ce(be,n?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return ku(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function dw(e,t){switch(ru(t),t.tag){case 1:return pt(t.type)&&po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ka(),fe(gt),fe(Ze),uu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return du(t),null;case 13:if(fe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));wa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(be),null;case 4:return ka(),null;case 10:return iu(t.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Pi=!1,Xe=!1,uw=typeof WeakSet=="function"?WeakSet:Set,M=null;function la(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(e,t,n)}else r.current=null}function nd(e,t,r){try{r()}catch(n){Se(e,t,n)}}var Jf=!1;function hw(e,t){if(Fc=ho,e=F0(),eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,u=0,h=0,f=e,g=null;t:for(;;){for(var v;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(d=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===e)break t;if(g===r&&++u===a&&(l=o),g===s&&++h===n&&(d=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(zc={focusedElem:e,selectionRange:r},ho=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var _=k.memoizedProps,j=k.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?_:zt(t.type,_),j);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return k=Jf,Jf=!1,k}function ys(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&nd(t,r,s)}a=a.next}while(a!==n)}}function Yo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ad(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ig(e){var t=e.alternate;t!==null&&(e.alternate=null,Ig(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[Ds],delete t[Bc],delete t[Yv],delete t[Jv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lg(e){return e.tag===5||e.tag===3||e.tag===4}function Gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=go));else if(n!==4&&(e=e.child,e!==null))for(sd(e,t,r),e=e.sibling;e!==null;)sd(e,t,r),e=e.sibling}function id(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(id(e,t,r),e=e.sibling;e!==null;)id(e,t,r),e=e.sibling}var Be=null,Wt=!1;function Ir(e,t,r){for(r=r.child;r!==null;)Mg(e,t,r),r=r.sibling}function Mg(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Fo,r)}catch{}switch(r.tag){case 5:Xe||la(r,t);case 6:var n=Be,a=Wt;Be=null,Ir(e,t,r),Be=n,Wt=a,Be!==null&&(Wt?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Wt?(e=Be,r=r.stateNode,e.nodeType===8?Vl(e.parentNode,r):e.nodeType===1&&Vl(e,r),Cs(e)):Vl(Be,r.stateNode));break;case 4:n=Be,a=Wt,Be=r.stateNode.containerInfo,Wt=!0,Ir(e,t,r),Be=n,Wt=a;break;case 0:case 11:case 14:case 15:if(!Xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nd(r,t,o),a=a.next}while(a!==n)}Ir(e,t,r);break;case 1:if(!Xe&&(la(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Se(r,t,l)}Ir(e,t,r);break;case 21:Ir(e,t,r);break;case 22:r.mode&1?(Xe=(n=Xe)||r.memoizedState!==null,Ir(e,t,r),Xe=n):Ir(e,t,r);break;default:Ir(e,t,r)}}function Qf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uw),t.forEach(function(n){var a=bw.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Wt=!1;break e;case 3:Be=l.stateNode.containerInfo,Wt=!0;break e;case 4:Be=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(Be===null)throw Error(R(160));Mg(s,o,a),Be=null,Wt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){Se(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ug(t,e),t=t.sibling}function Ug(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),rr(e),n&4){try{ys(3,e,e.return),Yo(3,e)}catch(_){Se(e,e.return,_)}try{ys(5,e,e.return)}catch(_){Se(e,e.return,_)}}break;case 1:Mt(t,e),rr(e),n&512&&r!==null&&la(r,r.return);break;case 5:if(Mt(t,e),rr(e),n&512&&r!==null&&la(r,r.return),e.flags&32){var a=e.stateNode;try{_s(a,"")}catch(_){Se(e,e.return,_)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&o0(a,s),Pc(l,o);var u=Pc(l,s);for(o=0;o<d.length;o+=2){var h=d[o],f=d[o+1];h==="style"?h0(a,f):h==="dangerouslySetInnerHTML"?d0(a,f):h==="children"?_s(a,f):zd(a,h,f,u)}switch(l){case"input":Nc(a,s);break;case"textarea":l0(a,s);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?da(a,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?da(a,!!s.multiple,s.defaultValue,!0):da(a,!!s.multiple,s.multiple?[]:"",!1))}a[Ds]=s}catch(_){Se(e,e.return,_)}}break;case 6:if(Mt(t,e),rr(e),n&4){if(e.stateNode===null)throw Error(R(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(_){Se(e,e.return,_)}}break;case 3:if(Mt(t,e),rr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(_){Se(e,e.return,_)}break;case 4:Mt(t,e),rr(e);break;case 13:Mt(t,e),rr(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(wu=Ce())),n&4&&Qf(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Xe=(u=Xe)||h,Mt(t,e),Xe=u):Mt(t,e),rr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(M=e,h=e.child;h!==null;){for(f=M=h;M!==null;){switch(g=M,v=g.child,g.tag){case 0:case 11:case 14:case 15:ys(4,g,g.return);break;case 1:la(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(_){Se(n,r,_)}}break;case 5:la(g,g.return);break;case 22:if(g.memoizedState!==null){Zf(f);continue}}v!==null?(v.return=g,M=v):Zf(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,d=f.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=u0("display",o))}catch(_){Se(e,e.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Se(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mt(t,e),rr(e),n&4&&Qf(e);break;case 21:break;default:Mt(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Lg(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_s(a,""),n.flags&=-33);var s=Gf(e);id(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Gf(e);sd(e,l,o);break;default:throw Error(R(161))}}catch(d){Se(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fw(e,t,r){M=e,Fg(e)}function Fg(e,t,r){for(var n=(e.mode&1)!==0;M!==null;){var a=M,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Pi;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Xe;l=Pi;var u=Xe;if(Pi=o,(Xe=d)&&!u)for(M=a;M!==null;)o=M,d=o.child,o.tag===22&&o.memoizedState!==null?em(a):d!==null?(d.return=o,M=d):em(a);for(;s!==null;)M=s,Fg(s),s=s.sibling;M=a,Pi=l,Xe=u}Xf(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,M=s):Xf(e)}}function Xf(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Yo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xe)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&If(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}If(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Cs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Xe||t.flags&512&&ad(t)}catch(g){Se(t,t.return,g)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function Zf(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function em(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yo(4,t)}catch(d){Se(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){Se(t,a,d)}}var s=t.return;try{ad(t)}catch(d){Se(t,s,d)}break;case 5:var o=t.return;try{ad(t)}catch(d){Se(t,o,d)}}}catch(d){Se(t,t.return,d)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var mw=Math.ceil,So=Dr.ReactCurrentDispatcher,xu=Dr.ReactCurrentOwner,Rt=Dr.ReactCurrentBatchConfig,Z=0,ze=null,De=null,He=0,vt=0,ca=sn(0),Me=0,Us=null,Dn=0,Jo=0,vu=0,xs=null,ht=null,wu=0,_a=1/0,vr=null,Eo=!1,od=null,Zr=null,Oi=!1,Kr=null,Co=0,vs=0,ld=null,Ji=-1,Gi=0;function ot(){return Z&6?Ce():Ji!==-1?Ji:Ji=Ce()}function en(e){return e.mode&1?Z&2&&He!==0?He&-He:Qv.transition!==null?(Gi===0&&(Gi=_0()),Gi):(e=ne,e!==0||(e=window.event,e=e===void 0?16:O0(e.type)),e):1}function Vt(e,t,r,n){if(50<vs)throw vs=0,ld=null,Error(R(185));Bs(e,r,n),(!(Z&2)||e!==ze)&&(e===ze&&(!(Z&2)&&(Jo|=r),Me===4&&Br(e,He)),yt(e,n),r===1&&Z===0&&!(t.mode&1)&&(_a=Ce()+500,Ho&&on()))}function yt(e,t){var r=e.callbackNode;Qx(e,t);var n=uo(e,e===ze?He:0);if(n===0)r!==null&&cf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cf(r),t===1)e.tag===0?Gv(tm.bind(null,e)):G0(tm.bind(null,e)),Vv(function(){!(Z&6)&&on()}),r=null;else{switch(N0(n)){case 1:r=Vd;break;case 4:r=k0;break;case 16:r=co;break;case 536870912:r=j0;break;default:r=co}r=Yg(r,zg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zg(e,t){if(Ji=-1,Gi=0,Z&6)throw Error(R(327));var r=e.callbackNode;if(ga()&&e.callbackNode!==r)return null;var n=uo(e,e===ze?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=To(e,n);else{t=n;var a=Z;Z|=2;var s=qg();(ze!==e||He!==t)&&(vr=null,_a=Ce()+500,Cn(e,t));do try{yw();break}catch(l){Wg(e,l)}while(1);su(),So.current=s,Z=a,De!==null?t=0:(ze=null,He=0,t=Me)}if(t!==0){if(t===2&&(a=Ac(e),a!==0&&(n=a,t=cd(e,a))),t===1)throw r=Us,Cn(e,0),Br(e,n),yt(e,Ce()),r;if(t===6)Br(e,n);else{if(a=e.current.alternate,!(n&30)&&!gw(a)&&(t=To(e,n),t===2&&(s=Ac(e),s!==0&&(n=s,t=cd(e,s))),t===1))throw r=Us,Cn(e,0),Br(e,n),yt(e,Ce()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:xn(e,ht,vr);break;case 3:if(Br(e,n),(n&130023424)===n&&(t=wu+500-Ce(),10<t)){if(uo(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qc(xn.bind(null,e,ht,vr),t);break}xn(e,ht,vr);break;case 4:if(Br(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ht(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mw(n/1960))-n,10<n){e.timeoutHandle=qc(xn.bind(null,e,ht,vr),n);break}xn(e,ht,vr);break;case 5:xn(e,ht,vr);break;default:throw Error(R(329))}}}return yt(e,Ce()),e.callbackNode===r?zg.bind(null,e):null}function cd(e,t){var r=xs;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=To(e,t),e!==2&&(t=ht,ht=r,t!==null&&dd(t)),e}function dd(e){ht===null?ht=e:ht.push.apply(ht,e)}function gw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Kt(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~vu,t&=~Jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),n=1<<r;e[r]=-1,t&=~n}}function tm(e){if(Z&6)throw Error(R(327));ga();var t=uo(e,0);if(!(t&1))return yt(e,Ce()),null;var r=To(e,t);if(e.tag!==0&&r===2){var n=Ac(e);n!==0&&(t=n,r=cd(e,n))}if(r===1)throw r=Us,Cn(e,0),Br(e,t),yt(e,Ce()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,ht,vr),yt(e,Ce()),null}function bu(e,t){var r=Z;Z|=1;try{return e(t)}finally{Z=r,Z===0&&(_a=Ce()+500,Ho&&on())}}function $n(e){Kr!==null&&Kr.tag===0&&!(Z&6)&&ga();var t=Z;Z|=1;var r=Rt.transition,n=ne;try{if(Rt.transition=null,ne=1,e)return e()}finally{ne=n,Rt.transition=r,Z=t,!(Z&6)&&on()}}function ku(){vt=ca.current,fe(ca)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hv(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(ru(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&po();break;case 3:ka(),fe(gt),fe(Ze),uu();break;case 5:du(n);break;case 4:ka();break;case 13:fe(be);break;case 19:fe(be);break;case 10:iu(n.type._context);break;case 22:case 23:ku()}r=r.return}if(ze=e,De=e=tn(e.current,null),He=vt=t,Me=0,Us=null,vu=Jo=Dn=0,ht=xs=null,Nn!==null){for(t=0;t<Nn.length;t++)if(r=Nn[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Nn=null}return e}function Wg(e,t){do{var r=De;try{if(su(),Vi.current=No,_o){for(var n=ke.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_o=!1}if(Rn=0,Fe=Le=ke=null,ps=!1,Is=0,xu.current=null,r===null||r.return===null){Me=1,Us=t,De=null;break}e:{var s=e,o=r.return,l=r,d=t;if(t=He,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Wf(o);if(v!==null){v.flags&=-257,qf(v,o,l,s,t),v.mode&1&&zf(s,u,t),t=v,d=u;var k=t.updateQueue;if(k===null){var _=new Set;_.add(d),t.updateQueue=_}else k.add(d);break e}else{if(!(t&1)){zf(s,u,t),ju();break e}d=Error(R(426))}}else if(ge&&l.mode&1){var j=Wf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),qf(j,o,l,s,t),nu(ja(d,l));break e}}s=d=ja(d,l),Me!==4&&(Me=2),xs===null?xs=[s]:xs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Ng(s,d,t);Af(s,x);break e;case 1:l=d;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zr===null||!Zr.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Sg(s,l,t);Af(s,S);break e}}s=s.return}while(s!==null)}Hg(r)}catch(C){t=C,De===r&&r!==null&&(De=r=r.return);continue}break}while(1)}function qg(){var e=So.current;return So.current=No,e===null?No:e}function ju(){(Me===0||Me===3||Me===2)&&(Me=4),ze===null||!(Dn&268435455)&&!(Jo&268435455)||Br(ze,He)}function To(e,t){var r=Z;Z|=2;var n=qg();(ze!==e||He!==t)&&(vr=null,Cn(e,t));do try{pw();break}catch(a){Wg(e,a)}while(1);if(su(),Z=r,So.current=n,De!==null)throw Error(R(261));return ze=null,He=0,Me}function pw(){for(;De!==null;)Bg(De)}function yw(){for(;De!==null&&!Wx();)Bg(De)}function Bg(e){var t=Kg(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Hg(e):De=t,xu.current=null}function Hg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dw(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,De=null;return}}else if(r=cw(r,t,vt),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Me===0&&(Me=5)}function xn(e,t,r){var n=ne,a=Rt.transition;try{Rt.transition=null,ne=1,xw(e,t,r,n)}finally{Rt.transition=a,ne=n}return null}function xw(e,t,r,n){do ga();while(Kr!==null);if(Z&6)throw Error(R(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Xx(e,s),e===ze&&(De=ze=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Oi||(Oi=!0,Yg(co,function(){return ga(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Rt.transition,Rt.transition=null;var o=ne;ne=1;var l=Z;Z|=4,xu.current=null,hw(e,r),Ug(r,e),Mv(zc),ho=!!Fc,zc=Fc=null,e.current=r,fw(r),qx(),Z=l,ne=o,Rt.transition=s}else e.current=r;if(Oi&&(Oi=!1,Kr=e,Co=a),s=e.pendingLanes,s===0&&(Zr=null),Vx(r.stateNode),yt(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Eo)throw Eo=!1,e=od,od=null,e;return Co&1&&e.tag!==0&&ga(),s=e.pendingLanes,s&1?e===ld?vs++:(vs=0,ld=e):vs=0,on(),null}function ga(){if(Kr!==null){var e=N0(Co),t=Rt.transition,r=ne;try{if(Rt.transition=null,ne=16>e?16:e,Kr===null)var n=!1;else{if(e=Kr,Kr=null,Co=0,Z&6)throw Error(R(331));var a=Z;for(Z|=4,M=e.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var l=s.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(M=u;M!==null;){var h=M;switch(h.tag){case 0:case 11:case 15:ys(8,h,s)}var f=h.child;if(f!==null)f.return=h,M=f;else for(;M!==null;){h=M;var g=h.sibling,v=h.return;if(Ig(h),h===u){M=null;break}if(g!==null){g.return=v,M=g;break}M=v}}}var k=s.alternate;if(k!==null){var _=k.child;if(_!==null){k.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ys(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,M=x;break e}M=s.return}}var p=e.current;for(M=p;M!==null;){o=M;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,M=y;else e:for(o=p;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yo(9,l)}}catch(C){Se(l,l.return,C)}if(l===o){M=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,M=S;break e}M=l.return}}if(Z=a,on(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Fo,e)}catch{}n=!0}return n}finally{ne=r,Rt.transition=t}}return!1}function rm(e,t,r){t=ja(r,t),t=Ng(e,t,1),e=Xr(e,t,1),t=ot(),e!==null&&(Bs(e,1,t),yt(e,t))}function Se(e,t,r){if(e.tag===3)rm(e,e,r);else for(;t!==null;){if(t.tag===3){rm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){e=ja(r,e),e=Sg(t,e,1),t=Xr(t,e,1),e=ot(),t!==null&&(Bs(t,1,e),yt(t,e));break}}t=t.return}}function vw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,ze===e&&(He&r)===r&&(Me===4||Me===3&&(He&130023424)===He&&500>Ce()-wu?Cn(e,0):vu|=r),yt(e,t)}function Vg(e,t){t===0&&(e.mode&1?(t=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):t=1);var r=ot();e=Pr(e,t),e!==null&&(Bs(e,t,r),yt(e,r))}function ww(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vg(e,r)}function bw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Vg(e,r)}var Kg;Kg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,lw(e,t,r);mt=!!(e.flags&131072)}else mt=!1,ge&&t.flags&1048576&&Q0(t,vo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yi(e,t),e=t.pendingProps;var a=va(t,Ze.current);ma(t,r),a=fu(null,t,n,e,a,r);var s=mu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(n)?(s=!0,yo(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,lu(t),a.updater=Ko,t.stateNode=a,a._reactInternals=t,Gc(t,n,e,r),t=Zc(null,t,n,!0,s,r)):(t.tag=0,ge&&s&&tu(t),it(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=jw(n),e=zt(n,e),a){case 0:t=Xc(null,t,n,e,r);break e;case 1:t=Vf(null,t,n,e,r);break e;case 11:t=Bf(null,t,n,e,r);break e;case 14:t=Hf(null,t,n,zt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Xc(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Vf(e,t,n,a,r);case 3:e:{if(Pg(t),e===null)throw Error(R(387));n=t.pendingProps,s=t.memoizedState,a=s.element,ng(e,t),ko(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=ja(Error(R(423)),t),t=Kf(e,t,n,r,a);break e}else if(n!==a){a=ja(Error(R(424)),t),t=Kf(e,t,n,r,a);break e}else for(wt=Qr(t.stateNode.containerInfo.firstChild),bt=t,ge=!0,Bt=null,r=tg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wa(),n===a){t=Or(e,t,r);break e}it(e,t,n,r)}t=t.child}return t;case 5:return ag(t),e===null&&Kc(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,Wc(n,a)?o=null:s!==null&&Wc(n,s)&&(t.flags|=32),Tg(e,t),it(e,t,o,r),t.child;case 6:return e===null&&Kc(t),null;case 13:return Og(e,t,r);case 4:return cu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ba(t,null,n,r):it(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Bf(e,t,n,a,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,ce(wo,n._currentValue),n._currentValue=o,s!==null)if(Kt(s.value,o)){if(s.children===a.children&&!gt.current){t=Or(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(s.tag===1){d=Sr(-1,r&-r),d.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}s.lanes|=r,d=s.alternate,d!==null&&(d.lanes|=r),Yc(s.return,r,t),l.lanes|=r;break}d=d.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Yc(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ma(t,r),a=$t(a),n=n(a),t.flags|=1,it(e,t,n,r),t.child;case 14:return n=t.type,a=zt(n,t.pendingProps),a=zt(n.type,a),Hf(e,t,n,a,r);case 15:return Eg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Yi(e,t),t.tag=1,pt(n)?(e=!0,yo(t)):e=!1,ma(t,r),_g(t,n,a),Gc(t,n,a,r),Zc(null,t,n,!0,e,r);case 19:return Rg(e,t,r);case 22:return Cg(e,t,r)}throw Error(R(156,t.tag))};function Yg(e,t){return b0(e,t)}function kw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,r,n){return new kw(e,t,r,n)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jw(e){if(typeof e=="function")return _u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qd)return 11;if(e===Bd)return 14}return 2}function tn(e,t){var r=e.alternate;return r===null?(r=Ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qi(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")_u(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zn:return Tn(r.children,a,s,t);case Wd:o=8,a|=8;break;case wc:return e=Ot(12,r,t,a|2),e.elementType=wc,e.lanes=s,e;case bc:return e=Ot(13,r,t,a),e.elementType=bc,e.lanes=s,e;case kc:return e=Ot(19,r,t,a),e.elementType=kc,e.lanes=s,e;case a0:return Go(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r0:o=10;break e;case n0:o=9;break e;case qd:o=11;break e;case Bd:o=14;break e;case zr:o=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ot(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Tn(e,t,r,n){return e=Ot(7,e,n,t),e.lanes=r,e}function Go(e,t,r,n){return e=Ot(22,e,n,t),e.elementType=a0,e.lanes=r,e.stateNode={isHidden:!1},e}function ec(e,t,r){return e=Ot(6,e,null,t),e.lanes=r,e}function tc(e,t,r){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _w(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Nu(e,t,r,n,a,s,o,l,d){return e=new _w(e,t,r,l,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ot(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(s),e}function Nw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jg(e){if(!e)return nn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(pt(r))return J0(e,r,t)}return t}function Gg(e,t,r,n,a,s,o,l,d){return e=Nu(r,n,!0,e,a,s,o,l,d),e.context=Jg(null),r=e.current,n=ot(),a=en(r),s=Sr(n,a),s.callback=t??null,Xr(r,s,a),e.current.lanes=a,Bs(e,a,n),yt(e,n),e}function Qo(e,t,r,n){var a=t.current,s=ot(),o=en(a);return r=Jg(r),t.context===null?t.context=r:t.pendingContext=r,t=Sr(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xr(a,t,o),e!==null&&(Vt(e,a,o,s),Hi(e,a,o)),o}function Po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Su(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function Sw(){return null}var Qg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Xo.prototype.render=Eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Qo(e,t,null,null)};Xo.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Qo(null,e,null,null)}),t[Tr]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=C0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qr.length&&t!==0&&t<qr[r].priority;r++);qr.splice(r,0,e),r===0&&P0(e)}};function Cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function am(){}function Ew(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Po(o);s.call(u)}}var o=Gg(t,n,e,0,null,!1,!1,"",am);return e._reactRootContainer=o,e[Tr]=o.current,Os(e.nodeType===8?e.parentNode:e),$n(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Po(d);l.call(u)}}var d=Nu(e,0,!1,null,null,!1,!1,"",am);return e._reactRootContainer=d,e[Tr]=d.current,Os(e.nodeType===8?e.parentNode:e),$n(function(){Qo(t,d,r,n)}),d}function el(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var d=Po(o);l.call(d)}}Qo(t,o,e,a)}else o=Ew(r,t,e,a,n);return Po(o)}S0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=os(t.pendingLanes);r!==0&&(Kd(t,r|1),yt(t,Ce()),!(Z&6)&&(_a=Ce()+500,on()))}break;case 13:$n(function(){var n=Pr(e,1);if(n!==null){var a=ot();Vt(n,e,1,a)}}),Su(e,1)}};Yd=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var r=ot();Vt(t,e,134217728,r)}Su(e,134217728)}};E0=function(e){if(e.tag===13){var t=en(e),r=Pr(e,t);if(r!==null){var n=ot();Vt(r,e,t,n)}Su(e,t)}};C0=function(){return ne};T0=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};Rc=function(e,t,r){switch(t){case"input":if(Nc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Bo(n);if(!a)throw Error(R(90));i0(n),Nc(n,a)}}}break;case"textarea":l0(e,r);break;case"select":t=r.value,t!=null&&da(e,!!r.multiple,t,!1)}};g0=bu;p0=$n;var Cw={usingClientEntryPoint:!1,Events:[Vs,na,Bo,f0,m0,bu]},Za={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tw={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v0(e),e===null?null:e.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||Sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{Fo=Ri.inject(Tw),dr=Ri}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;jt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(t))throw Error(R(200));return Nw(e,t,null,r)};jt.createRoot=function(e,t){if(!Cu(e))throw Error(R(299));var r=!1,n="",a=Qg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Nu(e,1,!1,null,null,r,!1,n,a),e[Tr]=t.current,Os(e.nodeType===8?e.parentNode:e),new Eu(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=v0(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return $n(e)};jt.hydrate=function(e,t,r){if(!Zo(t))throw Error(R(200));return el(null,e,t,!0,r)};jt.hydrateRoot=function(e,t,r){if(!Cu(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=Qg;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Gg(t,null,e,1,r??null,a,!1,s,o),e[Tr]=t.current,Os(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Xo(t)};jt.render=function(e,t,r){if(!Zo(t))throw Error(R(200));return el(null,e,t,!1,r)};jt.unmountComponentAtNode=function(e){if(!Zo(e))throw Error(R(40));return e._reactRootContainer?($n(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};jt.unstable_batchedUpdates=bu;jt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zo(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return el(e,t,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function Xg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xg)}catch(e){console.error(e)}}Xg(),Xm.exports=jt;var Pw=Xm.exports,sm=Pw;xc.createRoot=sm.createRoot,xc.hydrateRoot=sm.hydrateRoot;const Ow="modulepreload",Rw=function(e,t){return new URL(e,t).href},im={},cr=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Rw(s,n),s in im)return;im[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let h=a.length-1;h>=0;h--){const f=a[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Ow,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var om="popstate";function Dw(e={}){function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return ud("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Fs(a)}return Aw(t,r,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $w(){return Math.random().toString(36).substring(2,10)}function lm(e,t){return{usr:e.state,key:e.key,idx:t}}function ud(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:r,key:t&&t.key||n||$w()}}function Fs({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Aw(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let j=h(),x=j==null?null:j-u;u=j,d&&d({action:l,location:_.location,delta:x})}function g(j,x){l="PUSH";let p=ud(_.location,j,x);r&&r(p,j),u=h()+1;let y=lm(p,u),S=_.createHref(p);try{o.pushState(y,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}s&&d&&d({action:l,location:_.location,delta:1})}function v(j,x){l="REPLACE";let p=ud(_.location,j,x);r&&r(p,j),u=h();let y=lm(p,u),S=_.createHref(p);o.replaceState(y,"",S),s&&d&&d({action:l,location:_.location,delta:0})}function k(j){return Iw(j)}let _={get action(){return l},get location(){return e(a,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(om,f),d=j,()=>{a.removeEventListener(om,f),d=null}},createHref(j){return t(a,j)},createURL:k,encodeLocation(j){let x=k(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(j){return o.go(j)}};return _}function Iw(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Fs(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Zg(e,t,r="/"){return Lw(e,t,r,!1)}function Lw(e,t,r,n){let a=typeof t=="string"?Ta(t):t,s=Rr(a.pathname||"/",r);if(s==null)return null;let o=ep(e);Mw(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=Jw(s);l=Kw(o[d],u,n)}return l}function ep(e,t=[],r=[],n="",a=!1){let s=(o,l,d=a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;pe(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=Er([n,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(pe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ep(o.children,t,g,f,d)),!(o.path==null&&!o.index)&&t.push({path:f,score:Hw(f,o.index),routesMeta:g})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,l);else for(let u of tp(o.path))s(o,l,!0,u)}),t}function tp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=tp(n.join("/")),l=[];return l.push(...o.map(d=>d===""?s:[s,d].join("/"))),a&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function Mw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Vw(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Uw=/^:[\w-]+$/,Fw=3,zw=2,Ww=1,qw=10,Bw=-2,cm=e=>e==="*";function Hw(e,t){let r=e.split("/"),n=r.length;return r.some(cm)&&(n+=Bw),t&&(n+=zw),r.filter(a=>!cm(a)).reduce((a,s)=>a+(Uw.test(s)?Fw:s===""?Ww:qw),n)}function Vw(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Kw(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],u=l===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",f=Oo({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Oo({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Er([s,f.pathname]),pathnameBase:Zw(Er([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Er([s,f.pathnameBase]))}return o}function Oo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Yw(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let k=l[g]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const v=l[g];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Yw(e,t=!1,r=!0){Yt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Jw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Gw(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ta(e):e;return{pathname:r?r.startsWith("/")?r:Qw(r,t):t,search:eb(n),hash:tb(a)}}function Qw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rc(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Tu(e){let t=Xw(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Pu(e,t,r,n=!1){let a;typeof e=="string"?a=Ta(e):(a={...e},pe(!a.pathname||!a.pathname.includes("?"),rc("?","pathname","search",a)),pe(!a.pathname||!a.pathname.includes("#"),rc("#","pathname","hash",a)),pe(!a.search||!a.search.includes("#"),rc("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}l=f>=0?t[f]:"/"}let d=Gw(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Er=e=>e.join("/").replace(/\/\/+/g,"/"),Zw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var rp=["POST","PUT","PATCH","DELETE"];new Set(rp);var nb=["GET",...rp];new Set(nb);var Pa=w.createContext(null);Pa.displayName="DataRouter";var tl=w.createContext(null);tl.displayName="DataRouterState";w.createContext(!1);var np=w.createContext({isTransitioning:!1});np.displayName="ViewTransition";var ab=w.createContext(new Map);ab.displayName="Fetchers";var sb=w.createContext(null);sb.displayName="Await";var Gt=w.createContext(null);Gt.displayName="Navigation";var Ys=w.createContext(null);Ys.displayName="Location";var hr=w.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Ou=w.createContext(null);Ou.displayName="RouteError";function ib(e,{relative:t}={}){pe(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Gt),{hash:a,pathname:s,search:o}=Js(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Er([r,s])),n.createHref({pathname:l,search:o,hash:a})}function Oa(){return w.useContext(Ys)!=null}function ln(){return pe(Oa(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ys).location}var ap="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sp(e){w.useContext(Gt).static||w.useLayoutEffect(e)}function ip(){let{isDataRoute:e}=w.useContext(hr);return e?vb():ob()}function ob(){pe(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Pa),{basename:t,navigator:r}=w.useContext(Gt),{matches:n}=w.useContext(hr),{pathname:a}=ln(),s=JSON.stringify(Tu(n)),o=w.useRef(!1);return sp(()=>{o.current=!0}),w.useCallback((d,u={})=>{if(Yt(o.current,ap),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=Pu(d,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Er([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,s,a,e])}w.createContext(null);function Js(e,{relative:t}={}){let{matches:r}=w.useContext(hr),{pathname:n}=ln(),a=JSON.stringify(Tu(r));return w.useMemo(()=>Pu(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function lb(e,t){return op(e,t)}function op(e,t,r,n,a){var p;pe(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Gt),{matches:o}=w.useContext(hr),l=o[o.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";lp(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let g=ln(),v;if(t){let y=typeof t=="string"?Ta(t):t;pe(h==="/"||((p=y.pathname)==null?void 0:p.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${y.pathname}" was given in the \`location\` prop.`),v=y}else v=g;let k=v.pathname||"/",_=k;if(h!=="/"){let y=h.replace(/^\//,"").split("/");_="/"+k.replace(/^\//,"").split("/").slice(y.length).join("/")}let j=Zg(e,{pathname:_});Yt(f||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=fb(j&&j.map(y=>Object.assign({},y,{params:Object.assign({},d,y.params),pathname:Er([h,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:Er([h,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),o,r,n,a);return t&&x?w.createElement(Ys.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function cb(){let e=xb(),t=rb(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,o)}var db=w.createElement(cb,null),ub=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(hr.Provider,{value:this.props.routeContext},w.createElement(Ou.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hb({routeContext:e,match:t,children:r}){let n=w.useContext(Pa);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(hr.Provider,{value:e},r)}function fb(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);pe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,d=-1;if(r)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=r,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let g,v=!1,k=null,_=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,k=h.route.errorElement||db,l&&(d<0&&f===0?(lp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):d===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,f+1)),x=()=>{let p;return g?p=k:v?p=_:h.route.Component?p=w.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,w.createElement(hb,{match:h,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(ub,{location:r.location,revalidation:r.revalidation,component:k,error:g,children:x(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:n}):x()},null)}function Ru(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(e){let t=w.useContext(Pa);return pe(t,Ru(e)),t}function gb(e){let t=w.useContext(tl);return pe(t,Ru(e)),t}function pb(e){let t=w.useContext(hr);return pe(t,Ru(e)),t}function Du(e){let t=pb(e),r=t.matches[t.matches.length-1];return pe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function yb(){return Du("useRouteId")}function xb(){var n;let e=w.useContext(Ou),t=gb("useRouteError"),r=Du("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function vb(){let{router:e}=mb("useNavigate"),t=Du("useNavigate"),r=w.useRef(!1);return sp(()=>{r.current=!0}),w.useCallback(async(a,s={})=>{Yt(r.current,ap),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var dm={};function lp(e,t,r){!t&&!dm[e]&&(dm[e]=!0,Yt(!1,r))}w.memo(wb);function wb({routes:e,future:t,state:r,unstable_onError:n}){return op(e,void 0,r,n,t)}function bb({to:e,replace:t,state:r,relative:n}){pe(Oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Gt);Yt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(hr),{pathname:o}=ln(),l=ip(),d=Pu(e,Tu(s),o,n==="path"),u=JSON.stringify(d);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function hd(e){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kb({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){pe(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=Ta(r));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:g="default"}=r,v=w.useMemo(()=>{let k=Rr(d,o);return k==null?null:{location:{pathname:k,search:u,hash:h,state:f,key:g},navigationType:n}},[o,d,u,h,f,g,n]);return Yt(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Gt.Provider,{value:l},w.createElement(Ys.Provider,{children:t,value:v}))}function jb({children:e,location:t}){return lb(fd(e),t)}function fd(e,t=[]){let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let s=[...t,a];if(n.type===w.Fragment){r.push.apply(r,fd(n.props.children,s));return}pe(n.type===hd,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fd(n.props.children,s)),r.push(o)}),r}var Xi="get",Zi="application/x-www-form-urlencoded";function rl(e){return e!=null&&typeof e.tagName=="string"}function _b(e){return rl(e)&&e.tagName.toLowerCase()==="button"}function Nb(e){return rl(e)&&e.tagName.toLowerCase()==="form"}function Sb(e){return rl(e)&&e.tagName.toLowerCase()==="input"}function Eb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cb(e,t){return e.button===0&&(!t||t==="_self")&&!Eb(e)}var Di=null;function Tb(){if(Di===null)try{new FormData(document.createElement("form"),0),Di=!1}catch{Di=!0}return Di}var Pb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nc(e){return e!=null&&!Pb.has(e)?(Yt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zi}"`),null):e}function Ob(e,t){let r,n,a,s,o;if(Nb(e)){let l=e.getAttribute("action");n=l?Rr(l,t):null,r=e.getAttribute("method")||Xi,a=nc(e.getAttribute("enctype"))||Zi,s=new FormData(e)}else if(_b(e)||Sb(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||l.getAttribute("action");if(n=d?Rr(d,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Xi,a=nc(e.getAttribute("formenctype"))||nc(l.getAttribute("enctype"))||Zi,s=new FormData(l,e),!Tb()){let{name:u,type:h,value:f}=e;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,f)}}else{if(rl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Xi,n=null,a=Zi,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $u(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rb(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Rr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Db(e,t){if(e.id in t)return t[e.id];try{let r=await cr(()=>import(e.module),[],import.meta.url);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $b(e){return e!=null&&typeof e.page=="string"}function Ab(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ib(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await Db(s,r);return o.links?o.links():[]}return[]}));return Fb(n.flat(1).filter(Ab).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function um(e,t,r,n,a,s){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,l=(d,u)=>{var h;return r[u].pathname!==d.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==d.params["*"]};return s==="assets"?t.filter((d,u)=>o(d,u)||l(d,u)):s==="data"?t.filter((d,u)=>{var f;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Lb(e,t,{includeHydrateFallback:r}={}){return Mb(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Mb(e){return[...new Set(e)]}function Ub(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Fb(e,t){let r=new Set,n=new Set(t);return e.reduce((a,s)=>{if(t&&!$b(s)&&s.as==="script"&&s.href&&n.has(s.href))return a;let l=JSON.stringify(Ub(s));return r.has(l)||(r.add(l),a.push({key:l,link:s})),a},[])}function cp(){let e=w.useContext(Pa);return $u(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zb(){let e=w.useContext(tl);return $u(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Au=w.createContext(void 0);Au.displayName="FrameworkContext";function dp(){let e=w.useContext(Au);return $u(e,"You must render this element inside a <HydratedRouter> element"),e}function Wb(e,t){let r=w.useContext(Au),[n,a]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,g=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=x=>{x.forEach(p=>{o(p.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),w.useEffect(()=>{if(n){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[n]);let v=()=>{a(!0)},k=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:es(l,v),onBlur:es(d,k),onMouseEnter:es(u,v),onMouseLeave:es(h,k),onTouchStart:es(f,v)}]:[!1,g,{}]}function es(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function qb({page:e,...t}){let{router:r}=cp(),n=w.useMemo(()=>Zg(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(Hb,{page:e,matches:n,...t}):null}function Bb(e){let{manifest:t,routeModules:r}=dp(),[n,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return Ib(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function Hb({page:e,matches:t,...r}){let n=ln(),{manifest:a,routeModules:s}=dp(),{basename:o}=cp(),{loaderData:l,matches:d}=zb(),u=w.useMemo(()=>um(e,t,d,a,n,"data"),[e,t,d,a,n]),h=w.useMemo(()=>um(e,t,d,a,n,"assets"),[e,t,d,a,n]),f=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let k=new Set,_=!1;if(t.forEach(x=>{var y;let p=a.routes[x.route.id];!p||!p.hasLoader||(!u.some(S=>S.route.id===x.route.id)&&x.route.id in l&&((y=s[x.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?_=!0:k.add(x.route.id))}),k.size===0)return[];let j=Rb(e,o,"data");return _&&k.size>0&&j.searchParams.set("_routes",t.filter(x=>k.has(x.route.id)).map(x=>x.route.id).join(",")),[j.pathname+j.search]},[o,l,n,a,u,t,e,s]),g=w.useMemo(()=>Lb(h,a),[h,a]),v=Bb(h);return w.createElement(w.Fragment,null,f.map(k=>w.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),g.map(k=>w.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),v.map(({key:k,link:_})=>w.createElement("link",{key:k,nonce:r.nonce,..._})))}function Vb(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var up=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{up&&(window.__reactRouterVersion="7.9.4")}catch{}function Kb({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=Dw({window:r,v5Compat:!0}));let a=n.current,[s,o]=w.useState({action:a.action,location:a.location}),l=w.useCallback(d=>{w.startTransition(()=>o(d))},[o]);return w.useLayoutEffect(()=>a.listen(l),[a,l]),w.createElement(kb,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fp=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:f,...g},v){let{basename:k}=w.useContext(Gt),_=typeof u=="string"&&hp.test(u),j,x=!1;if(typeof u=="string"&&_&&(j=u,up))try{let U=new URL(window.location.href),L=u.startsWith("//")?new URL(U.protocol+u):new URL(u),ye=Rr(L.pathname,k);L.origin===U.origin&&ye!=null?u=ye+L.search+L.hash:x=!0}catch{Yt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=ib(u,{relative:a}),[y,S,C]=Wb(n,g),N=Qb(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:f});function E(U){t&&t(U),U.defaultPrevented||N(U)}let O=w.createElement("a",{...g,...C,href:j||p,onClick:x||s?t:E,ref:Vb(v,S),target:d,"data-discover":!_&&r==="render"?"true":void 0});return y&&!_?w.createElement(w.Fragment,null,O,w.createElement(qb,{page:p})):O});fp.displayName="Link";var Yb=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:d,...u},h){let f=Js(o,{relative:u.relative}),g=ln(),v=w.useContext(tl),{navigator:k,basename:_}=w.useContext(Gt),j=v!=null&&rk(f)&&l===!0,x=k.encodeLocation?k.encodeLocation(f).pathname:f.pathname,p=g.pathname,y=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(p=p.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&_&&(y=Rr(y,_)||y);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=p===x||!a&&p.startsWith(x)&&p.charAt(S)==="/",N=y!=null&&(y===x||!a&&y.startsWith(x)&&y.charAt(x.length)==="/"),E={isActive:C,isPending:N,isTransitioning:j},O=C?t:void 0,U;typeof n=="function"?U=n(E):U=[n,C?"active":null,N?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(E):s;return w.createElement(fp,{...u,"aria-current":O,className:U,ref:h,style:L,to:o,viewTransition:l},typeof d=="function"?d(E):d)});Yb.displayName="NavLink";var Jb=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=Xi,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:f,...g},v)=>{let k=ek(),_=tk(l,{relative:u}),j=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&hp.test(l),p=y=>{if(d&&d(y),y.defaultPrevented)return;y.preventDefault();let S=y.nativeEvent.submitter,C=(S==null?void 0:S.getAttribute("formmethod"))||o;k(S||y.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return w.createElement("form",{ref:v,method:j,action:_,onSubmit:n?d:p,...g,"data-discover":!x&&e==="render"?"true":void 0})});Jb.displayName="Form";function Gb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mp(e){let t=w.useContext(Pa);return pe(t,Gb(e)),t}function Qb(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=ip(),d=ln(),u=Js(e,{relative:s});return w.useCallback(h=>{if(Cb(h,t)){h.preventDefault();let f=r!==void 0?r:Fs(d)===Fs(u);l(e,{replace:f,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[d,l,u,r,n,t,e,a,s,o])}var Xb=0,Zb=()=>`__${String(++Xb)}__`;function ek(){let{router:e}=mp("useSubmit"),{basename:t}=w.useContext(Gt),r=yb();return w.useCallback(async(n,a={})=>{let{action:s,method:o,encType:l,formData:d,body:u}=Ob(n,t);if(a.navigate===!1){let h=a.fetcherKey||Zb();await e.fetch(h,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function tk(e,{relative:t}={}){let{basename:r}=w.useContext(Gt),n=w.useContext(hr);pe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Js(e||".",{relative:t})},o=ln();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Er([r,s.pathname])),Fs(s)}function rk(e,{relative:t}={}){let r=w.useContext(np);pe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mp("useViewTransitionState"),a=Js(e,{relative:t});if(!r.isTransitioning)return!1;let s=Rr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Oo(a.pathname,o)!=null||Oo(a.pathname,s)!=null}var nk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ak=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sk=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...d},u)=>w.createElement("svg",{ref:u,...nk,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:`lucide lucide-${ak(e)}`,...d},[...t.map(([h,f])=>w.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var X=sk;const ik=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ct=X("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),ok=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ac=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ne=X("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),hm=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),gp=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),eo=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lk=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),mn=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ck=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dk=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ts=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),uk=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),hk=X("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),fk=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),mk=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),rs=X("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),gk=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),pk=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),we=X("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),$i=X("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),fm=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),sc=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ut=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ic=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),mm=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nr=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),yk=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),oc=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),pp=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),md=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Pe=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ee=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function Jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function de(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function $e(e){de(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ro(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function yp(e,t){de(2,arguments);var r=$e(e),n=Jt(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function xk(e,t){de(2,arguments);var r=$e(e).getTime(),n=Jt(t);return new Date(r+n)}var vk={};function Ra(){return vk}function xp(e,t){var r,n,a,s,o,l,d,u;de(1,arguments);var h=Ra(),f=Jt((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=$e(e),v=g.getDay(),k=(v<f?7:0)+v-f;return g.setDate(g.getDate()-k),g.setHours(0,0,0,0),g}function wk(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function gm(e){de(1,arguments);var t=$e(e);return t.setHours(0,0,0,0),t}var vp=6e4,wp=36e5;function bk(e,t){de(2,arguments);var r=gm(e),n=gm(t);return r.getTime()===n.getTime()}function kk(e){return de(1,arguments),e instanceof Date||Ro(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jk(e){if(de(1,arguments),!kk(e)&&typeof e!="number")return!1;var t=$e(e);return!isNaN(Number(t))}function bp(e){de(1,arguments);var t=$e(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function kp(e){de(1,arguments);var t=$e(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jp(e,t){var r,n,a,s,o,l,d,u;de(1,arguments);var h=Ra(),f=Jt((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=$e(e),v=g.getDay(),k=(v<f?-7:0)+6-(v-f);return g.setDate(g.getDate()+k),g.setHours(23,59,59,999),g}function _k(e,t){de(2,arguments);var r=Jt(t);return xk(e,-r)}var Nk=864e5;function Sk(e){de(1,arguments);var t=$e(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Nk)+1}function Do(e){de(1,arguments);var t=1,r=$e(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function _p(e){de(1,arguments);var t=$e(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Do(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=Do(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Ek(e){de(1,arguments);var t=_p(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Do(r);return n}var Ck=6048e5;function Tk(e){de(1,arguments);var t=$e(e),r=Do(t).getTime()-Ek(t).getTime();return Math.round(r/Ck)+1}function $o(e,t){var r,n,a,s,o,l,d,u;de(1,arguments);var h=Ra(),f=Jt((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=$e(e),v=g.getUTCDay(),k=(v<f?7:0)+v-f;return g.setUTCDate(g.getUTCDate()-k),g.setUTCHours(0,0,0,0),g}function Np(e,t){var r,n,a,s,o,l,d,u;de(1,arguments);var h=$e(e),f=h.getUTCFullYear(),g=Ra(),v=Jt((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&n!==void 0?n:(d=g.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(f+1,0,v),k.setUTCHours(0,0,0,0);var _=$o(k,t),j=new Date(0);j.setUTCFullYear(f,0,v),j.setUTCHours(0,0,0,0);var x=$o(j,t);return h.getTime()>=_.getTime()?f+1:h.getTime()>=x.getTime()?f:f-1}function Pk(e,t){var r,n,a,s,o,l,d,u;de(1,arguments);var h=Ra(),f=Jt((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),g=Np(e,t),v=new Date(0);v.setUTCFullYear(g,0,f),v.setUTCHours(0,0,0,0);var k=$o(v,t);return k}var Ok=6048e5;function Rk(e,t){de(1,arguments);var r=$e(e),n=$o(r,t).getTime()-Pk(r,t).getTime();return Math.round(n/Ok)+1}function re(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Dk={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return re(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):re(n+1,2)},d:function(t,r){return re(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return re(t.getUTCHours()%12||12,r.length)},H:function(t,r){return re(t.getUTCHours(),r.length)},m:function(t,r){return re(t.getUTCMinutes(),r.length)},s:function(t,r){return re(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return re(s,r.length)}};const Lr=Dk;var Wn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$k={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Lr.y(t,r)},Y:function(t,r,n,a){var s=Np(t,a),o=s>0?s:1-s;if(r==="YY"){var l=o%100;return re(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):re(o,r.length)},R:function(t,r){var n=_p(t);return re(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return re(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return re(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return re(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Lr.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return re(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=Rk(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):re(s,r.length)},I:function(t,r,n){var a=Tk(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):re(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Lr.d(t,r)},D:function(t,r,n){var a=Sk(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):re(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return re(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return re(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return re(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=Wn.noon:a===0?s=Wn.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=Wn.evening:a>=12?s=Wn.afternoon:a>=4?s=Wn.morning:s=Wn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Lr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Lr.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):re(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):re(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Lr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Lr.s(t,r)},S:function(t,r){return Lr.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return ym(o);case"XXXX":case"XX":return vn(o);case"XXXXX":case"XXX":default:return vn(o,":")}},x:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"x":return ym(o);case"xxxx":case"xx":return vn(o);case"xxxxx":case"xxx":default:return vn(o,":")}},O:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+pm(o,":");case"OOOO":default:return"GMT"+vn(o,":")}},z:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+pm(o,":");case"zzzz":default:return"GMT"+vn(o,":")}},t:function(t,r,n,a){var s=a._originalDate||t,o=Math.floor(s.getTime()/1e3);return re(o,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,o=s.getTime();return re(o,r.length)}};function pm(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=t||"";return r+String(a)+o+re(s,2)}function ym(e,t){if(e%60===0){var r=e>0?"-":"+";return r+re(Math.abs(e)/60,2)}return vn(e,t)}function vn(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=re(Math.floor(a/60),2),o=re(a%60,2);return n+s+r+o}const Ak=$k;var xm=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Sp=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ik=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return xm(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",xm(a,r)).replace("{{time}}",Sp(s,r))},Lk={p:Sp,P:Ik};const Mk=Lk;var Uk=["D","DD"],Fk=["YY","YYYY"];function zk(e){return Uk.indexOf(e)!==-1}function Wk(e){return Fk.indexOf(e)!==-1}function vm(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bk=function(t,r,n){var a,s=qk[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Hk=Bk;function pa(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Vk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jk={date:pa({formats:Vk,defaultWidth:"full"}),time:pa({formats:Kk,defaultWidth:"full"}),dateTime:pa({formats:Yk,defaultWidth:"full"})};const Gk=Jk;var Qk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xk=function(t,r,n,a){return Qk[t]};const Zk=Xk;function or(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var e1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},a1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i1=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},o1={ordinalNumber:i1,era:or({values:e1,defaultWidth:"wide"}),quarter:or({values:t1,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:or({values:r1,defaultWidth:"wide"}),day:or({values:n1,defaultWidth:"wide"}),dayPeriod:or({values:a1,defaultWidth:"wide",formattingValues:s1,defaultFormattingWidth:"wide"})};const l1=o1;function lr(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?d1(l,function(f){return f.test(o)}):c1(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var h=t.slice(o.length);return{value:u,rest:h}}}function c1(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function d1(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Ep(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var u1=/^(\d+)(th|st|nd|rd)?/i,h1=/\d+/i,f1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m1={any:[/^b/i,/^(a|c)/i]},g1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},p1={any:[/1/i,/2/i,/3/i,/4/i]},y1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j1={ordinalNumber:Ep({matchPattern:u1,parsePattern:h1,valueCallback:function(t){return parseInt(t,10)}}),era:lr({matchPatterns:f1,defaultMatchWidth:"wide",parsePatterns:m1,defaultParseWidth:"any"}),quarter:lr({matchPatterns:g1,defaultMatchWidth:"wide",parsePatterns:p1,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:lr({matchPatterns:y1,defaultMatchWidth:"wide",parsePatterns:x1,defaultParseWidth:"any"}),day:lr({matchPatterns:v1,defaultMatchWidth:"wide",parsePatterns:w1,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:b1,defaultMatchWidth:"any",parsePatterns:k1,defaultParseWidth:"any"})};const _1=j1;var N1={code:"en-US",formatDistance:Hk,formatLong:Gk,formatRelative:Zk,localize:l1,match:_1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const S1=N1;var E1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,T1=/^'([^]*?)'?$/,P1=/''/g,O1=/[a-zA-Z]/;function B(e,t,r){var n,a,s,o,l,d,u,h,f,g,v,k,_,j,x,p,y,S;de(2,arguments);var C=String(t),N=Ra(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:N.locale)!==null&&n!==void 0?n:S1,O=Jt((s=(o=(l=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:N.firstWeekContainsDate)!==null&&o!==void 0?o:(f=N.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=Jt((v=(k=(_=(j=r==null?void 0:r.weekStartsOn)!==null&&j!==void 0?j:r==null||(x=r.locale)===null||x===void 0||(p=x.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&_!==void 0?_:N.weekStartsOn)!==null&&k!==void 0?k:(y=N.locale)===null||y===void 0||(S=y.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&v!==void 0?v:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var L=$e(e);if(!jk(L))throw new RangeError("Invalid time value");var ye=wk(L),We=_k(L,ye),Ke={firstWeekContainsDate:O,weekStartsOn:U,locale:E,_originalDate:L},et=C.match(C1).map(function(xe){var tt=xe[0];if(tt==="p"||tt==="P"){var Qt=Mk[tt];return Qt(xe,E.formatLong)}return xe}).join("").match(E1).map(function(xe){if(xe==="''")return"'";var tt=xe[0];if(tt==="'")return R1(xe);var Qt=Ak[tt];if(Qt)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Wk(xe)&&vm(xe,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&zk(xe)&&vm(xe,t,String(e)),Qt(We,xe,E.localize,Ke);if(tt.match(O1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+tt+"`");return xe}).join("");return et}function R1(e){var t=e.match(T1);return t?t[1].replace(P1,"'"):e}function lc(e,t){de(2,arguments);var r=$e(e),n=$e(t);return r.getTime()>n.getTime()}function Cp(e,t){de(2,arguments);var r=$e(e),n=$e(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Tp(e){return de(1,arguments),bk(e,Date.now())}function ae(e,t){var r;de(1,arguments);var n=Jt((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=I1(e),s;if(a.date){var o=L1(a.date,n);s=M1(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var l=s.getTime(),d=0,u;if(a.time&&(d=U1(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(u=F1(a.timezone),isNaN(u))return new Date(NaN)}else{var h=new Date(l+d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}return new Date(l+d+u)}var Ai={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},D1=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$1=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,A1=/^([+-])(\d{2})(?::?(\d{2}))?$/;function I1(e){var t={},r=e.split(Ai.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ai.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ai.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Ai.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function L1(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function M1(e,t){if(t===null)return new Date(NaN);var r=e.match(D1);if(!r)return new Date(NaN);var n=!!r[4],a=ns(r[1]),s=ns(r[2])-1,o=ns(r[3]),l=ns(r[4]),d=ns(r[5])-1;if(n)return H1(t,l,d)?z1(t,l,d):new Date(NaN);var u=new Date(0);return!q1(t,s,o)||!B1(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,o)),u)}function ns(e){return e?parseInt(e):1}function U1(e){var t=e.match($1);if(!t)return NaN;var r=cc(t[1]),n=cc(t[2]),a=cc(t[3]);return V1(r,n,a)?r*wp+n*vp+a*1e3:NaN}function cc(e){return e&&parseFloat(e.replace(",","."))||0}function F1(e){if(e==="Z")return 0;var t=e.match(A1);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return K1(n,a)?r*(n*wp+a*vp):NaN}function z1(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var W1=[31,null,31,30,31,30,31,31,30,31,30,31];function Pp(e){return e%400===0||e%4===0&&e%100!==0}function q1(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(W1[t]||(Pp(e)?29:28))}function B1(e,t){return t>=1&&t<=(Pp(e)?366:365)}function H1(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function V1(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function K1(e,t){return t>=0&&t<=59}var Y1={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},J1=function(t,r,n){var a,s=Y1[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"há "+a:a};const G1=J1;var Q1={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},X1={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Z1={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ej={date:pa({formats:Q1,defaultWidth:"full"}),time:pa({formats:X1,defaultWidth:"full"}),dateTime:pa({formats:Z1,defaultWidth:"full"})};const tj=ej;var rj={lastWeek:function(t){var r=t.getUTCDay(),n=r===0||r===6?"último":"última";return"'"+n+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},nj=function(t,r,n,a){var s=rj[t];return typeof s=="function"?s(r):s};const aj=nj;var sj={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ij={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},oj={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},lj={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},cj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},dj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},uj=function(t,r){var n=Number(t);return(r==null?void 0:r.unit)==="week"?n+"ª":n+"º"},hj={ordinalNumber:uj,era:or({values:sj,defaultWidth:"wide"}),quarter:or({values:ij,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:or({values:oj,defaultWidth:"wide"}),day:or({values:lj,defaultWidth:"wide"}),dayPeriod:or({values:cj,defaultWidth:"wide",formattingValues:dj,defaultFormattingWidth:"wide"})};const fj=hj;var mj=/^(\d+)[ºªo]?/i,gj=/\d+/i,pj={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},yj={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},xj={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},vj={any:[/1/i,/2/i,/3/i,/4/i]},wj={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},bj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},kj={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},jj={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},_j={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Nj={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Sj={ordinalNumber:Ep({matchPattern:mj,parsePattern:gj,valueCallback:function(t){return parseInt(t,10)}}),era:lr({matchPatterns:pj,defaultMatchWidth:"wide",parsePatterns:yj,defaultParseWidth:"any"}),quarter:lr({matchPatterns:xj,defaultMatchWidth:"wide",parsePatterns:vj,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:lr({matchPatterns:wj,defaultMatchWidth:"wide",parsePatterns:bj,defaultParseWidth:"any"}),day:lr({matchPatterns:kj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:_j,defaultMatchWidth:"any",parsePatterns:Nj,defaultParseWidth:"any"})};const Ej=Sj;var Cj={code:"pt-BR",formatDistance:G1,formatLong:tj,formatRelative:aj,localize:fj,match:Ej,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Ae=Cj,Tj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cr(()=>Promise.resolve().then(()=>Da),void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Iu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wm extends Iu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bm extends Iu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class km extends Iu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gd||(gd={}));var Pj=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};class Oj{constructor(t,{headers:r={},customFetch:n,region:a=gd.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Tj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Pj(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:o,body:l,signal:d}=n;let u={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let g;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(u["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(u["Content-Type"]="application/json",g=JSON.stringify(l)));const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:g,signal:d}).catch(x=>{throw x.name==="AbortError"?x:new wm(x)}),k=v.headers.get("x-relay-error");if(k&&k==="true")throw new bm(v);if(!v.ok)throw new km(v);let _=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield v.json():_==="application/octet-stream"?j=yield v.blob():_==="text/event-stream"?j=v:_==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new wm(s)}:{data:null,error:s,response:s instanceof km||s instanceof bm?s.context:void 0}}})}}var ft={},Lu={},nl={},Gs={},al={},sl={},Rj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Na=Rj();const Dj=Na.fetch,Op=Na.fetch.bind(Na),Rp=Na.Headers,$j=Na.Request,Aj=Na.Response,Da=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rp,Request:$j,Response:Aj,default:Op,fetch:Dj},Symbol.toStringTag,{value:"Module"})),Ij=nx(Da);var il={};Object.defineProperty(il,"__esModule",{value:!0});let Lj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};il.default=Lj;var Dp=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sl,"__esModule",{value:!0});const Mj=Dp(Ij),Uj=Dp(il);let Fj=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Mj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,d,u;let h=null,f=null,g=null,v=s.status,k=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(d=s.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");j&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,v=406,k="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await s.text();try{h=JSON.parse(j),Array.isArray(h)&&s.status===404&&(f=[],h=null,v=200,k="OK")}catch{s.status===404&&j===""?(v=204,k="No Content"):h={message:j}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,v=200,k="OK"),h&&this.shouldThrowOnError)throw new Uj.default(h)}return{error:h,data:f,count:g,status:v,statusText:k}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,d;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(d=s==null?void 0:s.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};sl.default=Fj;var zj=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(al,"__esModule",{value:!0});const Wj=zj(sl);let qj=class extends Wj.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const d=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};al.default=qj;var Bj=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gs,"__esModule",{value:!0});const Hj=Bj(al);let Vj=class extends Hj.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Gs.default=Vj;var Kj=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nl,"__esModule",{value:!0});const as=Kj(Gs);let Yj=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,r){const{head:n=!1,count:a}=r??{},s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(o.length>0){const l=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new as.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new as.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new as.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};nl.default=Yj;var $p=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lu,"__esModule",{value:!0});const Jj=$p(nl),Gj=$p(Gs);let Qj=class Ap{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Jj.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ap(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const d=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{d.searchParams.append(f,g)})):(l="POST",u=r);const h=new Headers(this.headers);return s&&h.set("Prefer",`count=${s}`),new Gj.default({method:l,url:d,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Lu.default=Qj;var $a=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Ip=$a(Lu);ft.PostgrestClient=Ip.default;const Lp=$a(nl);ft.PostgrestQueryBuilder=Lp.default;const Mp=$a(Gs);ft.PostgrestFilterBuilder=Mp.default;const Up=$a(al);ft.PostgrestTransformBuilder=Up.default;const Fp=$a(sl);ft.PostgrestBuilder=Fp.default;const zp=$a(il);ft.PostgrestError=zp.default;var Xj=ft.default={PostgrestClient:Ip.default,PostgrestQueryBuilder:Lp.default,PostgrestFilterBuilder:Mp.default,PostgrestTransformBuilder:Up.default,PostgrestBuilder:Fp.default,PostgrestError:zp.default};const{PostgrestClient:Zj,PostgrestQueryBuilder:X2,PostgrestFilterBuilder:Z2,PostgrestTransformBuilder:eS,PostgrestBuilder:tS,PostgrestError:rS}=Xj;class e_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const t_="2.74.0",r_=`realtime-js/${t_}`,n_="1.0.0",pd=1e4,a_=1e3,s_=100;var ws;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ws||(ws={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qt||(qt={}));var yd;(function(e){e.websocket="websocket"})(yd||(yd={}));var kn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kn||(kn={}));class i_{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const d=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:d,payload:u}}}class Wp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const jm=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=o_(o,e,t,a),s),{}):{}},o_=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?qp(s,o):xd(o)},qp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return u_(t,r)}switch(e){case le.bool:return l_(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return c_(t);case le.json:case le.jsonb:return d_(t);case le.timestamp:return h_(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return xd(t);default:return xd(t)}},xd=e=>e,l_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},c_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},d_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},u_=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>qp(t,l))}return e},h_=e=>typeof e=="string"?e.replace(" ","T"):e,Bp=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class dc{constructor(t,r,n={},a=pd){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _m;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_m||(_m={}));class bs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bs.syncState(this.state,a,s,o),this.pendingDiffs.forEach(d=>{this.state=bs.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bs.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},d={};return this.map(s,(u,h)=>{o[u]||(d[u]=h)}),this.map(o,(u,h)=>{const f=s[u];if(f){const g=h.map(j=>j.presence_ref),v=f.map(j=>j.presence_ref),k=h.filter(j=>v.indexOf(j.presence_ref)<0),_=f.filter(j=>g.indexOf(j.presence_ref)<0);k.length>0&&(l[u]=k),_.length>0&&(d[u]=_)}else l[u]=h}),this.syncDiff(s,{joins:l,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,d)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(d),h.length>0){const f=t[l].map(v=>v.presence_ref),g=h.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,h,d)}),this.map(o,(l,d)=>{let u=t[l];if(!u)return;const h=d.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,d),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nm||(Nm={}));var ks;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ks||(ks={}));var wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class Mu{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Wp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new bs(this),this.broadcastEndpointURL=Bp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[ks.PRESENCE]&&this.bindings[ks.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(wr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket.setAuth(),v===void 0){t==null||t(wr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(k=_==null?void 0:_.length)!==null&&k!==void 0?k:0,x=[];for(let p=0;p<j;p++){const y=_[p],{filter:{event:S,schema:C,table:N,filter:E}}=y,O=v&&v[p];if(O&&O.event===S&&O.schema===C&&O.table===N&&O.filter===E)x.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),this.state=Ie.errored,t==null||t(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(wr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ie.errored,t==null||t(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ie.joined&&t===ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,d;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dc(this,qt.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dc(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:d,leave:u,join:h}=qt;if(n&&[l,d,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var k,_,j;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var k,_,j,x,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,C=(k=v.filter)===null||k===void 0?void 0:k.event;return S&&((_=r.ids)===null||_===void 0?void 0:_.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const S=(p=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:_,table:j,commit_timestamp:x,type:p,errors:y}=k;g=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:x,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(k))}v.callback(g,n)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Mu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qt.close,{},t)}_onError(t){this._on(qt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jm(t.columns,t.old_record)),r}}const uc=()=>{},Ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f_=[1e3,2e3,5e3,1e4],m_=1e4,g_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p_{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pd,this.transport=null,this.heartbeatIntervalMs=Ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uc,this.ref=0,this.reconnectTimer=null,this.logger=uc,this.conn=null,this.sendBuffer=[],this.serializer=new i_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>cr(()=>Promise.resolve().then(()=>Da),void 0,import.meta.url).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${yd.websocket}`,this.httpEndpoint=Bp(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=e_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n_}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ws.connecting:return kn.Connecting;case ws.open:return kn.Open;case ws.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Mu(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(a_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([g_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:r_};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Wp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,o,l,d,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:pd,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ii.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:uc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:f=>f_[f-1]||m_,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,g)=>g(JSON.stringify(f)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Uu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Re(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class y_ extends Uu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vd extends Uu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var x_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};const Hp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cr(()=>Promise.resolve().then(()=>Da),void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},v_=()=>x_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cr(()=>Promise.resolve().then(()=>Da),void 0,import.meta.url)).Response:Response}),wd=e=>{if(Array.isArray(e))return e.map(r=>wd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=wd(n)}),t},w_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ln=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};const hc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b_=(e,t,r)=>Ln(void 0,void 0,void 0,function*(){const n=yield v_();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,o=(a==null?void 0:a.statusCode)||s+"";t(new y_(hc(a),s,o))}).catch(a=>{t(new vd(hc(a),a))}):t(new vd(hc(e),e))}),k_=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(w_(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Qs(e,t,r,n,a,s){return Ln(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,k_(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>b_(d,l,n))})})}function Ao(e,t,r,n){return Ln(this,void 0,void 0,function*(){return Qs(e,"GET",t,r,n)})}function sr(e,t,r,n,a){return Ln(this,void 0,void 0,function*(){return Qs(e,"POST",t,n,a,r)})}function bd(e,t,r,n,a){return Ln(this,void 0,void 0,function*(){return Qs(e,"PUT",t,n,a,r)})}function j_(e,t,r,n){return Ln(this,void 0,void 0,function*(){return Qs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vp(e,t,r,n,a){return Ln(this,void 0,void 0,function*(){return Qs(e,"DELETE",t,n,a,r)})}var __=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};class N_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return __(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}}var S_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};class E_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new N_(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return S_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}}var ut=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};const C_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T_{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Hp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ut(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Sm),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),f=yield(t=="PUT"?bd:sr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ut(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let d;const u=Object.assign({upsert:Sm.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",u.cacheControl)):(d=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield bd(this.fetch,l.toString(),d,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Re(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new Uu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}update(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ut(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield sr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ut(this,void 0,void 0,function*(){try{const a=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),d=()=>Ao(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new E_(d,this.shouldThrowOnError)}info(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ao(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wd(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}exists(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield j_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n)&&n instanceof vd){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}list(t,r,n){return ut(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},C_),r),{prefix:t||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}listV2(t,r){return ut(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const P_="2.74.0",O_={"X-Client-Info":`storage-js/${P_}`};var qn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};class R_{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},O_),r),this.fetch=Hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}getBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}createBucket(t){return qn(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return qn(this,void 0,void 0,function*(){try{return{data:yield bd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}emptyBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class D_ extends R_{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new T_(this.url,this.headers,t,this.fetch)}}const $_="2.74.0";let cs="";typeof Deno<"u"?cs="deno":typeof document<"u"?cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cs="react-native":cs="node";const A_={"X-Client-Info":`supabase-js-${cs}/${$_}`},I_={headers:A_},L_={schema:"public"},M_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U_={};var F_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};const z_=e=>{let t;return e?t=e:typeof fetch>"u"?t=Op:t=fetch,(...r)=>t(...r)},W_=()=>typeof Headers>"u"?Rp:Headers,q_=(e,t,r)=>{const n=z_(r),a=W_();return(s,o)=>F_(void 0,void 0,void 0,function*(){var l;const d=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var B_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};function H_(e){return e.endsWith("/")?e:e+"/"}function V_(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:d,auth:u,realtime:h,global:f}=t,g={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>B_(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function K_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(H_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Kp="2.74.0",Jn=30*1e3,kd=3,fc=kd*Jn,Y_="http://localhost:9999",J_="supabase.auth.token",G_={"X-Client-Info":`gotrue-js/${Kp}`},jd="X-Supabase-Api-Version",Yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Q_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X_=10*60*1e3;class zs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Z_ extends zs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function eN(e){return W(e)&&e.name==="AuthApiError"}class jn extends zs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class cn extends zs{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Fr extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tN(e){return W(e)&&e.name==="AuthSessionMissingError"}class Bn extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Li extends cn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mi extends cn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rN(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Em extends cn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _d extends cn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mc(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Cm extends cn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nd extends cn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tm=` 	
\r=`.split(""),nN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tm.length;t+=1)e[Tm[t].charCodeAt(0)]=-2;for(let t=0;t<Io.length;t+=1)e[Io[t].charCodeAt(0)]=t;return e})();function Pm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Io[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Io[n]),t.queuedBits-=6}}function Jp(e,t,r){const n=nN[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Om(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{iN(o,n,r)};for(let o=0;o<e.length;o+=1)Jp(e.charCodeAt(o),a,s);return t.join("")}function aN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sN(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}aN(n,t)}}function iN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ya(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Jp(e.charCodeAt(a),r,n);return new Uint8Array(t)}function oN(e){const t=[];return sN(e,r=>t.push(r)),new Uint8Array(t)}function En(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Pm(a,r,n)),Pm(null,r,n),t.join("")}function lN(e){return Math.round(Date.now()/1e3)+e}function cN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},Gp=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function dN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Qp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cr(()=>Promise.resolve().then(()=>Da),void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},uN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},pn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mr=async(e,t)=>{await e.removeItem(t)};class ol{constructor(){this.promise=new ol.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ol.promiseConstructor=Promise;function gc(e){const t=e.split(".");if(t.length!==3)throw new Nd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Q_.test(t[n]))throw new Nd("JWT not in base64url format");return{header:JSON.parse(Om(t[0])),payload:JSON.parse(Om(t[1])),signature:ya(t[2]),raw:{header:t[0],payload:t[1]}}}async function hN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fN(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function mN(e){return("0"+e.toString(16)).substr(-2)}function gN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,mN).join("")}async function pN(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function yN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hn(e,t,r=!1){const n=gN();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gn(e,`${t}-code-verifier`,a);const s=await yN(n);return[s,n===s?"plain":"s256"]}const xN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vN(e){const t=e.headers.get(jd);if(!t||!t.match(xN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(e){if(!kN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rm(e){return JSON.parse(JSON.stringify(e))}var jN=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_N=[502,503,504];async function Dm(e){var t;if(!uN(e))throw new _d(wn(e),0);if(_N.includes(e.status))throw new _d(wn(e),e.status);let r;try{r=await e.json()}catch(s){throw new jn(wn(s),s)}let n;const a=vN(e);if(a&&a.getTime()>=Yp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cm(wn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Cm(wn(r),e.status,r.weak_password.reasons);throw new Z_(wn(r),e.status||500,n)}const NN=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function K(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[jd]||(s[jd]=Yp["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await SN(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function SN(e,t,r,n,a,s){const o=NN(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new _d(wn(d),0)}if(l.ok||await Dm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(d){await Dm(d)}}function Ft(e){var t;let r=null;TN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $m(e){const t=Ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EN(e){return{data:e,error:null}}function CN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=jN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function Am(e){return e}function TN(e){return e.access_token&&e.refresh_token&&e.expires_in}const yc=["global","local","others"];var PN=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class ON{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Qp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=yc[0]){if(yc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yc.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=PN(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:CN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Am});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vn(t);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vn(t);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vn(t);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vn(t.userId);try{const{data:r,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vn(t.userId),Vn(t.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await K(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Am});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await K(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await K(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await K(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await K(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function Im(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Kn={debug:!!(globalThis&&Gp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RN extends Xp{}async function DN(e,t,r){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $N(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AN(e){return parseInt(e,16)}function IN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function LN(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:d,resources:u,scheme:h,uri:f,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Zp(e.address),k=h?`${h}://${n}`:n,_=e.statement?`${e.statement}
`:"",j=`${k} wants you to sign in with your Ethereum account:
${v}

${_}`;let x=`URI: ${f}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),d&&(x+=`
Request ID: ${d}`),u){let p=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}x+=p}return`${j}
${x}`}class Oe extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Lo extends Oe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function MN({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(ty(o)){if(s.rp.id!==o)return new Oe({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UN({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ty(n)){if(r.rpId!==n)return new Oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var ey=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class FN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zN=new FN;function WN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ey(e,["challenge","user","excludeCredentials"]),s=ya(t).buffer,o=Object.assign(Object.assign({},r),{id:ya(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const u=n[d];l.excludeCredentials[d]=Object.assign(Object.assign({},u),{id:ya(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function qN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ey(e,["challenge","allowCredentials"]),a=ya(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ya(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function BN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:En(new Uint8Array(e.response.attestationObject)),clientDataJSON:En(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:En(new Uint8Array(a.authenticatorData)),clientDataJSON:En(new Uint8Array(a.clientDataJSON)),signature:En(new Uint8Array(a.signature)),userHandle:a.userHandle?En(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ty(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lm(){var e,t;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function VN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:MN({error:t,options:e})}}}async function KN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:UN({error:t,options:e})}}}const YN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},JN={userVerification:"preferred",hints:["security-key"]};function Mo(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const o=a[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const l=n[s];t(l)?n[s]=Mo(l,o):n[s]=Mo(o)}else n[s]=o}return n}function GN(e,t){return Mo(YN,e,t||{})}function QN(e,t){return Mo(JN,e,t||{})}class XN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const d=a??zN.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=GN(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:f}=await VN({publicKey:u,signal:d});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=QN(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:f}=await KN(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:d}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!Lm())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!Lm())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:d,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in register",o)}}}}$N();const ZN={url:Y_,storageKey:J_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mm(e,t,r){return await r()}const Yn={};class Ws{get jwks(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ws.nextInstanceID,Ws.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},ZN),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new ON({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Qp(a.fetch),this.lock=a.lock||Mm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=DN:this.lock=Mm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XN(this)},this.persistSession?(a.storage?this.storage=a.storage:Gp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Im(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Im(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),rN(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new jn("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ft}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:h,password:f,options:g}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await Hn(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:k},xform:Ft})}else if("phone"in t){const{phone:h,password:f,options:g}=t;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ft})}else throw new Li("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$m})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$m})}else throw new Li("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Bn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,o,l,d,u,h,f,g;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:_,wallet:j,statement:x,options:p}=t;let y;if(xt())if(typeof j=="object")y=j;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")y=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=j}const S=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),C=await y.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Zp(C[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const U=await y.request({method:"eth_chainId"});E=AN(U)}const O={domain:S.host,address:N,statement:x,uri:S.href,version:"1",chainId:E,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=p==null?void 0:p.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=LN(O),k=await y.request({method:"personal_sign",params:[IN(v),N]})}try{const{data:_,error:j}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ft});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Bn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(W(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var r,n,a,s,o,l,d,u,h,f,g,v;let k,_;if("message"in t)k=t.message,_=t.signature;else{const{chain:j,wallet:x,statement:p,options:y}=t;let S;if(xt())if(typeof x=="object")S=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const C=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),p?{statement:p}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)k=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(k),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=N}}try{const{data:j,error:x}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:En(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ft});if(x)throw x;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Bn}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:x})}catch(j){if(W(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await pn(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ft});if(await Mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Bn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(W(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ft}),{data:d,error:u}=l;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Bn}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:d}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Hn(this.storage,this.storageKey));const{error:f}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:d}=t,{data:u,error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Li("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ft});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Hn(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:EN})}catch(s){if(W(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fr;const{error:a}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await K(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await K(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Li("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await pn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pc()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,h))})}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hr}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fr}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Hr})})}catch(r){if(W(r))return tN(r)&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Fr;const o=a.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await Hn(this.storage,this.storageKey));const{data:u,error:h}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Hr});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=gc(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fr;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!xt())throw new Mi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Em("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Em("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=t;if(!s||!l||!o||!u)throw new Mi("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const v=g-h;v*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const k=g-f;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,g,h);const{data:_,error:j}=await this._getUser(s);if(j)throw j;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await pn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(eN(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=cN(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hn(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(W(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,d,u,h;const{data:f,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return xt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:o,provider:l,token:d,access_token:u,nonce:h}=t,f=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:d,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ft}),{data:g,error:v}=f;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Bn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:v})}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await fN(async a=>(a>0&&await hN(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ft})),(a,s)=>{const o=200*Math.pow(2,a);return s&&mc(s)&&Date.now()+o-n<Jn})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await pn(this.storage,this.storageKey);if(a&&this.userStorage){let o=await pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Gn(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pc()}else if(a&&!a.user&&!a.user){const o=await pn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Mr(this.storage,this.storageKey+"-user"),await Gn(this.storage,this.storageKey,a)):a.user=pc()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${fc}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),mc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ol;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Fr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),W(s)){const o={data:null,error:s};return mc(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gn(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=Rm(a);await Gn(this.storage,this.storageKey,s)}else{const a=Rm(r);await Gn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mr(this.storage,this.storageKey),await Mr(this.storage,this.storageKey+"-code-verifier"),await Mr(this.storage,this.storageKey+"-user"),this.userStorage&&await Mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Jn}ms, refresh threshold is ${kd} ticks`),a<=kd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Hn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BN(t.webauthn.credential_response):HN(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:d}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:WN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:qN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gc(a.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+X_>a)return n;const{data:s,error:o}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};n=v.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:d}}=gc(n);r!=null&&r.allowExpired||wN(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:o},error:null}}const h=bN(a.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,oN(`${l}.${d}`)))throw new Nd("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}Ws.nextInstanceID=0;const e2=Ws;class t2 extends e2{constructor(t){super(t)}}var r2=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})};class n2{constructor(t,r,n){var a,s,o;this.supabaseUrl=t,this.supabaseKey=r;const l=K_(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:L_,realtime:U_,auth:Object.assign(Object.assign({},M_),{storageKey:d}),global:I_},h=V_(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=q_(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Zj(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new D_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Oj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return r2(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:l,lock:d,debug:u},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t2({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:d,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new p_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const a2=(e,t,r)=>new n2(e,t,r);function s2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}s2()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const i2="https://dvbdvftaklstyhpqznmu.supabase.co",o2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2YmR2ZnRha2xzdHlocHF6bm11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NTY4NDYsImV4cCI6MjA3NTUzMjg0Nn0.C6JeJAfsAOAvbd6NmbnkFx4Jp6dCdwQPUU8ISsigu0U",$=a2(i2,o2),kr=async()=>{const{data:e,error:t}=await $.from("members").select("*").order("nome",{ascending:!0});if(t)throw t;return e},ry=async e=>{const{data:t,error:r}=await $.from("members").select("*").eq("id",e).single();if(r)throw r;return t},l2=async(e,t=3,r=1e3)=>{for(let n=0;n<t;n++)try{return await e()}catch(a){if(console.log(`Tentativa ${n+1} de ${t} falhou:`,a.message),n===t-1)throw a;const s=r*Math.pow(2,n);console.log(`Aguardando ${s}ms antes de tentar novamente...`),await new Promise(o=>setTimeout(o,s))}},Sd=async e=>(console.log("Creating member with data:",e),l2(async()=>{const{data:t,error:r}=await $.from("members").insert([e]).select().single();if(r)throw console.error("Supabase error creating member:",r),r;return console.log("Member created successfully:",t),t},3,1e3)),ny=async(e,t)=>{const{id:r,created_at:n,updated_at:a,data_cadastro:s,familiaId:o,...l}=t;console.log("updateMember - ID:",e),console.log("updateMember - Dados recebidos:",t),console.log("updateMember - Dados limpos a enviar:",l),console.log("updateMember - Funcoes:",l.funcoes);const{data:d,error:u}=await $.from("members").update(l).eq("id",e).select().single();if(u)throw console.error("Erro do Supabase ao atualizar:",u),u;return console.log("Membro atualizado no Supabase:",d),console.log("Funcoes retornadas do Supabase:",d.funcoes),d},c2=async e=>{const{error:t}=await $.from("members").delete().eq("id",e);if(t)throw t},ay=async(e,t)=>{const{data:r,error:n}=await $.from("members").select("*").or(`nome.eq.${e},email.eq.${e}`).eq("senha",t).single();if(n)throw n;return r},Ed=async e=>{const{data:t,error:r}=await $.from("members").select("*").ilike("nome",`%${e}%`).order("nome",{ascending:!0});if(r)throw r;return t},xr=async(e,t=null,r=null)=>{if(e==="louvor"){let o=$.from("escalas_louvor").select(`
                *,
                musicos:escalas_louvor_musicos(
                    id,
                    instrumento,
                    membro_id,
                    membro:members(*)
                )
            `).order("data",{ascending:!0});t&&(o=o.gte("data",t)),r&&(o=o.lte("data",r));const{data:l,error:d}=await o;if(d)throw console.error("Erro ao buscar escalas de louvor:",d),d;return console.log("Escalas de louvor carregadas:",l),l.map(u=>{var h;return{...u,musicos:((h=u.musicos)==null?void 0:h.map(f=>({...f.membro,instrumento:f.instrumento})))||[]}})}let n=$.from("ministry_schedules").select("*").eq("ministerio",e).order("data",{ascending:!0});t&&(n=n.gte("data",t)),r&&(n=n.lte("data",r));const{data:a,error:s}=await n;if(s)throw s;return a},d2=async e=>{const{data:t,error:r}=await $.from("ministry_schedules").select("*").eq("id",e).single();if(r)throw r;return t},to=async e=>{if(e.ministerio==="louvor"){const{musicos:n,...a}=e,{data:s,error:o}=await $.from("escalas_louvor").insert([a]).select().single();if(o)throw o;if(n&&n.length>0){const l=n.map(u=>({escala_id:s.id,membro_id:u.id,instrumento:u.instrumento})),{error:d}=await $.from("escalas_louvor_musicos").insert(l);if(d)throw d}return s}const{data:t,error:r}=await $.from("ministry_schedules").insert([e]).select().single();if(r)throw r;return t},ro=async(e,t)=>{if(t.ministerio==="louvor"){const{id:d,created_at:u,updated_at:h,musicos:f,...g}=t,{data:v,error:k}=await $.from("escalas_louvor").update(g).eq("id",e).select().single();if(k)throw k;const{error:_}=await $.from("escalas_louvor_musicos").delete().eq("escala_id",e);if(_)throw _;if(f&&f.length>0){const j=f.map(p=>({escala_id:e,membro_id:p.id,instrumento:p.instrumento})),{error:x}=await $.from("escalas_louvor_musicos").insert(j);if(x)throw x}return v}const{id:r,created_at:n,updated_at:a,...s}=t,{data:o,error:l}=await $.from("ministry_schedules").update(s).eq("id",e).select().single();if(l)throw l;return o},no=async(e,t=null)=>{if(t==="louvor"){const{error:n}=await $.from("escalas_louvor").delete().eq("id",e);if(n)throw n;return}const{error:r}=await $.from("ministry_schedules").delete().eq("id",e);if(r)throw r},sy=async()=>{const{data:e,error:t}=await $.from("families").select("*").order("nome",{ascending:!0});if(t)throw t;return e},u2=async e=>{const{data:t,error:r}=await $.from("families").insert([e]).select().single();if(r)throw r;return t},h2=async(e,t)=>{const{data:r,error:n}=await $.from("families").update(t).eq("id",e).select().single();if(n)throw n;return r},iy=async e=>{const{data:t,error:r}=await $.from("families").select("*").contains("membros_ids",[e]).single();if(r){if(r.code==="PGRST116")return null;throw r}return t},oy=async()=>{const{data:e,error:t}=await $.from("events").select("*").order("data",{ascending:!0});if(t)throw t;return e},f2=async e=>{const{data:t,error:r}=await $.from("events").insert([e]).select().single();if(r)throw r;return t},m2=async(e,t)=>{const{data:r,error:n}=await $.from("events").update(t).eq("id",e).select().single();if(n)throw n;return r},g2=async e=>{const{error:t}=await $.from("events").delete().eq("id",e);if(t)throw t},ly=async e=>{const{data:t,error:r}=await $.from("event_foods").select(`
            *,
            member:members!event_foods_membro_id_fkey(id, nome)
        `).eq("event_id",e);if(r)throw r;return t},p2=async e=>{const{data:t,error:r}=await $.from("event_foods").insert([e]).select().single();if(r)throw r;return t},cy=async(e,t)=>{const{data:r,error:n}=await $.from("event_foods").update(t).eq("id",e).select().single();if(n)throw n;return r},y2=async e=>{const{error:t}=await $.from("event_foods").delete().eq("event_id",e);if(t)throw t},x2=async e=>{console.log("deleteEventFood chamada com ID:",e);const{data:t,error:r}=await $.from("event_foods").delete().eq("id",e).select();if(console.log("Resultado da deleção:",{data:t,error:r}),r)throw console.error("Erro no deleteEventFood:",r),r;return console.log("DeleteEventFood concluído sem erro"),t},dy=async()=>{const e=new Date().toISOString(),{data:t,error:r}=await $.from("events").select("id").lt("data",e);if(r)throw r;if(t&&t.length>0){const n=t.map(s=>s.id),{error:a}=await $.from("event_foods").delete().in("event_id",n);if(a)throw a;return{cleaned:t.length}}return{cleaned:0}},Cd=async(e,t)=>{const{data:r,error:n}=await $.from("event_participants").insert([{event_id:e,membro_id:t,confirmado:!0}]).select().single();if(n)throw n;return r},uy=async(e,t)=>{console.log("unregisterEventParticipant - eventId:",e,"type:",typeof e),console.log("unregisterEventParticipant - membroId:",t,"type:",typeof t);const{data:r}=await $.from("event_participants").select("*");console.log("unregisterEventParticipant - ALL records in table:",r);const{data:n,error:a}=await $.from("event_participants").select("*").eq("event_id",e).eq("membro_id",t);console.log("unregisterEventParticipant - existing records:",n),console.log("unregisterEventParticipant - check error:",a);const{data:s,error:o}=await $.from("event_participants").delete().eq("event_id",e).eq("membro_id",t).select();if(console.log("unregisterEventParticipant - deleted data:",s),console.log("unregisterEventParticipant - delete error:",o),o)throw o;return s},v2=async e=>{const{data:t,error:r}=await $.from("event_participants").select(`
            *,
            member:members!event_participants_membro_id_fkey(id, nome)
        `).eq("event_id",e);if(r)throw r;return t},ds=async(e,t)=>{const{data:r,error:n}=await $.from("event_participants").select("*").eq("event_id",e).eq("membro_id",t).maybeSingle();if(n)throw n;return r!==null},jr=async()=>{const{data:e,error:t}=await $.from("workshops").select(`
            *,
            workshop_registrations(count)
        `).order("data",{ascending:!0});if(t)throw t;return e.map(r=>{var n,a;return{...r,inscritos:((a=(n=r.workshop_registrations)==null?void 0:n[0])==null?void 0:a.count)||0}})},hy=async e=>{const{data:t,error:r}=await $.from("workshops").insert([e]).select().single();if(r)throw r;return t},Td=async(e,t)=>{const{data:r,error:n}=await $.from("workshops").update(t).eq("id",e).select().single();if(n)throw n;return r},fy=async e=>{const{error:t}=await $.from("workshops").delete().eq("id",e);if(t)throw t},ao=async(e,t)=>{const{data:r,error:n}=await $.from("workshop_registrations").insert([{workshop_id:Number(e),membro_id:Number(t)}]).select().single();if(n)throw n;return r},Pd=async(e,t)=>{const{error:r}=await $.from("workshop_registrations").delete().eq("workshop_id",Number(e)).eq("membro_id",Number(t));if(r)throw r},Qn=async(e,t)=>{const{data:r,error:n}=await $.from("workshop_registrations").select("*").eq("workshop_id",Number(e)).eq("membro_id",Number(t)).maybeSingle();if(n)throw n;return r!==null},Od=async e=>{const{data:t,error:r}=await $.from("workshop_registrations").select(`
            *,
            member:members!workshop_registrations_membro_id_fkey(id, nome)
        `).eq("workshop_id",Number(e));if(r)throw r;return t},my=async()=>{const{data:e,error:t}=await $.from("avisos").select("*").order("data_envio",{ascending:!1});if(t)throw t;return e},w2=async e=>{var n;const{data:t,error:r}=await $.from("avisos").insert([e]).select().single();if(r)throw r;if(t){const a=await kr();let s=[];if((n=e.destinatarios)!=null&&n.includes("todos")?s=a:s=a.filter(o=>{var d;const l=o.funcoes||[];return(d=e.destinatarios)==null?void 0:d.some(u=>l.includes(u))}),s.length>0){const o=s.map(l=>({aviso_id:t.id,membro_id:l.id,lido:!1}));await $.from("aviso_notifications").insert(o)}}return t},gy=async e=>{const{count:t,error:r}=await $.from("aviso_notifications").select("*",{count:"exact",head:!0}).eq("membro_id",e).eq("lido",!1);if(r)throw r;return t||0},Rd=async(e,t)=>{const{data:r,error:n}=await $.from("aviso_notifications").update({lido:!0,data_leitura:new Date().toISOString()}).eq("aviso_id",e).eq("membro_id",t);if(n)throw n;return r},so=async e=>{const{data:t,error:r}=await $.from("avisos").select(`
            *,
            aviso_notifications!inner(lido, data_leitura)
        `).eq("aviso_notifications.membro_id",e).order("data_envio",{ascending:!1});if(r)throw r;return t},b2=async e=>{const{error:t}=await $.from("avisos").delete().eq("id",e);if(t)throw t},Dd=async()=>{const{data:e,error:t}=await $.from("playlist_zoe").select("*").eq("ativa",!0).order("ordem",{ascending:!0});if(t)throw t;return e},py=async e=>{const{data:t,error:r}=await $.from("playlist_zoe").insert([e]).select().single();if(r)throw r;return t},k2=async(e,t)=>{const{data:r,error:n}=await $.from("playlist_zoe").update(t).eq("id",e).select().single();if(n)throw n;return r},j2=async e=>{const{error:t}=await $.from("playlist_zoe").delete().eq("id",e);if(t)throw t},yy=async()=>{const{data:e,error:t}=await $.from("prayer_requests").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},_2=async e=>{const{data:t,error:r}=await $.from("prayer_requests").insert([e]).select().single();if(r)throw r;return t},bn=(e,t,r,n)=>$.channel(`${e}_changes`).on("postgres_changes",{event:"INSERT",schema:"public",table:e},s=>{console.log(`[Realtime] ${e} INSERT:`,s.new),t&&t(s.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:e},s=>{console.log(`[Realtime] ${e} UPDATE:`,s.new),r&&r(s.new,s.old)}).on("postgres_changes",{event:"DELETE",schema:"public",table:e},s=>{console.log(`[Realtime] ${e} DELETE:`,s.old),n&&n(s.old)}).subscribe(),N2=async(e,t,r)=>{try{const n=e.name.split(".").pop(),a=`${r}/${Date.now()}.${n}`,{data:s,error:o}=await $.storage.from("church-photos").upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:l}}=$.storage.from("church-photos").getPublicUrl(a),{data:d,error:u}=await $.from("photos").insert([{titulo:t.titulo,descricao:t.descricao||null,url:l,storage_path:a,autor_id:r,categoria:t.categoria||"geral",data_foto:t.data_foto||new Date().toISOString().split("T")[0]}]).select().single();if(u)throw u;return d}catch(n){throw console.error("Erro ao fazer upload da foto:",n),n}},xy=async(e=null)=>{let t=$.from("photos").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("categoria",e));const{data:r,error:n}=await t;if(n)throw n;return r},S2=async(e,t)=>{try{const{error:r}=await $.storage.from("church-photos").remove([t]);if(r)throw r;const{error:n}=await $.from("photos").delete().eq("id",e);if(n)throw n}catch(r){throw console.error("Erro ao deletar foto:",r),r}},E2=async(e,t)=>{const{data:r,error:n}=await $.from("photos").update(t).eq("id",e).select().single();if(n)throw n;return r},C2=async()=>{const{data:e,error:t}=await $.from("church_settings").select("*");if(t)throw t;const r={};return e.forEach(n=>{r[n.setting_key]=n.setting_value}),r},vy=async e=>{const{data:t,error:r}=await $.from("church_settings").select("setting_value").eq("setting_key",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t.setting_value},wy=async(e,t)=>{const{data:r,error:n}=await $.from("church_settings").upsert({setting_key:e,setting_value:t},{onConflict:"setting_key"}).select().single();if(n)throw n;return r},T2=async e=>{const t=e.name.split(".").pop(),n=`${`logo-${Date.now()}.${t}`}`,{data:a,error:s}=await $.storage.from("church-logos").upload(n,e,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:{publicUrl:o}}=$.storage.from("church-logos").getPublicUrl(n);return await wy("church_logo_url",o),o},P2=async e=>{const t=e.split("/church-logos/");if(t.length<2)throw new Error("URL inválida");const r=t[1],{error:n}=await $.storage.from("church-logos").remove([r]);if(n)throw n;return!0},Ui=Object.freeze(Object.defineProperty({__proto__:null,checkEventRegistration:ds,checkWorkshopRegistration:Qn,cleanupPastEventFoods:dy,createAviso:w2,createEvent:f2,createEventFood:p2,createFamily:u2,createMember:Sd,createMinistrySchedule:to,createPlaylistMusica:py,createPrayerRequest:_2,createWorkshop:hy,deleteAviso:b2,deleteChurchLogo:P2,deleteEvent:g2,deleteEventFood:x2,deleteEventFoods:y2,deleteMember:c2,deleteMinistrySchedule:no,deletePhoto:S2,deletePlaylistMusica:j2,deleteWorkshop:fy,getAvisos:my,getAvisosWithReadStatus:so,getChurchSetting:vy,getChurchSettings:C2,getEventFoods:ly,getEventParticipants:v2,getEvents:oy,getFamilies:sy,getFamilyByMemberId:iy,getMemberById:ry,getMembers:kr,getMinistrySchedules:xr,getPhotos:xy,getPlaylistMusicas:Dd,getPrayerRequests:yy,getScheduleById:d2,getUnreadAvisosCount:gy,getWorkshopRegistrations:Od,getWorkshops:jr,loginMember:ay,markAvisoAsRead:Rd,registerEventParticipant:Cd,registerWorkshopParticipant:ao,searchMembers:Ed,subscribeToTable:bn,unregisterEventParticipant:uy,unregisterWorkshopParticipant:Pd,updateChurchSetting:wy,updateEvent:m2,updateEventFood:cy,updateFamily:h2,updateMember:ny,updateMinistrySchedule:ro,updatePhoto:E2,updatePlaylistMusica:k2,updateWorkshop:Td,uploadChurchLogo:T2,uploadPhoto:N2},Symbol.toStringTag,{value:"Module"}));function by({value:e,onChange:t,label:r,disabled:n=!1}){const[a,s]=w.useState(!1),[o,l]=w.useState("month"),[d,u]=w.useState(e?ae(e):new Date),[h,f]=w.useState(()=>{if(!e)return"";try{return B(ae(e),"dd/MM/yyyy")}catch{return""}}),g=y=>{const S=y.replace(/\D/g,"");return S.length<=2?S:S.length<=4?`${S.slice(0,2)}/${S.slice(2)}`:`${S.slice(0,2)}/${S.slice(2,4)}/${S.slice(4,8)}`},v=y=>{const S=y.replace(/\D/g,"");if(S.length!==8)return null;const C=S.slice(0,2),N=S.slice(2,4),E=S.slice(4,8),O=new Date(E,N-1,C);return O.getDate()!==parseInt(C)||O.getMonth()!==parseInt(N)-1?null:`${E}-${N}-${C}`},k=y=>{const S=g(y.target.value);if(f(S),S.length===10){const C=v(S);C&&(t(C),u(ae(C)))}},_=y=>{t(y),f(B(ae(y),"dd/MM/yyyy")),s(!1)},j=()=>{const y=kp(d),S=bp(d),C=xp(y,{weekStartsOn:1}),N=jp(S,{weekStartsOn:1}),E="d",O=[];let U=[],L=C;for(;L<=N;){for(let ye=0;ye<7;ye++){const We=L,Ke=Cp(L,y),et=Tp(L),xe=e&&B(ae(e),"yyyy-MM-dd")===B(We,"yyyy-MM-dd");U.push(i.jsx("div",{onClick:()=>{n||_(B(We,"yyyy-MM-dd"))},className:`
                            aspect-square flex items-center justify-center p-2 cursor-pointer text-base
                            ${Ke?"text-gray-900 dark:text-white":"text-gray-300 dark:text-gray-600"}
                            ${et&&!xe?"bg-gray-200 dark:bg-gray-700 rounded-full font-bold":""}
                            ${xe?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full font-bold":""}
                            ${!et&&!xe?"hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full":""}
                        `,children:B(L,E)},L)),L=yp(L,1)}O.push(i.jsx("div",{className:"grid grid-cols-7",children:U},L)),U=[]}return i.jsx("div",{children:O})},x=()=>{const y=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=d.getMonth();return i.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map((C,N)=>i.jsx("button",{type:"button",onClick:()=>{u(new Date(d.getFullYear(),N,1)),l("day")},className:`
                            p-3 rounded-lg text-center cursor-pointer transition-colors
                            ${S===N?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}
                        `,children:C},C))})},p=()=>{const y=d.getFullYear(),S=y-50,C=Array.from({length:101},(N,E)=>S+E);return i.jsx("div",{className:"grid grid-cols-3 gap-3 max-h-64 overflow-y-auto",children:C.map(N=>i.jsx("button",{type:"button",onClick:()=>{u(new Date(N,d.getMonth(),1)),l("month")},className:`
                            p-3 rounded-lg text-center cursor-pointer transition-colors
                            ${y===N?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}
                        `,children:N},N))})};return i.jsxs("div",{className:"relative",children:[r&&i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:h,onChange:k,onFocus:()=>!n&&s(!0),disabled:n,placeholder:"DD/MM/AAAA",maxLength:10,className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed"}),i.jsx("button",{type:"button",onClick:()=>!n&&s(!a),disabled:n,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),i.jsxs("div",{className:"absolute z-50 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 border border-gray-200 dark:border-gray-700 w-full min-w-[320px]",children:[i.jsxs("div",{className:"flex justify-center mb-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>l("day"),className:`px-6 py-2 text-sm font-medium transition-colors ${o==="day"?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:"Dia"}),i.jsx("button",{type:"button",onClick:()=>l("month"),className:`px-6 py-2 text-sm font-medium transition-colors ${o==="month"?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:"Mês"}),i.jsx("button",{type:"button",onClick:()=>l("year"),className:`px-6 py-2 text-sm font-medium transition-colors ${o==="year"?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:"Ano"})]}),o==="day"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:B(d,"MMMM",{locale:Ae})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>u(new Date(d.getFullYear(),d.getMonth()-1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(gp,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{type:"button",onClick:()=>u(new Date(d.getFullYear(),d.getMonth()+1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(eo,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})]}),i.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mn","Tu","We","Th","Fr","Sa","Su"].map(y=>i.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2",children:y},y))}),j()]}),o==="month"&&x(),o==="year"&&p()]})]})]})}const Ur=({isOpen:e,onClose:t,title:r,children:n,maxWidth:a="max-w-lg",showCloseButton:s=!0,closeOnOverlayClick:o=!0})=>(w.useEffect(()=>{},[e]),e?i.jsxs("div",{className:"fixed z-[100] flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100vh",paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)",paddingLeft:"env(safe-area-inset-left, 0px)",paddingRight:"env(safe-area-inset-right, 0px)"},children:[i.jsx("div",{className:"absolute bg-black/60 backdrop-blur-sm",style:{top:"env(safe-area-inset-top, 0px)",left:"env(safe-area-inset-left, 0px)",right:"env(safe-area-inset-right, 0px)",bottom:"env(safe-area-inset-bottom, 0px)"},onClick:o?t:void 0}),i.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:i.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full ${a} flex flex-col`,style:{maxHeight:"70vh"},onClick:l=>l.stopPropagation(),children:[(r||s)&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[r&&i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r}),s&&i.jsx("button",{onClick:t,className:"ml-auto p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:n})]})})]}):null),O2=async e=>{if(!$d.isNativePlatform()){console.log("Push notifications only work on native platforms");return}console.log("🔔 Initializing push notifications for member:",e);try{let t=await fn.checkPermissions();if(console.log("📱 Permission status:",t),t.receive==="prompt"&&(console.log("🔔 Requesting permissions..."),t=await fn.requestPermissions(),console.log("📱 Permission after request:",t)),t.receive!=="granted"){console.log("❌ Push notification permission denied");return}console.log("🎧 Setting up push notification listeners..."),await fn.addListener("registration",async r=>{console.log("✅ Push registration success!"),console.log("🔑 Token:",r.value),e&&(console.log("💾 Saving token to Supabase..."),await R2(e,r.value))}),await fn.addListener("registrationError",r=>{console.error("🔴 Registration error:",JSON.stringify(r))}),await fn.addListener("pushNotificationReceived",r=>{console.log("📬 Push notification received:",r)}),await fn.addListener("pushNotificationActionPerformed",r=>{console.log("👆 Push notification action performed:",r),D2(r)}),console.log("✅ Registering with APNs/FCM..."),await fn.register()}catch(t){console.error("Error initializing push notifications:",t)}},R2=async(e,t)=>{try{const r=$d.getPlatform();console.log("📱 Platform:",r),console.log("👤 Member ID:",e),console.log("🔑 Token:",t);const{data:n,error:a}=await $.from("device_tokens").select("*").eq("token",t).maybeSingle();if(a)throw console.error("❌ Error checking existing token:",a),a;if(n){console.log("🔄 Token already exists, updating...");const{error:s}=await $.from("device_tokens").update({member_id:e,platform:r,updated_at:new Date().toISOString()}).eq("token",t);if(s)throw console.error("❌ Error updating token:",s),s;console.log("✅ Token updated successfully!")}else{console.log("➕ Inserting new token...");const{error:s}=await $.from("device_tokens").insert({member_id:e,token:t,platform:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(s)throw console.error("❌ Error inserting token:",s),s;console.log("✅ New device token saved successfully!")}}catch(r){console.error("❌ Error saving device token:",r)}},D2=e=>{const t=e.notification.data;t.type==="aviso"?window.location.hash="#avisos":t.type==="evento"&&(window.location.hash="#eventos")},$2=async e=>{try{const t=$d.getPlatform();await $.from("device_tokens").delete().eq("member_id",e).eq("platform",t),console.log("Device token removed successfully")}catch(t){console.error("Error removing device token:",t)}};function A2(e){w.useEffect(()=>{if(e){const t=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=t}}},[e])}const Um=[{texto:"Porque Deus amou o mundo de tal maneira que deu o seu Filho unigênito, para que todo aquele que nele crê não pereça, mas tenha a vida eterna.",referencia:"João 3:16"},{texto:"Tudo posso naquele que me fortalece.",referencia:"Filipenses 4:13"},{texto:"O Senhor é o meu pastor, nada me faltará.",referencia:"Salmos 23:1"},{texto:"Confia no Senhor de todo o teu coração e não te estribes no teu próprio entendimento.",referencia:"Provérbios 3:5"},{texto:"Ainda que eu andasse pelo vale da sombra da morte, não temeria mal algum, porque tu estás comigo.",referencia:"Salmos 23:4"},{texto:"Entrega o teu caminho ao Senhor; confia nele, e ele o fará.",referencia:"Salmos 37:5"},{texto:"Mas os que esperam no Senhor renovarão as suas forças; subirão com asas como águias.",referencia:"Isaías 40:31"},{texto:"E sabemos que todas as coisas contribuem juntamente para o bem daqueles que amam a Deus.",referencia:"Romanos 8:28"},{texto:"O Senhor é a minha luz e a minha salvação; a quem temerei?",referencia:"Salmos 27:1"},{texto:"Não temas, porque eu sou contigo; não te assombres, porque eu sou o teu Deus.",referencia:"Isaías 41:10"},{texto:"Buscai primeiro o reino de Deus, e a sua justiça, e todas estas coisas vos serão acrescentadas.",referencia:"Mateus 6:33"},{texto:"Lançando sobre ele toda a vossa ansiedade, porque ele tem cuidado de vós.",referencia:"1 Pedro 5:7"},{texto:"A alegria do Senhor é a vossa força.",referencia:"Neemias 8:10"},{texto:"Eu sou o caminho, e a verdade, e a vida. Ninguém vem ao Pai senão por mim.",referencia:"João 14:6"},{texto:"Grande é o Senhor e muito digno de ser louvado.",referencia:"Salmos 48:1"},{texto:"Eis que estou convosco todos os dias, até à consumação dos séculos.",referencia:"Mateus 28:20"},{texto:"O amor nunca falha.",referencia:"1 Coríntios 13:8"},{texto:"Porque onde estiverem dois ou três reunidos em meu nome, aí estou eu no meio deles.",referencia:"Mateus 18:20"},{texto:"Alegrai-vos sempre no Senhor; outra vez digo, alegrai-vos.",referencia:"Filipenses 4:4"},{texto:"Bem-aventurados os limpos de coração, porque eles verão a Deus.",referencia:"Mateus 5:8"}],I2=({currentMember:e,events:t=[],avisos:r=[],onAddMember:n,onLogout:a})=>{var Sh,Eh,Ch,Th,Ph,Oh,Rh,Dh,$h,Ah,Ih,Lh,Mh,Uh,Fh,zh,Wh,qh,Bh,Hh,Vh,Kh,Yh,Jh;const[s,o]=w.useState(e),[l,d]=w.useState(!1),[u,h]=w.useState(!1),f=c=>{if(!c)return null;const m=new Date,b=new Date(c);let T=m.getFullYear()-b.getFullYear();const P=m.getMonth()-b.getMonth();return(P<0||P===0&&m.getDate()<b.getDate())&&T--,T},g=c=>c?c.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2):"??",v=[{id:"home",label:"Feed",icon:ok},{id:"perfil",label:"Família",icon:Pe},{id:"eventos",label:"Eventos",icon:Ne},{id:"avisos",label:"Avisos",icon:ac},{id:"playlistzoe",label:"Playlist Zoe",icon:null},{id:"configuracoes",label:"Configurações",icon:mm}],k={louvor:{id:"louvor",label:"Louvor",icon:we},"líder de louvor":{id:"louvor",label:"Louvor",icon:we},diaconia:{id:"diaconia",label:"Diaconia",icon:ts},"lider da diaconia":{id:"diaconia",label:"Diaconia",icon:ts},kids:{id:"kids",label:"Kids",icon:Ct},"lider kids":{id:"kids",label:"Kids",icon:Ct},"professor kids":{id:"kids",label:"Kids",icon:Ct},jovens:{id:"jovens",label:"Jovens",icon:nr},jovem:{id:"jovens",label:"Jovens",icon:nr},"lider jovens":{id:"jovens",label:"Jovens",icon:nr}},_=w.useMemo(()=>{const c=[...v],m=(s==null?void 0:s.funcoes)||[],b=new Set;return m.forEach(T=>{k[T]&&!b.has(k[T].id)&&(c.push(k[T]),b.add(k[T].id))}),c},[s]),[j,x]=w.useState("home"),[p,y]=w.useState(new Date),[S,C]=w.useState("list");w.useState("month");const[N,E]=w.useState(null),[O,U]=w.useState(!1),[L,ye]=w.useState({}),[We,Ke]=w.useState(!1),[et,xe]=w.useState(""),[tt,Qt]=w.useState({}),[I,H]=w.useState(!1),[V,se]=w.useState({nome:"",descricao:""}),[ue,Xt]=w.useState([]),[F,It]=w.useState(null),[Zt,$r]=w.useState(!1),[Fu,ll]=w.useState(!1),[qe,Aa]=w.useState({nome:"",descricao:"",membrosIds:[]}),[ie,fr]=w.useState({nome:"",telefone:"",dataNascimento:"",idade:"",genero:"",funcoes:[]}),[Xs,ky]=w.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[zu,cl]=w.useState([]),[Nt,dl]=w.useState([]),[Wu,ul]=w.useState(!1),[_e,dn]=w.useState({nome:"",telefone:"",nascimento:"",genero:"",funcoes:[]}),[St,Zs]=w.useState([]),[rt,ei]=w.useState([]),[hl,ti]=w.useState([]),[q2,jy]=w.useState([]),[B2,qu]=w.useState(!1),[Y,fl]=w.useState(null),[ri,ni]=w.useState(!1),[Bu,Mn]=w.useState([]),[Hu,ml]=w.useState(!1),[Vu,gl]=w.useState(""),[Ku,Ia]=w.useState([]),[ai,Yu]=w.useState(0),[un,Ju]=w.useState([]),[Gu,pl]=w.useState(!1),[Qu,yl]=w.useState(""),[Xu,La]=w.useState([]),[Zu,xl]=w.useState(!1),[eh,Un]=w.useState(!1),[si,ii]=w.useState(null),[Ma,_y]=w.useState(!1),[th,Ua]=w.useState([]),[Fn,Ny]=w.useState([]),[rh,Fa]=w.useState(!1),[oi,li]=w.useState(null),[nh,ci]=w.useState(!1),[ee,vl]=w.useState(null),[di,wl]=w.useState(!1),[er,ah]=w.useState([]),[sh,ui]=w.useState(!1),[q,Te]=w.useState({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]}),[D,me]=w.useState({data:"",horario:"19:00",categoria:"culto",descricao:"",local:"",observacoes:"",membros_ids:[],musicas:[],instrumentos:{},newMusicaTemp:""}),[ih,bl]=w.useState(!1),[mr,za]=w.useState({nome:"",artista:"",link:""}),[oh,kl]=w.useState(!1),[lh,jl]=w.useState(!1),[gr,Sy]=w.useState([]),[Ar,Ey]=w.useState([]),[te,Cy]=w.useState({criancas:[],professores:[],all:[]}),[ch,_l]=w.useState(!1),[dh,hi]=w.useState(!1),[Nl,Wa]=w.useState(null),[J,Et]=w.useState({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),[uh,fi]=w.useState(!1),[hh,fh]=w.useState(!1),[mh,Sl]=w.useState(!1),[gh,El]=w.useState(!1),[nt,Ty]=w.useState([]),[pr,Py]=w.useState(null),[ph,yh]=w.useState(!1),[tr,xh]=w.useState(0),[vh,Oy]=w.useState(0),[wh,Ry]=w.useState(0),[bh,qa]=w.useState(!1),[kh,mi]=w.useState(!1);A2(O||I||Zt||Fu||Wu||ri||Hu||Gu||Zu||eh||rh||nh||sh||ih||oh||lh||ch||dh||uh||hh||mh||gh||ph||bh||kh||l);const[jh,gi]=w.useState(!1),[Dy,$y]=w.useState(()=>{const c=localStorage.getItem("dailyMusic");if(c){const m=JSON.parse(c),b=B(new Date,"yyyy-MM-dd");if(m.date===b)return m.music}return null}),[Ay,Iy]=w.useState(()=>{const c=localStorage.getItem("dailyVerse");if(c){const m=JSON.parse(c),b=B(new Date,"yyyy-MM-dd");if(m.date===b)return m.verse}return null}),[oe,yr]=w.useState({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]}),[Ly,My]=w.useState(()=>{const c=localStorage.getItem("escalasKids");return c?JSON.parse(c):[]}),[Ye,Ba]=w.useState(null),[at,Ha]=w.useState({turmas:[],data:"",horario:"",professoresSelecionados:[]});w.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),m=b=>{ky(b.matches)};return c.addEventListener("change",m),()=>c.removeEventListener("change",m)},[]),w.useEffect(()=>{const c=()=>{window.dispatchEvent(new Event("resize"))};c(),setTimeout(c,100),setTimeout(c,300)},[]),w.useEffect(()=>(e!=null&&e.id&&O2(e.id),()=>{e!=null&&e.id&&$2(e.id)}),[e==null?void 0:e.id]),w.useEffect(()=>{const c=async()=>{if(e!=null&&e.id)try{const b=await ry(s.id);b&&(o(b),localStorage.setItem("current_member",JSON.stringify(b)))}catch(b){console.error("Erro ao recarregar dados do membro:",b)}};c();const m=setInterval(c,1e4);return()=>clearInterval(m)},[e==null?void 0:e.id]),w.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{const m=await iy(s.id);if(m){const T=(await kr()).filter(P=>{var A;return(A=m.membros_ids)==null?void 0:A.includes(P.id)});It({...m,membros:T})}}catch(m){console.error("Erro ao carregar família:",m)}})()},[s==null?void 0:s.id]),w.useEffect(()=>{const c=async()=>{if(s!=null&&s.id)try{const b=await gy(s.id);Yu(b);const T=await so(s.id);Ju(T||[])}catch(b){console.error("Erro ao carregar avisos:",b)}};c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[s==null?void 0:s.id,j]),w.useEffect(()=>{(async()=>{if(j==="avisos"&&(s!=null&&s.id)&&un.length>0)try{const m=un.filter(b=>b.aviso_notifications&&b.aviso_notifications.length>0&&!b.aviso_notifications[0].lido);for(const b of m)await Rd(b.id,s.id);if(m.length>0){const b=await so(s.id);Ju(b||[]),Yu(0)}}catch(m){console.error("Erro ao marcar avisos como lidos:",m)}})()},[j,un.length,s==null?void 0:s.id]),w.useEffect(()=>{(async()=>{try{const m=await Dd();dl(m||[])}catch(m){console.error("Erro ao carregar playlist:",m),dl([])}})()},[]),w.useEffect(()=>{(async()=>{var m;if(ri&&Y&&((m=Y.membros_ids)==null?void 0:m.length)>0)try{const T=(await kr()).filter(P=>Y.membros_ids.includes(P.id));Mn(T)}catch(b){console.error("Erro ao carregar membros da escala:",b),Mn([])}else Mn([])})()},[ri,Y]),w.useEffect(()=>{const c=async()=>{if(et.trim().length>=2)try{const b=await Ed(et.trim());cl(b)}catch(b){console.error("Erro ao buscar membros:",b),cl([])}else cl([])},m=setTimeout(()=>{c()},300);return()=>clearTimeout(m)},[et]),w.useEffect(()=>{(async()=>{if(["diaconia","louvor","kids","jovens"].includes(j)){const m=(e==null?void 0:e.funcoes)||[];let b=!1;if(j==="louvor"?b=m.some(T=>T.toLowerCase().includes("louvor")):j==="diaconia"?b=m.some(T=>T.toLowerCase().includes("diaconia")||T.toLowerCase().includes("diácono")):j==="kids"?b=m.some(T=>T.toLowerCase().includes("kids")):j==="jovens"&&(b=m.some(T=>T.toLowerCase().includes("jovens")||T.toLowerCase().includes("jovem"))),!b){console.log(`Membro não tem permissão para ver escalas de ${j}. Funções: ${m.join(", ")}`);return}qu(!0);try{const T=await xr(j);switch(console.log(`Escalas carregadas para ${j}:`,T),j){case"diaconia":Zs(T);const A=(await kr()).filter(Ue=>{var dt,Lt,hn;return((dt=Ue.funcoes)==null?void 0:dt.includes("diaconia"))||((Lt=Ue.funcoes)==null?void 0:Lt.includes("líder da diaconia"))||((hn=Ue.funcoes)==null?void 0:hn.includes("lider da diaconia"))});Ey(A);break;case"louvor":console.log("Definindo louvorSchedules:",T),ei(T);const Q=(await kr()).filter(Ue=>{var dt,Lt,hn;return((dt=Ue.funcoes)==null?void 0:dt.includes("louvor"))||((Lt=Ue.funcoes)==null?void 0:Lt.includes("líder de louvor"))||((hn=Ue.funcoes)==null?void 0:hn.includes("lider de louvor"))});console.log("Músicos de louvor:",Q),Sy(Q);break;case"kids":ti(T);const ve=await kr(),st=ve.filter(Ue=>{const dt=f(Ue.nascimento);return dt!==null&&dt<=12}),Je=ve.filter(Ue=>(Ue.funcoes||(Ue.funcao?[Ue.funcao]:[])).some(Lt=>Lt==="professor kids"||Lt==="lider kids"));console.log("Professores Kids encontrados:",Je),console.log("Todos os membros Kids:",ve),Cy({criancas:st,professores:Je,all:ve});break;case"jovens":jy(T);break}}catch(T){console.error(`Erro ao carregar escalas de ${j}:`,T)}finally{qu(!1)}}})()},[j,e]),w.useEffect(()=>{(async()=>{if(j==="galeria"||j==="home")try{const m=await xy();Ty(m||[])}catch(m){console.error("Erro ao carregar fotos:",m)}})()},[j]),w.useEffect(()=>{(async()=>{if(j==="jovens"&&e){const b=(e.funcoes||[]).includes("lider jovens");_y(b);try{const T=await jr();Ua(T||[]);const A=(await kr()).filter(z=>{const Q=f(z.nascimento),ve=z.funcoes||(z.funcao?[z.funcao]:[]);return Q!==null&&Q>=13&&Q<=30||ve.includes("jovem")});Ny(A)}catch(T){console.error("Erro ao carregar dados de jovens:",T)}}})()},[j,e]),w.useEffect(()=>{let c=window.scrollY;const m=()=>{const b=window.scrollY;b>c&&b>50?h(!0):(b<c||b<=50)&&h(!1),c=b};return window.addEventListener("scroll",m,{passive:!0}),()=>{window.removeEventListener("scroll",m)}},[]);const Cl=w.useMemo(()=>{const c=new Date;return t.filter(m=>{try{const b=ae(m.data);return lc(b,c)}catch{return!1}}).sort((m,b)=>{try{return ae(m.data)-ae(b.data)}catch{return 0}})},[t]);Cl[0];const _h=w.useMemo(()=>un.slice(0,5),[un]),Tl=async c=>{try{if(c.tipo==="oficina"||c.workshopId){const b=await Qn(c.workshopId,e.id);console.log("Workshop registration check:",c.workshopId,e.id,b),Ke(b),E(c)}else{const b=await ds(c.id,e.id);if(console.log("Event registration check:",c.id,e.id,b),Ke(b),c.alimentacao){const T=await ly(c.id);E({...c,comidas:T||[]})}else E(c)}U(!0)}catch(m){console.error("Erro ao buscar dados do evento:",m),E(c),U(!0)}},Uy=async()=>{if(!(!N||!e))try{const c=N.tipo==="oficina"||N.workshopId;if(console.log("handleEventRegistration - selectedEvent:",N),console.log("handleEventRegistration - currentMember.id:",e.id),console.log("handleEventRegistration - isRegistered:",We),c){const m=N.workshopId;if(We){console.log("Cancelando inscrição na oficina:",m,e.id),await Pd(m,e.id);const b=await Qn(m,e.id);console.log("Status após cancelamento (workshop):",b),Ke(b),alert("Você foi desinscrito da oficina.")}else{console.log("Inscrevendo na oficina:",m,e.id),await ao(m,e.id);const b=await Qn(m,e.id);console.log("Status após inscrição (workshop):",b),Ke(b),alert("Inscrição na oficina confirmada com sucesso!")}}else if(We){console.log("Cancelando inscrição no evento:",N.id,e.id);const m=await uy(N.id,e.id);console.log("Resultado do unregister:",m);const b=await ds(N.id,e.id);console.log("Status após cancelamento (evento):",b),Ke(b),alert("Você foi desinscrito do evento.")}else{console.log("Inscrevendo no evento:",N.id,e.id),await Cd(N.id,e.id);const m=await ds(N.id,e.id);console.log("Status após inscrição (evento):",m),Ke(m),alert("Inscrição confirmada com sucesso!")}}catch(c){console.error("Erro ao processar inscrição:",c),alert("Erro ao processar inscrição. Tente novamente.")}},Fy=async()=>{var c;if(!(!N||!e))try{const m=N.comidas.filter(P=>L[P.nome]).map(P=>cy(P.id,{membro_id:s.id,responsavel:s.nome}));await Promise.all(m);const b={...N,comidas:(c=N.comidas)==null?void 0:c.map(P=>L[P.nome]?{...P,responsavel:s.nome,membro_id:s.id,member:{id:s.id,nome:s.nome}}:P)};E(b),ye({});const T=Object.keys(L).filter(P=>L[P]).join(", ");alert(`Seleção confirmada! Você se comprometeu a trazer: ${T}`)}catch(m){console.error("Erro ao confirmar seleção de comidas:",m),alert("Erro ao confirmar seleção. Tente novamente.")}},Nh=c=>{if(yl(c),!F||!F.membros){La([]);return}if(c.trim().length>=2){const m=F.membros.filter(b=>b.nome.toLowerCase().includes(c.toLowerCase())&&b.id!==s.id);La(m)}else{const m=F.membros.filter(b=>b.id!==s.id);La(m)}},zy=async c=>{try{if(N.tipo==="oficina"||N.workshopId){if(await Qn(N.workshopId,c.id)){alert(`${c.nome} já está inscrito(a) nesta oficina.`);return}await ao(N.workshopId,c.id),alert(`${c.nome} foi inscrito(a) na oficina com sucesso!`)}else{if(await ds(N.id,c.id)){alert(`${c.nome} já está inscrito(a) neste evento.`);return}await Cd(N.id,c.id),alert(`${c.nome} foi inscrito(a) no evento com sucesso!`)}pl(!1),yl(""),La([])}catch(m){console.error("Erro ao inscrever pessoa:",m),alert("Erro ao inscrever pessoa. Tente novamente.")}},Wy=()=>{const c=kp(p),m=bp(p),b=xp(c,{weekStartsOn:1}),T=jp(m,{weekStartsOn:1}),P="d",A=[];let z=[],Q=b;for(;Q<=T;){for(let ve=0;ve<7;ve++){const st=Q,Je=t.filter(hn=>{try{const tx=ae(hn.data);return B(tx,"yyyy-MM-dd")===B(st,"yyyy-MM-dd")}catch{return!1}}),Ue=Cp(Q,c),dt=Tp(Q),Lt=Je.length>0;z.push(i.jsx("div",{onClick:()=>{Lt&&Tl(Je[0])},className:`
                            aspect-square flex items-center justify-center p-2 cursor-pointer
                            ${Ue?"text-gray-900 dark:text-white":"text-gray-300 dark:text-gray-600"}
                            ${dt?"bg-gray-900 dark:bg-white text-white dark:text-black rounded-full font-bold":""}
                            ${Lt&&!dt?"text-red-600 dark:text-red-400 font-semibold":""}
                        `,children:B(Q,P)},Q)),Q=yp(Q,1)}A.push(i.jsx("div",{className:"grid grid-cols-7",children:z},Q)),z=[]}return i.jsx("div",{children:A})},qy=()=>{var b;if(!N)return null;const c=ae(N.data),m=N.alimentacao&&((b=N.comidas)==null?void 0:b.length)>0;return i.jsx(Ur,{isOpen:O,onClose:()=>{U(!1),E(null),ye({})},title:i.jsxs("div",{children:[N.tipo==="oficina"&&"🎓 ",N.nome,N.tipo==="oficina"&&i.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm",children:"Oficina"})]}),maxWidth:"max-w-2xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[i.jsx(mn,{className:"h-5 w-5 mr-2"}),i.jsx("span",{style:{textTransform:"capitalize"},children:B(c,"EEEE, d 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Ae})})]}),N.local&&i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[i.jsx(rs,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:N.local})]}),N.descricao&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Descrição"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:N.descricao})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("button",{onClick:Uy,className:`w-full px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center ${We?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:We?i.jsxs(i.Fragment,{children:[i.jsx(Ee,{className:"h-5 w-5 mr-2"}),"Cancelar Inscrição"]}):i.jsxs(i.Fragment,{children:[i.jsx(hm,{className:"h-5 w-5 mr-2"}),"Inscrever-se"]})}),We&&i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2 text-center",children:"✓ Você está inscrito neste evento"}),i.jsxs("button",{onClick:()=>{pl(!0),Nh("")},className:"w-full px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white border border-blue-700",children:[i.jsx(Pe,{className:"h-5 w-5 mr-2"}),"Inscrever Familiar"]})]}),m&&i.jsxs("div",{className:"mt-6 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:"🍽️ Alimentação - Escolha o que você pode trazer"}),i.jsx("div",{className:"space-y-2",children:N.comidas.map((T,P)=>{const A=T.responsavel&&T.responsavel!=="",z=T.membro_id===(e==null?void 0:e.id);return i.jsxs("label",{className:`
                                                flex items-center p-3 rounded border cursor-pointer transition-all
                                                ${A&&!z?"bg-gray-100 dark:bg-black border-gray-300 dark:border-gray-600 opacity-50 cursor-not-allowed":z?"bg-green-100 dark:bg-green-900/30 border-green-500 dark:border-green-600":"bg-white dark:bg-black border-gray-300 dark:border-gray-600 hover:border-amber-500 dark:hover:border-amber-400"}
                                            `,children:[i.jsx("input",{type:"checkbox",checked:L[T.nome]||z,onChange:Q=>{(!A||z)&&ye({...L,[T.nome]:Q.target.checked})},disabled:A&&!z,className:"h-5 w-5 text-amber-600 rounded border-gray-300 focus:ring-amber-500"}),i.jsxs("span",{className:"ml-3 flex-1",children:[i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:T.nome}),A&&i.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:["(",z?"Você escolheu":`Escolhido por ${T.responsavel}`,")"]})]}),A?i.jsx(hm,{className:"h-5 w-5 text-green-500"}):i.jsx(lk,{className:"h-5 w-5 text-gray-400"})]},P)})}),Object.keys(L).filter(T=>L[T]).length>0&&i.jsx("button",{onClick:Fy,className:"mt-4 w-full bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Confirmar Seleção"})]})]})})},By=((Sh=s==null?void 0:s.funcoes)==null?void 0:Sh.includes("líder de louvor"))||((Eh=s==null?void 0:s.funcoes)==null?void 0:Eh.includes("lider de louvor")),Hy=((Ch=s==null?void 0:s.funcoes)==null?void 0:Ch.includes("lider da diaconia"))||((Th=s==null?void 0:s.funcoes)==null?void 0:Th.includes("líder da diaconia")),Vy=((Ph=s==null?void 0:s.funcoes)==null?void 0:Ph.includes("lider kids"))||((Oh=s==null?void 0:s.funcoes)==null?void 0:Oh.includes("líder kids")),Ky=async()=>{try{const c=Object.entries(D.instrumentos||{}).filter(([st,Je])=>Je).map(([st,Je])=>({id:Je,instrumento:st})),{instrumentos:m,newMusicaTemp:b,categoria:T,descricao:P,local:A,membros_ids:z,...Q}=D;await to({data:D.data,horario:D.horario,tipo:T,observacoes:D.observacoes,musicas:D.musicas||[],ministerio:"louvor",musicos:c});const ve=await xr("louvor");ei(ve),me({data:"",horario:"19:00",categoria:"culto",descricao:"",local:"",observacoes:"",membros_ids:[],musicas:[],instrumentos:{},newMusicaTemp:""}),xl(!1),alert("Escala criada com sucesso!")}catch(c){console.error("Erro ao criar escala:",c),alert("Erro ao criar escala")}},Yy=async()=>{try{const c=Object.entries(D.instrumentos||{}).filter(([st,Je])=>Je).map(([st,Je])=>({id:Je,instrumento:st})),{instrumentos:m,newMusicaTemp:b,categoria:T,descricao:P,local:A,membros_ids:z,...Q}=D;await ro(si.id,{data:D.data,horario:D.horario,tipo:T,observacoes:D.observacoes,musicas:D.musicas||[],ministerio:"louvor",musicos:c});const ve=await xr("louvor");ei(ve),Un(!1),ii(null),alert("Escala atualizada com sucesso!")}catch(c){console.error("Erro ao atualizar escala:",c),alert("Erro ao atualizar escala")}},Jy=async c=>{if(confirm("Deseja realmente deletar esta escala?"))try{await no(c,"louvor");const m=await xr("louvor");ei(m),alert("Escala deletada com sucesso!")}catch(m){console.error("Erro ao deletar escala:",m),alert("Erro ao deletar escala")}},Gy=async c=>{c.preventDefault();try{const m=Nt.length>0?Math.max(...Nt.map(P=>P.ordem||0)):0,b={titulo:mr.nome,artista:mr.artista,link:mr.link,ordem:m+1,ativa:!0};await py(b);const T=await Dd();dl(T||[]),bl(!1),za({nome:"",artista:"",link:""}),alert("Música adicionada com sucesso!")}catch(m){console.error("Erro ao adicionar música:",m),alert("Erro ao adicionar música")}},Qy=async()=>{try{const c={nome:q.nome,descricao:q.descricao,data:`${q.data}T${q.horario}:00`,local:q.local,vagas:parseInt(q.vagas),inscritos:parseInt(q.inscritos),quem_pode_se_inscrever:q.quem_pode_se_inscrever};oi?(await Td(oi.id,c),alert("Oficina atualizada com sucesso!")):(await hy(c),alert("Oficina criada com sucesso!"));const m=await jr();Ua(m||[]),Fa(!1),li(null),Te({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]})}catch(c){console.error("Erro ao salvar oficina:",c),alert("Erro ao salvar oficina")}},Xy=async c=>{if(confirm("Deseja realmente deletar esta oficina?"))try{await fy(c),alert("Oficina deletada com sucesso!");const m=await jr();Ua(m||[]),Fa(!1),li(null)}catch(m){console.error("Erro ao deletar oficina:",m),alert("Erro ao deletar oficina")}},Zy=async c=>{try{if(typeof c.id!="number"){alert("Esta oficina possui um ID inválido. Por favor, entre em contato com o administrador.");return}vl(c);const m=await Qn(c.id,s.id);wl(m);const b=await Od(c.id);ah(b||[]),ci(!0)}catch(m){console.error("Erro ao verificar inscrição:",m),alert("Erro ao carregar detalhes da oficina.")}},ex=async()=>{if(!(!ee||!s))try{if(di)await Pd(ee.id,s.id),wl(!1),alert("Inscrição cancelada com sucesso!");else{if(er.length>=ee.vagas){alert("Não há mais vagas disponíveis para esta oficina.");return}await ao(ee.id,s.id),wl(!0),alert("Inscrição confirmada com sucesso!")}const c=await jr();Ua(c);const m=await Od(ee.id);ah(m||[])}catch(c){console.error("Erro ao processar inscrição:",c),alert("Erro ao processar inscrição. Tente novamente.")}};return i.jsx("div",{className:`w-full flex flex-col ${Xs?"dark":""}`,style:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",overflow:"hidden"},children:i.jsxs("div",{className:"w-full h-full flex flex-col bg-white dark:bg-black overflow-hidden",style:{paddingTop:0,marginTop:"calc(-1 * env(safe-area-inset-top, 0px))"},children:[i.jsx("div",{className:"bg-white dark:bg-black shadow-sm border-b border-gray-200 dark:border-gray-700 shrink-0 z-40",style:{paddingTop:"calc(env(safe-area-inset-top, 44px) + 48px)"},children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>d(!l),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors text-gray-900 dark:text-white",children:i.jsx(gk,{className:"h-6 w-6"})}),i.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Olá, ",((Rh=e==null?void 0:e.nome)==null?void 0:Rh.split(" ")[0])||"Membro","!"]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>gi(!jh),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors relative flex items-center justify-center text-gray-900 dark:text-white",children:[i.jsx(ac,{className:"h-5 w-5"}),ai>0&&i.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1",children:ai})]}),jh&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-x-0 top-0 z-40",style:{bottom:0},onClick:()=>gi(!1)}),i.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-y-auto bg-white dark:bg-black rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Avisos Recentes"})}),i.jsx("div",{className:"p-2",children:_h.length>0?i.jsx("div",{className:"space-y-2",children:_h.slice(0,5).map(c=>{var T;const m=(T=c.aviso_notifications)==null?void 0:T[0],b=m&&!m.lido;return i.jsxs("div",{className:`p-3 hover:bg-gray-50 dark:hover:bg-gray-900 rounded-lg cursor-pointer transition-colors border-l-4 ${b?"bg-blue-50 dark:bg-blue-900/20 border-blue-500":"bg-transparent border-transparent"}`,onClick:()=>{gi(!1),x("avisos"),b&&Rd(c.id,e.id).then(()=>{so(e.id).then(P=>{setAvisos(P)})})},children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white flex-1",children:c.titulo}),b&&i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:c.mensagem}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:B(ae(c.created_at),"d 'de' MMM",{locale:Ae})})]},c.id)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ac,{className:"w-8 h-8 mx-auto text-gray-300 dark:text-gray-700 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhum aviso recente"})]})}),i.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>{gi(!1),x("avisos")},className:"w-full text-center text-sm text-gray-900 dark:text-white font-medium hover:underline",children:"Ver todos os avisos →"})})]})]})]})]})})}),l&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-x-0 top-0 bg-black/50 z-[800]",style:{bottom:0},onClick:()=>d(!1)}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[900] bg-white dark:bg-black rounded-t-3xl shadow-2xl max-h-[70vh] overflow-hidden",style:{paddingBottom:"1rem",paddingLeft:"env(safe-area-inset-left, 0px)",paddingRight:"env(safe-area-inset-right, 0px)"},children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-black rounded-full"})}),i.jsxs("div",{className:"flex items-center space-x-3 mb-6 p-3 bg-gray-100 dark:bg-black rounded-lg",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-bold",children:((Dh=e==null?void 0:e.nome)==null?void 0:Dh.charAt(0))||"M"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:e==null?void 0:e.nome}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e!=null&&e.funcoes&&s.funcoes.length>0?s.funcoes.map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(", "):e!=null&&e.funcao?e.funcao.charAt(0).toUpperCase()+e.funcao.slice(1):"Membro"})]})]}),i.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:_.map(c=>{const m=c.icon,b=j===c.id;return i.jsxs("button",{onClick:()=>{x(c.id),d(!1)},className:`relative flex flex-col items-center justify-center p-4 rounded-2xl transition-all ${b?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-lg scale-105":"bg-gray-100 dark:bg-black text-gray-700 dark:text-gray-300 hover:scale-105"}`,children:[c.id==="avisos"&&ai>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:ai}),c.id==="playlistzoe"?i.jsx("span",{className:"w-7 h-7 mb-2 flex items-center justify-center font-bold text-2xl",children:"Z"}):i.jsx(m,{className:"w-7 h-7 mb-2"}),i.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:c.label})]},c.id)})}),i.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[i.jsx(mk,{className:"h-5 w-5"}),i.jsx("span",{children:"Sair"})]})]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4",style:{paddingLeft:"calc(1rem + env(safe-area-inset-left, 0px))",paddingRight:"calc(1rem + env(safe-area-inset-right, 0px))",paddingBottom:0},children:[j==="home"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:(()=>{let c=Ay;if(!c){const m=B(new Date,"yyyy-MM-dd"),b=Math.floor((new Date-new Date(new Date().getFullYear(),0,0))/1e3/60/60/24);c=Um[b%Um.length],localStorage.setItem("dailyVerse",JSON.stringify({date:m,verse:c})),Iy(c)}return c?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-lg leading-relaxed italic text-gray-700 dark:text-gray-300",children:['"',c.texto,'"']}),i.jsxs("p",{className:"text-right font-semibold text-gray-900 dark:text-white",children:["- ",c.referencia]})]}):null})()}),nt.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Nossa Programação"}),i.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 max-w-xl mx-auto",children:i.jsxs("div",{className:"relative h-40 sm:h-44 md:h-48 bg-transparent",onTouchStart:c=>Oy(c.targetTouches[0].clientX),onTouchMove:c=>Ry(c.targetTouches[0].clientX),onTouchEnd:()=>{vh-wh>50&&xh(c=>c===nt.length-1?0:c+1),vh-wh<-50&&xh(c=>c===0?nt.length-1:c-1)},children:[($h=nt[tr].url)!=null&&$h.match(/\.(mp4|webm|ogg)$/i)?i.jsx("video",{src:nt[tr].url,className:"w-full h-full object-cover",controls:!0,playsInline:!0}):i.jsx("img",{src:nt[tr].url,alt:nt[tr].titulo||"Foto do culto",className:"w-full h-full object-cover"}),(nt[tr].titulo||nt[tr].descricao)&&i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[nt[tr].titulo&&i.jsx("p",{className:"text-white font-semibold text-lg",children:nt[tr].titulo}),nt[tr].descricao&&i.jsx("p",{className:"text-gray-200 text-sm mt-1",children:nt[tr].descricao})]})]})})]}),Nt.length>0&&i.jsxs("div",{className:"bg-black rounded-lg shadow-lg p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2 text-white",children:[i.jsx(we,{className:"w-5 h-5"}),"Ouça Agora"]}),(()=>{let c=Dy;if(!c&&Nt.length>0){c=Nt[Math.floor(Math.random()*Nt.length)];const m=B(new Date,"yyyy-MM-dd");localStorage.setItem("dailyMusic",JSON.stringify({date:m,music:c})),$y(c)}return c?i.jsxs("div",{className:"bg-black rounded-lg p-4 flex items-center justify-between",style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-lg text-white",children:c.titulo}),c.artista&&i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:c.artista}),c.duracao&&i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:c.duracao})]}),c.link&&i.jsxs("button",{onClick:()=>{let m=c.link;m.includes("youtu.be/")&&(m=`https://www.youtube.com/watch?v=${m.split("youtu.be/")[1].split("?")[0]}`),window.open(m,"_blank","noopener,noreferrer")},className:"px-4 py-2 bg-white text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors flex items-center gap-2 flex-shrink-0",children:[i.jsx(we,{className:"w-4 h-4"}),"Ouvir Agora"]})]}):null})()]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ne,{className:"w-5 h-5"}),"Próximos Eventos"]}),i.jsx("button",{onClick:()=>x("eventos"),className:"text-sm text-gray-900 dark:text-white hover:underline font-medium",children:"Ver calendário →"})]}),Cl.slice(0,3).length>0?i.jsx("div",{className:"space-y-3",children:Cl.slice(0,3).map(c=>i.jsxs("div",{onClick:()=>Tl(c),className:"p-4 rounded-lg shadow-sm hover:shadow-md cursor-pointer transition-all border-l-4 border-gray-900 dark:border-white hover:scale-[1.02]",style:{backgroundColor:Xs?"#1C1C1E":"#ffffff"},children:[i.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[c.tipo==="oficina"&&"🎓 ",c.nome]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 flex items-center gap-1",children:[i.jsx(mn,{className:"w-4 h-4"}),B(ae(c.data),"d 'de' MMMM 'às' HH:mm",{locale:Ae})]})]},c.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ne,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-700 mb-2"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum evento agendado"})]})]})]}),j==="eventos"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs("div",{className:"inline-flex rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{onClick:()=>C("list"),className:`px-4 py-2 text-sm font-medium rounded-l-lg transition-colors ${S==="list"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-white dark:bg-black text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900"}`,children:[i.jsx(hk,{className:"h-4 w-4 inline mr-2"}),"Lista"]}),i.jsxs("button",{onClick:()=>C("calendar"),className:`px-4 py-2 text-sm font-medium rounded-r-lg transition-colors ${S==="calendar"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-white dark:bg-black text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900"}`,children:[i.jsx(Ne,{className:"h-4 w-4 inline mr-2"}),"Calendário"]})]})}),S==="calendar"&&i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white capitalize",children:B(p,"MMMM",{locale:Ae})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:()=>y(new Date(p.getFullYear(),p.getMonth()-1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(gp,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{onClick:()=>y(new Date(p.getFullYear(),p.getMonth()+1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(eo,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})]}),i.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mn","Tu","We","Th","Fr","Sa","Su"].map(c=>i.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2",children:c},c))}),Wy()]}),S==="list"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white px-1",children:"Próximos Eventos"}),t.filter(c=>lc(ae(c.data),new Date)).length>0?t.filter(c=>lc(ae(c.data),new Date)).sort((c,m)=>new Date(c.data)-new Date(m.data)).map(c=>{const m=ae(c.data),b=c.tipo==="oficina";return i.jsx("div",{onClick:()=>Tl(c),className:"rounded-lg shadow-sm p-4 border-l-4 border-gray-900 dark:border-white cursor-pointer hover:shadow-md transition-all",style:{backgroundColor:Xs?"#1C1C1E":"#ffffff"},children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:[b&&"🎓 ",c.nome]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mt-2",children:[i.jsx(mn,{className:"h-4 w-4 mr-1"}),i.jsx("span",{style:{textTransform:"capitalize"},children:B(m,"EEEE, d 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Ae})})]}),c.local&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mt-1",children:[i.jsx(rs,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:c.local})]}),c.descricao&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:c.descricao})]}),b&&i.jsx("span",{className:"ml-3 px-3 py-1 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full text-xs font-medium",children:"Oficina"})]})},c.id)}):i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-8 text-center border border-gray-200 dark:border-gray-700",children:[i.jsx(Ne,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum evento próximo agendado"})]})]})]}),j==="avisos"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Avisos"}),un.length>0?i.jsx("div",{className:"space-y-3",children:un.map(c=>{var T;const m=(T=c.aviso_notifications)==null?void 0:T[0],b=m&&!m.lido;return i.jsxs("div",{className:`p-4 rounded-lg border transition-colors ${b?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-black/50 border-gray-200 dark:border-gray-600"}`,children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[b&&i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),c.titulo]}),b&&i.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded-full",children:"Novo"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.mensagem}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:B(ae(c.data_envio),"dd/MM/yyyy 'às' HH:mm",{locale:Ae})}),c.destinatarios&&c.destinatarios.length>0&&i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:["Para: ",c.destinatarios.join(", ")]})]},c.id)})}):i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum aviso disponível"})]})}),j==="aniversarios"&&i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aniversários"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade em desenvolvimento"})]}),j==="diaconia"&&i.jsx("div",{className:"space-y-4",children:Hy?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex gap-3",children:i.jsxs("button",{onClick:()=>{Wa(null),Et({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),_l(!0)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2",children:[i.jsx(Ut,{className:"w-5 h-5"}),"Montar escala"]})}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Diáconos"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:Ar.length}),i.jsx(ts,{className:"w-8 h-8 text-purple-500"})]})]})}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ne,{className:"w-5 h-5 text-purple-600"}),"Escalas de Diaconia (",(St==null?void 0:St.length)||0,")"]}),!St||St.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ne,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:'Clique em "Montar escala" para criar a primeira.'})]}):i.jsx("div",{className:"space-y-4",children:St.slice(0,5).map((c,m)=>{const b=A=>A.charAt(0).toUpperCase()+A.slice(1),T=c.membros_ids||[],P=m===0;return i.jsxs("div",{className:`p-4 rounded-lg border-l-4 cursor-pointer hover:shadow-lg transition-all ${P?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 bg-white dark:bg-black dark:border-gray-600"}`,onClick:()=>{Wa(c),Et({data:c.data,horario:c.horario||"",categoria:c.tipo||c.categoria||"culto",observacoes:c.observacoes||"",diaconosSelecionados:c.membros_ids||[]}),hi(!0)},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:`font-semibold ${P?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:b(B(ae(c.data),"EEEE - dd/MM/yyyy",{locale:Ae}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${(c.tipo||c.categoria)==="culto"?"bg-purple-500 text-white":"bg-orange-500 text-white"}`,children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${P?"bg-blue-600 text-white":"bg-gray-400 text-white"}`,children:c.horario}),P&&i.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs font-medium rounded-full",children:"Próximo"})]})]}),c.observacoes&&i.jsx("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("span",{children:["💡 ",c.observacoes]})}),T.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:`flex items-center gap-2 mb-2 text-sm ${P?"text-blue-800 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[i.jsx(Pe,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Diáconos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(A=>{var Q;const z=Ar.find(ve=>ve.id===A);return z?i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${P?"bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200":"bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300"}`,children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((Q=z.nome)==null?void 0:Q.charAt(0))||"D"}),i.jsx("span",{className:"text-xs font-medium",children:z.nome||"Diácono"})]},A):null})})]})]},c.id)})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Pe,{className:"w-5 h-5 text-purple-600"}),"Lista de Diáconos (",Ar.length,")"]}),i.jsx("div",{className:"space-y-3",children:Ar.length===0?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Nenhum diácono cadastrado ainda"}):Ar.map(c=>{var b,T;const m=c.idade||f(c.nascimento);return i.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 bg-purple-50 dark:bg-purple-900/10 rounded-lg border border-purple-100 dark:border-purple-800",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:((T=(b=c.nome)==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"D"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white uppercase",children:c.nome||"Sem nome"}),c.telefone?i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.telefone}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 italic",children:"Sem telefone"}),m&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[m," anos"]})]})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"0"})})]},c.id)})})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(ts,{className:"w-6 h-6 mr-2 text-purple-600"}),"Ministério de Diaconia"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ministério dedicado ao serviço e cuidado da igreja."})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ne,{className:"w-5 h-5 text-purple-600"}),"Escalas de Diaconia (",(St==null?void 0:St.length)||0,")"]}),!St||St.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ne,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."})]}):i.jsx("div",{className:"space-y-4",children:St.slice(0,5).map((c,m)=>{const b=z=>z.charAt(0).toUpperCase()+z.slice(1),T=c.membros_ids||[],P=T.includes(s==null?void 0:s.id),A=m===0;return i.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${A?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":P?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 bg-white dark:bg-black"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:`font-semibold ${A?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:b(B(ae(c.data),"EEEE - dd/MM/yyyy",{locale:Ae}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${(c.tipo||c.categoria)==="culto"?"bg-purple-500 text-white":"bg-orange-500 text-white"}`,children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${A?"bg-blue-600 text-white":"bg-gray-400 text-white"}`,children:c.horario}),A&&i.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs font-medium rounded-full",children:"Próximo"})]})]}),P&&i.jsx("div",{className:"mb-3",children:i.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white text-xs font-bold rounded-full",children:"✓ Você está escalado"})}),T.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:`flex items-center gap-2 mb-2 text-sm ${A?"text-blue-800 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[i.jsx(Pe,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Diáconos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(z=>{var ve;const Q=Ar.find(st=>st.id===z);return Q?i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${A?"bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200":"bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300"}`,children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((ve=Q.nome)==null?void 0:ve.charAt(0))||"D"}),i.jsx("span",{className:"text-xs font-medium",children:Q.nome||"Diácono"})]},z):null})})]}),c.observacoes&&i.jsx("div",{className:"flex items-center gap-2 mt-3 text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("span",{children:["💡 ",c.observacoes]})})]},c.id)})})]})]})}),j==="louvor"&&i.jsx("div",{className:"space-y-4",children:By?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>xl(!0),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2",children:[i.jsx(Ut,{className:"w-5 h-5"}),"Nova Escala"]}),i.jsxs("button",{onClick:()=>{za({nome:"",artista:"",link:""}),bl(!0)},className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2",children:[i.jsx(Ut,{className:"w-5 h-5"}),"Nova Música"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{onClick:()=>jl(!0),className:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-md hover:scale-105 transition-all",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Músicos Ativos"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(()=>{const c=new Set;return rt.forEach(m=>{var b;(b=m.musicos)==null||b.forEach(T=>c.add(T.id))}),c.size||gr.length})()}),i.jsx(we,{className:"w-8 h-8 text-purple-500"})]})]}),i.jsxs("div",{onClick:()=>kl(!0),className:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-md hover:scale-105 transition-all",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Músicas Cadastradas"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:Nt.length}),i.jsx(we,{className:"w-8 h-8 text-green-500"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ne,{className:"w-5 h-5 text-purple-600"}),"Próximas escalas (",(rt==null?void 0:rt.length)||0,")"]}),!rt||rt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ne,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:'Clique em "Nova Escala" para criar a primeira.'})]}):i.jsx("div",{className:"space-y-4",children:rt.slice(0,5).map(c=>{const m=c.musicas?c.musicas.length:0,b=T=>T.charAt(0).toUpperCase()+T.slice(1);return i.jsxs("div",{className:"p-4 bg-white dark:bg-black rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all",onClick:()=>{var P;const T={};(P=c.musicos)==null||P.forEach(A=>{T[A.instrumento]=A.id}),ii(c),me({data:c.data,horario:c.horario||"",categoria:c.tipo||c.categoria||"culto",observacoes:c.observacoes||"",musicas:c.musicas||[],instrumentos:T}),Un(!0)},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b(B(ae(c.data),"EEEE - dd/MM/yyyy",{locale:Ae}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded",children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:"px-3 py-1 bg-gray-400 text-white text-xs font-medium rounded",children:c.horario})]})]}),m>0&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(we,{className:"w-4 h-4"}),i.jsxs("span",{children:[m," música",m!==1?"s":""]})]}),c.musicos&&c.musicos.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(Pe,{className:"w-4 h-4"}),i.jsx("span",{children:"Músicos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.musicos.map((T,P)=>{var A,z;return i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((A=T.nome)==null?void 0:A.charAt(0))||"M"}),i.jsxs("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:[((z=T.nome)==null?void 0:z.split(" ")[0])||"Músico"," - ",T.instrumento]})]},P)})})]})]},c.id)})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Equipe de Louvor"}),i.jsx("div",{className:"space-y-2",children:(()=>{const c=new Map;return rt.forEach(m=>{var b;(b=m.musicos)==null||b.forEach(T=>{c.has(T.id)?c.get(T.id).instrumentos.add(T.instrumento):c.set(T.id,{...T,instrumentos:new Set([T.instrumento])})})}),c.size===0?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Nenhum músico escalado ainda"}):Array.from(c.values()).map(m=>i.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:i.jsx(we,{className:"w-5 h-5"})}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:m.nome})]}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from(m.instrumentos).map(b=>i.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:b},b))})]},m.id))})()})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(we,{className:"w-6 h-6 mr-2 text-purple-600"}),"Ministério de Louvor"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ministério dedicado a conduzir a congregação em adoração através da música."}),i.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:'Confira as músicas que estamos cantando na aba "Playlist Zoe" 🎵'})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ne,{className:"w-5 h-5 text-purple-600"}),"Próximas escalas (",(rt==null?void 0:rt.length)||0,")"]}),!rt||rt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ne,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."})]}):i.jsx("div",{className:"space-y-4",children:rt.slice(0,5).map(c=>{const m=c.musicas?c.musicas.length:0,b=T=>T.charAt(0).toUpperCase()+T.slice(1);return i.jsxs("div",{className:"p-4 bg-white dark:bg-black rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all",onClick:()=>{var P;const T={};(P=c.musicos)==null||P.forEach(A=>{T[A.instrumento]=A.id}),ii(c),me({data:c.data,horario:c.horario||"",categoria:c.tipo||c.categoria||"culto",observacoes:c.observacoes||"",musicas:c.musicas||[],instrumentos:T}),Un(!0)},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b(B(ae(c.data),"EEEE - dd/MM/yyyy",{locale:Ae}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded",children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:"px-3 py-1 bg-gray-400 text-white text-xs font-medium rounded",children:c.horario})]})]}),m>0&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(we,{className:"w-4 h-4"}),i.jsxs("span",{children:[m," música",m!==1?"s":""]})]}),c.musicos&&c.musicos.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(Pe,{className:"w-4 h-4"}),i.jsx("span",{children:"Músicos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.musicos.map((T,P)=>{var A,z;return i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((A=T.nome)==null?void 0:A.charAt(0))||"M"}),i.jsxs("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:[((z=T.nome)==null?void 0:z.split(" ")[0])||"Músico"," - ",T.instrumento]})]},P)})})]})]},c.id)})})]})]})}),j==="galeria"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Galeria de Fotos"}),nt.length===0?i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-12 border border-gray-200 dark:border-gray-700 text-center",children:[i.jsx(uk,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma foto na galeria ainda."})]}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:nt.map(c=>i.jsxs("div",{className:"relative group cursor-pointer rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow bg-white dark:bg-black",onClick:()=>{Py(c),yh(!0)},children:[i.jsx("img",{src:c.url,alt:c.titulo,className:"w-full h-48 object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center",children:i.jsx("div",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity text-center p-2",children:i.jsx("p",{className:"font-semibold text-sm",children:c.titulo})})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded",children:c.categoria})})]},c.id))}),pr&&i.jsx(Ur,{isOpen:ph,onClose:()=>yh(!1),title:pr.titulo,maxWidth:"max-w-4xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("img",{src:pr.url,alt:pr.titulo,className:"w-full rounded-lg"}),pr.descricao&&i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:pr.descricao}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Categoria"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:pr.categoria})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Data"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:pr.data_foto?B(new Date(pr.data_foto),"dd/MM/yyyy"):"-"})]})]})]})})]}),j==="playlistzoe"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(we,{className:"w-6 h-6 mr-2 text-red-600"}),"Playlist Zoe"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Músicas que estamos cantando nos cultos e encontros"}),i.jsx("div",{className:"space-y-3",children:Nt.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(we,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma música adicionada ainda."})]}):Nt.map(c=>i.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-lg border-l-4 border-red-500",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:c.titulo}),c.artista&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.artista}),c.duracao&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:c.duracao})]}),c.link&&i.jsxs("button",{onClick:()=>{let m=c.link;m.includes("youtu.be/")&&(m=`https://www.youtube.com/watch?v=${m.split("youtu.be/")[1].split("?")[0]}`),window.open(m,"_blank","noopener,noreferrer")},className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 flex items-center gap-2",children:[i.jsx(we,{className:"w-4 h-4"}),"Ouvir"]})]})},c.id))})]})}),j==="kids"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Kids"}),Vy&&i.jsxs("button",{onClick:()=>fi(!0),className:"flex items-center px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Nova Escala"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{onClick:()=>fh(!0),className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-pink-500 dark:hover:border-pink-400 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total de Crianças"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((Ah=te==null?void 0:te.criancas)==null?void 0:Ah.length)||0})]}),i.jsx(Ct,{className:"w-8 h-8 text-pink-500"})]})}),i.jsx("div",{onClick:()=>Sl(!0),className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Professores"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((Ih=te==null?void 0:te.professores)==null?void 0:Ih.length)||0})]}),i.jsx(Pe,{className:"w-8 h-8 text-blue-500"})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Crianças por Faixa Etária"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ct,{className:"w-5 h-5 text-yellow-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"0-3 anos"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((Lh=te==null?void 0:te.criancas)==null?void 0:Lh.filter(c=>{const m=f(c.nascimento);return m!==null&&m<=3}).length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ct,{className:"w-5 h-5 text-orange-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"4-7 anos"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((Mh=te==null?void 0:te.criancas)==null?void 0:Mh.filter(c=>{const m=f(c.nascimento);return m>=4&&m<=7}).length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ct,{className:"w-5 h-5 text-pink-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"8-12 anos"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((Uh=te==null?void 0:te.criancas)==null?void 0:Uh.filter(c=>{const m=f(c.nascimento);return m>=8&&m<=12}).length)||0})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[i.jsx(Ne,{className:"w-5 h-5 mr-2 text-pink-600"}),"Próximas Escalas (",hl.length,")"]}),hl.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ne,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma escala criada ainda."})]}):i.jsx("div",{className:"space-y-3",children:hl.sort((c,m)=>new Date(c.data)-new Date(m.data)).slice(0,5).map((c,m)=>{var z,Q;const b=(z=c.descricao)!=null&&z.includes("Turmas:")?c.descricao.replace("Turmas: ","").split(", "):[],T=b.includes("Pequenos"),P=b.includes("Grandes");let A="p-4 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow ";return T&&P?A+="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-blue-300 dark:border-blue-700":T?A+="bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-300 dark:border-blue-700":P?A+="bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-300 dark:border-purple-700":A+="bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 border-pink-200 dark:border-pink-800",i.jsxs("div",{className:A,onClick:()=>{Ba(c),qa(!0)},children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ne,{className:"w-5 h-5 text-pink-600"}),i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[B(ae(c.data),"dd/MM/yyyy",{locale:Ae})," - ",c.horario]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:B(ae(c.data),"EEEE",{locale:Ae})})]})]})}),b.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Turmas:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:b.map((ve,st)=>i.jsx("span",{className:`text-xs px-2 py-0.5 text-white rounded-full ${ve==="Pequenos"?"bg-blue-500":"bg-purple-600"}`,children:ve},st))})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Professores escalados:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(Q=c.membros_ids)==null?void 0:Q.map((ve,st)=>{var Ue;const Je=(Ue=te.all)==null?void 0:Ue.find(dt=>dt.id===ve);return Je?i.jsx("span",{className:"text-xs px-2 py-1 bg-pink-600 text-white rounded-full",children:Je.nome},st):null})})]})]},m)})})]})]}),j==="jovens"&&i.jsxs("div",{className:"space-y-4",children:[Ma&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Jovens"}),i.jsxs("button",{onClick:()=>{li(null),Te({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]}),Fa(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Nova Oficina"]})]}),Ma&&i.jsx("div",{onClick:()=>El(!0),className:"card cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total de Jovens"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fn.filter(c=>(c.funcoes||(c.funcao?[c.funcao]:[])).includes("jovem")).length})]}),i.jsx(nr,{className:"w-8 h-8 text-indigo-500"})]})}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Jovens por Faixa Etária"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"13-18 anos (Adolescentes)"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Fn.filter(c=>{const m=c.funcoes||(c.funcao?[c.funcao]:[]),b=f(c.nascimento);return m.includes("jovem")&&b>=13&&b<=18}).length})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{className:"w-5 h-5 text-indigo-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"19-24 anos (Jovens)"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Fn.filter(c=>{const m=c.funcoes||(c.funcao?[c.funcao]:[]),b=f(c.nascimento);return m.includes("jovem")&&b>=19&&b<=24}).length})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"25+ anos (Jovens Adultos)"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Fn.filter(c=>{const m=c.funcoes||(c.funcao?[c.funcao]:[]),b=f(c.nascimento);return m.includes("jovem")&&b>=25}).length})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Oficinas"}),Ma&&i.jsxs("button",{onClick:()=>Fa(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[i.jsx(Ut,{className:"w-4 h-4"}),"Nova Oficina"]})]}),th.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(nr,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma oficina cadastrada ainda."})]}):i.jsx("div",{className:"space-y-3",children:th.map(c=>i.jsx("div",{className:"p-4 border-l-4 border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",onClick:()=>Zy(c),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:c.nome}),c.descricao&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:c.descricao}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mn,{className:"w-3 h-3"}),c.data&&B(new Date(c.data),"dd/MM/yyyy 'às' HH:mm",{locale:Ae})]}),c.vagas&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Pe,{className:"w-3 h-3"}),c.vagas," vagas"]}),c.local&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(rs,{className:"w-3 h-3"}),c.local]})]})]}),Ma&&i.jsx("button",{onClick:m=>{m.stopPropagation(),Xy(c.id)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:i.jsx(oc,{className:"w-4 h-4"})})]})},c.id))})]})]}),j==="configuracoes"&&i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Configurações"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade em desenvolvimento"})]}),j==="configuracoes"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[i.jsx(mm,{className:"w-6 h-6 mr-2 text-black dark:text-white"}),"Configurações"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meu Perfil"}),i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-black flex items-center justify-center text-white font-bold text-2xl",children:((Fh=e==null?void 0:e.nome)==null?void 0:Fh.charAt(0))||"M"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e==null?void 0:e.nome}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e!=null&&e.funcoes&&s.funcoes.length>0?s.funcoes.join(", "):(e==null?void 0:e.funcao)||"Membro"})]}),i.jsxs("button",{onClick:()=>{let c=[];Array.isArray(e==null?void 0:e.funcoes)&&s.funcoes.length>0?c=[...s.funcoes]:e!=null&&e.funcao?c=[s.funcao]:c=["membro"],console.log("Abrindo modal de edição com funções:",c),dn({nome:(e==null?void 0:e.nome)||"",telefone:(e==null?void 0:e.telefone)||"",nascimento:(e==null?void 0:e.nascimento)||"",genero:(e==null?void 0:e.genero)||"",funcoes:c}),ul(!0)},className:"px-4 py-2 bg-black hover:bg-gray-800 text-white rounded-lg transition-colors flex items-center gap-2",children:[i.jsx($i,{className:"w-4 h-4"}),"Editar Perfil"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(e==null?void 0:e.telefone)||"Não informado"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data de Nascimento"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e!=null&&e.nascimento?B(ae(s.nascimento),"dd/MM/yyyy",{locale:Ae}):"Não informado"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Idade"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e!=null&&e.nascimento?`${f(s.nascimento)} anos`:"Não informado"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Família"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(e==null?void 0:e.familia)||"Não informado"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-6 pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Preferências"}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Modo Escuro"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sincronizado com o sistema"})]}),i.jsx("div",{className:"p-2 bg-white dark:bg-black rounded-lg",children:Xs?i.jsx(pk,{className:"h-5 w-5 text-gray-900 dark:text-white"}):i.jsx(yk,{className:"h-5 w-5 text-gray-900 dark:text-white"})})]})]})]})}),j==="perfil"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Minha Família"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>H(!0),className:"flex items-center justify-center px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm md:text-base",children:"Criar Família"})]}),i.jsxs("button",{onClick:()=>$r(!0),className:"flex items-center justify-center px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm md:text-base",children:"Adicionar Membro"})]})]})]}),F||e!=null&&e.familia?i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-4",onClick:()=>{const c=(F==null?void 0:F.nome)||s.familia;Qt(m=>({...m,[c]:!m[c]}))},children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-gray-900 to-gray-700 dark:from-white dark:to-gray-200 flex items-center justify-center",children:i.jsx(Pe,{className:"w-6 h-6 text-white dark:text-gray-900"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base md:text-lg",children:(F==null?void 0:F.nome)||s.familia}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:F?`${F.membros.length} ${F.membros.length===1?"membro":"membros"}`:"Minha família"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:c=>{c.stopPropagation(),F&&(Aa({id:F.id,nome:F.nome,descricao:F.descricao||"",membrosIds:F.membros.map(m=>m.id)}),ll(!0))},className:"p-2 bg-gray-100 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",title:"Editar Família",children:i.jsx($i,{className:"w-5 h-5"})}),tt[(F==null?void 0:F.nome)||s.familia]?i.jsx(eo,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 transform rotate-90 transition-transform"}):i.jsx(eo,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 transition-transform"})]})]}),tt[(F==null?void 0:F.nome)||s.familia]&&i.jsx("div",{className:"space-y-3 p-4 pt-0 border-t border-gray-200 dark:border-gray-700",children:F?F.membros.map((c,m)=>i.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-semibold text-sm",children:c.nome.charAt(0)}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[c.nome," ",c.isCurrentUser&&"(Você)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:c.funcoes?c.funcoes.join(", "):c.funcao||"Membro"}),c.idade&&i.jsxs("span",{children:["• ",c.idade," anos"]})]})]})]})},m)):i.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-semibold text-sm",children:((zh=e==null?void 0:e.nome)==null?void 0:zh.charAt(0))||"M"}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[s.nome," (Você)"]}),i.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:i.jsx("span",{children:s.funcao||"Membro"})})]})]})})})]}):i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700 text-center",children:[i.jsx(Pe,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Você ainda não pertence a uma família."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:'Clique em "Criar Família" para começar.'})]})]})]}),i.jsx(Ur,{isOpen:Zt,onClose:()=>{$r(!1),fr({nome:"",telefone:"",dataNascimento:"",idade:"",genero:"",funcoes:[]})},title:"Adicionar Novo Membro",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{if(c.preventDefault(),ie.funcoes.length===0){alert("Selecione pelo menos uma função");return}try{const m={nome:ie.nome,telefone:ie.telefone,nascimento:ie.dataNascimento,idade:ie.idade?parseInt(ie.idade):null,genero:ie.genero,funcoes:ie.funcoes,status:"ativo",familia:s.familia||s.nome,senha:"senha123"};n&&await n(m),It(F?{...F,membros:[...F.membros,{...ie,isCurrentUser:!1}]}:{nome:s.familia||s.nome,descricao:"",membros:[{nome:s.nome,funcao:s.funcao||"Membro",isCurrentUser:!0},{...ie,isCurrentUser:!1}]})}catch(m){console.error("Erro ao adicionar membro:",m),alert("Erro ao adicionar membro: "+m.message);return}fr({nome:"",telefone:"",dataNascimento:"",idade:"",genero:"",funcoes:[]}),$r(!1)},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome Completo *"}),i.jsx("input",{type:"text",required:!0,value:ie.nome,onChange:c=>fr({...ie,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"João Silva"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Telefone"}),i.jsx("input",{type:"tel",value:ie.telefone,onChange:c=>fr({...ie,telefone:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"(11) 98765-4321"})]}),i.jsx("div",{children:i.jsx(by,{label:"Data de Nascimento",value:ie.dataNascimento,onChange:c=>{const m=f(c);fr({...ie,dataNascimento:c,idade:m!==null?m.toString():""})}})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Idade"}),i.jsx("input",{type:"number",value:ie.idade,onChange:c=>fr({...ie,idade:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: 25",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Gênero *"}),i.jsxs("select",{required:!0,value:ie.genero,onChange:c=>fr({...ie,genero:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"masculino",children:"Masculino"}),i.jsx("option",{value:"feminino",children:"Feminino"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Funções * (Selecione uma ou mais)"}),i.jsx("div",{className:"space-y-2 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-black/50",children:["Membro","Jovem","Louvor","Diaconia","Professor kids"].map(c=>{const m=ie.funcoes.includes(c);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:b=>{b.target.checked?fr({...ie,funcoes:[...ie.funcoes,c]}):fr({...ie,funcoes:ie.funcoes.filter(T=>T!==c)})},className:"sr-only"}),i.jsx("div",{className:`w-6 h-6 border-2 rounded flex items-center justify-center transition-all ${m?"bg-blue-600 border-blue-600":"bg-white border-gray-400 dark:bg-black dark:border-gray-500"}`,children:m&&i.jsx(Ee,{className:"w-4 h-4 text-white",strokeWidth:3})})]}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 select-none",children:c})]},c)})}),ie.funcoes.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Selecione pelo menos uma função"})]}),i.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Adicionar Membro"})})]})}),i.jsx(Ur,{isOpen:I,onClose:()=>{H(!1),se({nome:"",descricao:""}),Xt([]),xe("")},title:"Criar Nova Família",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{const m=[{id:s.id,nome:s.nome,funcao:s.funcao||"Membro",funcoes:s.funcoes||[],idade:s.idade,isCurrentUser:!0},...ue],b=m.map(A=>A.id).filter(A=>A),{createFamily:T}=await cr(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url),P=await T({nome:V.nome,descricao:V.descricao||"",membros_ids:b});console.log("Família criada no Supabase:",P),It({id:P.id,nome:P.nome,descricao:P.descricao,membros:m}),se({nome:"",descricao:""}),Xt([]),xe(""),H(!1),alert("Família criada com sucesso!")}catch(m){console.error("Erro ao criar família:",m),alert("Erro ao criar família. Tente novamente.")}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Família *"}),i.jsx("input",{type:"text",required:!0,value:V.nome,onChange:c=>se({...V,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Família Silva"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:V.descricao,onChange:c=>se({...V,descricao:c.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Informações adicionais sobre a família..."})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[i.jsxs("h4",{className:"text-sm font-semibold mb-3 text-gray-900 dark:text-white flex items-center",children:[i.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Buscar Membro para Adicionar (",ue.length," selecionado",ue.length!==1?"s":"",")"]}),i.jsxs("div",{className:"mb-3 relative",children:[i.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:et,onChange:c=>xe(c.target.value),placeholder:"Digite o nome do membro...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:text-white text-sm"})]}),ue.length>0&&i.jsxs("div",{className:"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"Membros selecionados:"}),i.jsx("div",{className:"space-y-2",children:ue.map((c,m)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-green-700 dark:text-green-400",children:c.nome}),i.jsx("button",{type:"button",onClick:()=>Xt(b=>b.filter((T,P)=>P!==m)),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:i.jsx(Ee,{className:"w-4 h-4"})})]},m))})]}),i.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:!et.trim()||et.trim().length<2?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:[i.jsx(ic,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),i.jsx("p",{children:"Digite pelo menos 2 caracteres para buscar"})]}):zu.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:i.jsxs("p",{children:['Nenhum membro encontrado com "',et,'"']})}):i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:zu.map(c=>{var A;const m=ue.some(z=>z.id===c.id),b=c.nome.split(" ").map(z=>z[0]).join("").slice(0,2).toUpperCase(),T=f(c.nascimento),P=((A=c.funcoes)==null?void 0:A[0])||"membro";return i.jsxs("div",{onClick:()=>{Xt(m?z=>z.filter(Q=>Q.id!==c.id):z=>[...z,c])},className:"flex items-center p-3 hover:bg-gray-50 dark:hover:bg-gray-900 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:()=>{},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500 pointer-events-none"}),i.jsxs("div",{className:"ml-3 flex items-center flex-1",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-semibold text-sm mr-3",children:b}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.nome}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[T?`${T} anos`:"Idade não informada"," • ",P]})]})]})]},c.id)})})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100",children:"Criar Família"})})]})}),i.jsx(Ur,{isOpen:Fu,onClose:()=>{ll(!1)},title:"Editar Família",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{const{updateFamily:m}=await cr(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url);await m(qe.id,{nome:qe.nome,descricao:qe.descricao,membros_ids:qe.membrosIds}),It({id:qe.id,nome:qe.nome,descricao:qe.descricao,membros:F.membros}),ll(!1),alert("Família atualizada com sucesso!")}catch(m){console.error("Erro ao atualizar família:",m),alert("Erro ao atualizar família. Tente novamente.")}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Família *"}),i.jsx("input",{type:"text",required:!0,value:qe.nome,onChange:c=>Aa({...qe,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Família Silva"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:qe.descricao,onChange:c=>Aa({...qe,descricao:c.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Informações adicionais sobre a família..."})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Membros da Família"}),i.jsxs("button",{type:"button",onClick:()=>{ml(!0)},className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(Ut,{className:"w-4 h-4"}),"Adicionar Membro"]})]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-2",children:F!=null&&F.membros&&F.membros.length>0?F.membros.map(c=>{var m;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(md,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[c.nome,c.id===s.id&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:"Você"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((m=c.funcoes)==null?void 0:m.join(", "))||"Membro"})]})]}),c.id!==s.id&&i.jsx("button",{type:"button",onClick:async()=>{if(confirm(`Deseja remover ${c.nome} da família?`))try{const b=qe.membrosIds.filter(P=>P!==c.id);Aa({...qe,membrosIds:b});const{updateFamily:T}=await cr(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url);await T(qe.id,{membros_ids:b}),It({...F,membros:F.membros.filter(P=>P.id!==c.id)}),alert("Membro removido com sucesso!")}catch(b){console.error("Erro ao remover membro:",b),alert("Erro ao remover membro.")}},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Remover membro",children:i.jsx(Ee,{className:"w-5 h-5"})})]},c.id)}):i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Nenhum membro na família ainda."})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Alterações"})})]})}),i.jsxs(Ur,{isOpen:Hu,onClose:()=>{ml(!1),gl(""),Ia([])},title:"Adicionar Membro à Família",maxWidth:"max-w-2xl",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Buscar Membro"}),i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",value:Vu,onChange:async c=>{if(gl(c.target.value),c.target.value.trim().length>=2)try{const b=(await Ed(c.target.value.trim())).filter(T=>{var P;return!((P=F==null?void 0:F.membros)!=null&&P.some(A=>A.id===T.id))});Ia(b)}catch(m){console.error("Erro ao buscar membros:",m),Ia([])}else Ia([])},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:text-white",placeholder:"Digite o nome do membro..."})]})]}),i.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:[Vu.trim().length>=2&&Ku.length===0&&i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Nenhum membro encontrado"}),Ku.map(c=>{var m;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(md,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c.nome}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((m=c.funcoes)==null?void 0:m.join(", "))||"Membro"})]})]}),i.jsx("button",{type:"button",onClick:async()=>{try{const b=[...qe.membrosIds||[],c.id],{updateFamily:T}=await cr(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url);await T(qe.id,{membros_ids:b}),Aa({...qe,membrosIds:b}),It({...F,membros:[...F.membros||[],c]}),gl(""),Ia([]),ml(!1),alert(`${c.nome} foi adicionado à família!`)}catch(b){console.error("Erro ao adicionar membro:",b),alert("Erro ao adicionar membro à família.")}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Adicionar"})]},c.id)})]})]}),i.jsx(Ur,{isOpen:Wu,onClose:()=>{ul(!1)},title:"Editar Perfil",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{if(console.log("Iniciando atualização de perfil...",{id:s.id,dados:_e,funcoesAtuais:s.funcoes}),!_e.funcoes||_e.funcoes.length===0){alert("Selecione pelo menos uma função");return}console.log("Funções que serão salvas:",_e.funcoes);const m=await ny(s.id,{nome:_e.nome,telefone:_e.telefone||null,nascimento:_e.nascimento||null,genero:_e.genero||null,funcoes:_e.funcoes});console.log("Perfil atualizado com sucesso:",m),Object.assign(e,m),localStorage.setItem("current_member",JSON.stringify(m)),console.log("localStorage atualizado:",m),ul(!1),alert("Perfil atualizado com sucesso!"),window.location.reload()}catch(m){console.error("Erro detalhado ao atualizar perfil:",m),alert(`Erro ao atualizar perfil: ${m.message||"Tente novamente"}`)}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome *"}),i.jsx("input",{type:"text",required:!0,value:_e.nome,onChange:c=>dn({..._e,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Telefone"}),i.jsx("input",{type:"tel",value:_e.telefone,onChange:c=>dn({..._e,telefone:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Data de Nascimento"}),i.jsx("input",{type:"date",value:_e.nascimento,onChange:c=>dn({..._e,nascimento:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Gênero"}),i.jsxs("select",{value:_e.genero,onChange:c=>dn({..._e,genero:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione"}),i.jsx("option",{value:"masculino",children:"Masculino"}),i.jsx("option",{value:"feminino",children:"Feminino"}),i.jsx("option",{value:"outro",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Funções"}),i.jsx("div",{className:"space-y-2",children:["membro","diaconia","louvor","jovens"].map(c=>{const m=_e.funcoes.includes(c);return i.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-all ${m?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-500":"bg-gray-50 dark:bg-black/50 border-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:b=>{b.target.checked?dn({..._e,funcoes:[..._e.funcoes,c]}):dn({..._e,funcoes:_e.funcoes.filter(T=>T!==c)})},className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${m?"bg-blue-600 border-blue-600":"bg-transparent border-gray-300 dark:border-gray-600"}`,children:m&&i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),i.jsx("span",{className:`text-sm font-medium capitalize ${m?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:c})]},c)})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Alterações"})})]})}),hh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ct,{className:"w-6 h-6 text-pink-500"}),"Crianças Cadastradas"]}),i.jsx("button",{onClick:()=>fh(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",children:i.jsx(Ee,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:((Wh=te==null?void 0:te.criancas)==null?void 0:Wh.length)>0?i.jsx("div",{className:"space-y-3",children:te.criancas.map(c=>{const m=c.idade||(c.nascimento?f(c.nascimento):null);let b="";return m!==null&&(m<=3?b="0-3 anos":m<=7?b="4-7 anos":b="8-12 anos"),i.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-black/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:c.nome}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[m!==null&&i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m," ",m===1?"ano":"anos"]}),b&&i.jsx("span",{className:"text-xs px-2 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 rounded-full",children:b})]})]}),i.jsx(Ct,{className:"w-5 h-5 text-pink-500"})]})},c.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ct,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma criança cadastrada ainda."})]})})]})})}),mh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Pe,{className:"w-7 h-7 text-blue-500"}),"Professores Kids"]}),i.jsx("button",{onClick:()=>Sl(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-3",children:((qh=te==null?void 0:te.professores)==null?void 0:qh.length)>0?te.professores.map(c=>{var T;const m=f(c.nascimento),b=(T=c.funcoes)==null?void 0:T.includes("lider kids");return i.jsx("div",{className:"p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800 bg-white dark:bg-black",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold text-lg",children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.nome}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${b?"bg-pink-600 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:b?"Líder Kids":"Professor Kids"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[c.telefone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(sc,{className:"w-4 h-4"}),i.jsx("span",{children:c.telefone})]}),m&&i.jsxs("span",{children:["• ",m," anos"]})]})]})]})},c.id)}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pe,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum professor cadastrado ainda."})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:i.jsx("button",{onClick:()=>Sl(!1),className:"px-6 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Fechar"})})]})})}),gh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(nr,{className:"w-7 h-7 text-indigo-500"}),"Jovens Cadastrados"]}),i.jsx("button",{onClick:()=>El(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-3",children:Fn.filter(c=>(c.funcoes||(c.funcao?[c.funcao]:[])).includes("jovem")).length>0?Fn.filter(c=>(c.funcoes||(c.funcao?[c.funcao]:[])).includes("jovem")).map(c=>{var T;const m=f(c.nascimento),b=(T=c.funcoes)==null?void 0:T.includes("lider_jovens");return i.jsx("div",{className:"p-4 rounded-lg border-2 border-indigo-200 dark:border-indigo-800 bg-white dark:bg-black",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold text-lg",children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.nome}),b&&i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-600 text-white",children:"Líder de Jovens"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[c.telefone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(sc,{className:"w-4 h-4"}),i.jsx("span",{children:c.telefone})]}),m&&i.jsxs("span",{children:["• ",m," anos"]}),m&&i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${m>=13&&m<=18?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":m>=19&&m<=24?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"}`,children:m>=13&&m<=18?"Adolescente":m>=19&&m<=24?"Jovem":"Jovem Adulto"})]})]})]})},c.id)}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(nr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum jovem cadastrado ainda."})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:i.jsx("button",{onClick:()=>El(!1),className:"px-6 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Fechar"})})]})})}),uh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ne,{className:"w-7 h-7 text-pink-600"}),"Nova Escala de Professores"]}),i.jsx("button",{onClick:()=>{fi(!1),yr({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]})},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("form",{onSubmit:async c=>{if(c.preventDefault(),oe.turmas.length===0){alert("Selecione pelo menos uma turma!");return}if(oe.professoresSelecionados.length===0){alert("Selecione pelo menos um professor!");return}try{const m={ministerio:"kids",descricao:`Turmas: ${oe.turmas.join(", ")}`,data:`${oe.data}T${oe.horario}:00`,horario:oe.horario,membros_ids:oe.professoresSelecionados},b=await to(m),T={id:b.id,...oe},P=[...Ly,T];My(P),localStorage.setItem("escalasKids",JSON.stringify(P)),ti(A=>[...A,b]),fi(!1),yr({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]})}catch(m){console.error("Erro ao criar escala:",m),alert("Erro ao criar escala: "+m.message)}},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selecione as Turmas"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Pequenos","Grandes"].map(c=>{const m=oe.turmas.includes(c);return i.jsx("div",{onClick:()=>{yr(m?{...oe,turmas:oe.turmas.filter(b=>b!==c)}:{...oe,turmas:[...oe.turmas,c]})},className:`p-4 rounded-lg border-2 cursor-pointer transition-all text-center ${m?"border-pink-600 bg-pink-50 dark:bg-pink-900/30":"border-gray-200 dark:border-gray-700 hover:border-pink-300 dark:hover:border-pink-700"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c}),m&&i.jsx("div",{className:"h-5 w-5 rounded-full bg-pink-600 flex items-center justify-center",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},c)})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data"}),i.jsx("input",{type:"date",value:oe.data,onChange:c=>yr({...oe,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário"}),i.jsx("input",{type:"time",value:oe.horario,onChange:c=>yr({...oe,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Selecione os Professores (",oe.professoresSelecionados.length," selecionados)"]}),!(te!=null&&te.professores)||te.professores.length===0?i.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-black rounded-lg",children:[i.jsx(Pe,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum professor cadastrado."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:'Cadastre membros com função "Professor Kids" ou "Líder Kids"'})]}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:te.professores.map(c=>{var T,P;const m=oe.professoresSelecionados.includes(c.id),b=c.idade||(c.nascimento?f(c.nascimento):null);return i.jsx("div",{onClick:()=>{yr(m?{...oe,professoresSelecionados:oe.professoresSelecionados.filter(A=>A!==c.id)}:{...oe,professoresSelecionados:[...oe.professoresSelecionados,c.id]})},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${m?"border-pink-600 bg-pink-50 dark:bg-pink-900/30":"border-gray-200 dark:border-gray-700 hover:border-pink-300 dark:hover:border-pink-700"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-pink-600 flex items-center justify-center text-white font-semibold",children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:c.nome}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${(T=c.funcoes)!=null&&T.includes("lider kids")?"bg-pink-600 text-white":"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200"}`,children:(P=c.funcoes)!=null&&P.includes("lider kids")?"Líder":"Professor"})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[c.telefone&&i.jsx("span",{children:c.telefone}),b&&i.jsxs("span",{children:["• ",b," anos"]})]})]}),m&&i.jsx("div",{className:"h-6 w-6 rounded-full bg-pink-600 flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},c.id)})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{fi(!1),yr({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]})},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:oe.professoresSelecionados.length===0,className:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(Ne,{className:"w-4 h-4"}),"Criar Escala (",oe.professoresSelecionados.length," ",oe.professoresSelecionados.length===1?"professor":"professores",")"]})]})]})]})})}),O&&qy(),i.jsx(Ur,{isOpen:Gu,onClose:()=>{pl(!1),yl(""),La([])},title:"Inscrever Familiar",maxWidth:"max-w-md",children:!F||!F.membros||F.membros.length<=1?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Você não possui outros membros cadastrados na sua família."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",value:Qu,onChange:c=>Nh(c.target.value),placeholder:"Buscar familiar por nome...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-black text-gray-900 dark:text-white"})}),i.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[Xu.length===0&&Qu.length>=2&&i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Nenhum familiar encontrado"}),Xu.map(c=>i.jsxs("div",{onClick:()=>zy(c),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition-colors",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c.nome}),c.email&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.email})]},c.id))]})]})}),ri&&Y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-2xl max-w-lg w-full shadow-2xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-full ${Y.categoria==="culto"?"bg-purple-100 dark:bg-purple-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:i.jsx(ts,{className:`w-6 h-6 ${Y.categoria==="culto"?"text-purple-600 dark:text-purple-400":"text-orange-600 dark:text-orange-400"}`})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Detalhes da Escala"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Y.categoria?Y.categoria.charAt(0).toUpperCase()+Y.categoria.slice(1):"Escala de Diaconia"})]})]}),i.jsx("button",{onClick:()=>{ni(!1),fl(null),Mn([])},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gray-50 dark:bg-black/50 rounded-xl p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[i.jsx(Ne,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium capitalize",children:B(ae(Y.data),"EEEE, d 'de' MMMM 'de' yyyy",{locale:Ae})})]}),Y.horario&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[i.jsx(mn,{className:"w-4 h-4"}),i.jsx("span",{children:Y.horario})]})]})}),Y.descricao&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Descrição"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-black/50 rounded-lg p-3",children:Y.descricao})]}),Y.local&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Local"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-black/50 rounded-lg p-3",children:[i.jsx(rs,{className:"w-4 h-4"}),i.jsx("span",{children:Y.local})]})]}),Y.musicas&&Y.musicas.length>0&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Músicas (",Y.musicas.length,")"]}),i.jsx("div",{className:"space-y-2",children:Y.musicas.map((c,m)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-black rounded-lg",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(we,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]},m))})]}),i.jsx("div",{children:Y.musicos&&Y.musicos.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(we,{className:"w-4 h-4"}),"Músicos Escalados (",Y.musicos.length,")"]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Y.musicos.map((c,m)=>{var b;return i.jsxs("div",{className:`flex items-center justify-between gap-3 p-3 rounded-lg ${c.id===(e==null?void 0:e.id)?"bg-purple-100 dark:bg-purple-900/30 border-2 border-purple-300 dark:border-purple-700":"bg-gray-50 dark:bg-black/50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${c.id===(e==null?void 0:e.id)?"bg-purple-600":"bg-gray-500"}`,children:(b=c.nome)==null?void 0:b.split(" ").map(T=>T[0]).join("").substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[c.nome,c.id===(e==null?void 0:e.id)&&i.jsx("span",{className:"ml-2 text-xs text-purple-600 dark:text-purple-400 font-bold",children:"(Você)"})]}),c.telefone&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone})]})]}),i.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium rounded-full",children:c.instrumento})]},m)})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(Pe,{className:"w-4 h-4"}),"Membros Escalados (",(Y.membros_ids||[]).length,")"]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(Y.membros_ids||[]).length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum membro escalado"}):Bu.length===0?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):Bu.map((c,m)=>{var b;return i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${c.id===(e==null?void 0:e.id)?"bg-purple-100 dark:bg-purple-900/30 border-2 border-purple-300 dark:border-purple-700":"bg-gray-50 dark:bg-black/50"}`,children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${c.id===(e==null?void 0:e.id)?"bg-purple-600":"bg-gray-500"}`,children:(b=c.nome)==null?void 0:b.split(" ").map(T=>T[0]).join("").substring(0,2).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[c.nome,c.id===(e==null?void 0:e.id)&&i.jsx("span",{className:"ml-2 text-xs text-purple-600 dark:text-purple-400 font-bold",children:"(Você)"})]}),c.telefone&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone})]})]},m)})})]})}),Y.observacoes&&i.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Observações"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3 border-l-4 border-amber-400",children:["💡 ",Y.observacoes]})]})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:Y.musicos?i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{ii(Y);const c={};Y.musicos&&Y.musicos.forEach(m=>{c[m.instrumento]=m.id}),me({data:Y.data,horario:Y.horario||"19:00",categoria:Y.tipo||Y.categoria||"culto",descricao:Y.descricao||"",local:Y.local||"",observacoes:Y.observacoes||"",membros_ids:Y.membros_ids||[],musicas:Y.musicas||[],instrumentos:c,newMusicaTemp:""}),ni(!1),Un(!0)},className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[i.jsx($i,{className:"w-4 h-4"}),"Editar Escala"]}),i.jsx("button",{onClick:()=>{ni(!1),fl(null),Mn([])},className:"px-6 py-2.5 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 font-medium transition-colors",children:"Fechar"})]}):i.jsx("button",{onClick:()=>{ni(!1),fl(null),Mn([])},className:"w-full px-4 py-2.5 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 font-medium transition-colors",children:"Fechar"})})]})})}),oh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(we,{className:"w-6 h-6 text-green-500"}),"Músicas Cadastradas (",Nt.length,")"]}),i.jsx("button",{onClick:()=>kl(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",children:i.jsx(Ee,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-3",children:Nt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(we,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma música cadastrada ainda"})]}):Nt.map((c,m)=>i.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-sm font-bold text-green-700 dark:text-green-400",children:["#",m+1]}),i.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:c.titulo})]}),c.artista&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:c.artista}),c.duracao&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Duração: ",c.duracao]})]}),c.link&&i.jsxs("button",{onClick:()=>{let b=c.link;b.includes("youtu.be/")&&(b=`https://www.youtube.com/watch?v=${b.split("youtu.be/")[1].split("?")[0]}`),window.open(b,"_blank","noopener,noreferrer")},className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 flex items-center gap-2 whitespace-nowrap",children:[i.jsx(we,{className:"w-4 h-4"}),"Ouvir"]})]})},c.id))}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>kl(!1),className:"w-full px-4 py-2 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Fechar"})})]})}),lh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(we,{className:"w-6 h-6 text-purple-500"}),"Músicos Ativos"]}),i.jsx("button",{onClick:()=>jl(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",children:i.jsx(Ee,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-2",children:gr.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pe,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum músico cadastrado ainda"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Total de ",gr.length," ",gr.length===1?"músico":"músicos"," na equipe"]}),gr.map(c=>{var b;const m=rt.filter(T=>{var P;return(P=T.membros_ids)==null?void 0:P.includes(c.id)}).length;return i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:c.nome.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[c.nome,c.id===(s==null?void 0:s.id)&&i.jsx("span",{className:"ml-2 text-xs bg-purple-600 text-white px-2 py-1 rounded-full",children:"Você"})]}),c.telefone&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.telefone}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:((b=c.funcoes)==null?void 0:b.join(", "))||"Louvor"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[m," ",m===1?"escala":"escalas"]})})]},c.id)})]})}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>jl(!1),className:"w-full px-4 py-2 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Fechar"})})]})}),Zu&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Nova Escala de Louvor"}),i.jsxs("form",{onSubmit:c=>{c.preventDefault(),Ky()},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Evento"}),i.jsxs("select",{value:D.categoria,onChange:c=>me({...D,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"ensaio",children:"Ensaio"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Data do Culto":"Data do Ensaio"}),i.jsx("input",{type:"date",required:!0,value:D.data,onChange:c=>me({...D,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Horário do Culto":"Horário do Ensaio"}),i.jsx("input",{type:"time",required:!0,value:D.horario,onChange:c=>me({...D,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Músicas (",(D.musicas||[]).length,"/5)"]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",value:D.newMusicaTemp||"",onChange:c=>me({...D,newMusicaTemp:c.target.value}),onKeyPress:c=>{var m;if(c.key==="Enter"){c.preventDefault();const b=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&b.length<5&&me({...D,musicas:[...b,D.newMusicaTemp.trim()],newMusicaTemp:""})}},placeholder:"Nome da música...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-black dark:text-white placeholder-gray-400",disabled:(D.musicas||[]).length>=5}),i.jsx("button",{type:"button",onClick:()=>{var m;const c=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&c.length<5&&me({...D,musicas:[...c,D.newMusicaTemp.trim()],newMusicaTemp:""})},disabled:!((Bh=D.newMusicaTemp)!=null&&Bh.trim())||(D.musicas||[]).length>=5,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:i.jsx(Ut,{className:"w-5 h-5"})})]}),(D.musicas||[]).length>0&&i.jsx("div",{className:"space-y-2",children:D.musicas.map((c,m)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(we,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]}),i.jsx("button",{type:"button",onClick:()=>{me({...D,musicas:D.musicas.filter((b,T)=>T!==m)})},className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:i.jsx(Ee,{className:"w-4 h-4"})})]},m))})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Instrumentos (",Object.values(D.instrumentos||{}).filter(Boolean).length," escalados)"]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:["Voz 1","Voz 2","Voz 3","Teclado 1","Teclado 2","Guitarra","Contrabaixo","Violão","Bateria"].map(c=>{const m=D.instrumentos||{},b=m[c],T=b?gr.find(P=>P.id===b):null;return i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(we,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c})]}),T&&i.jsx("button",{type:"button",onClick:()=>{const P={...m};delete P[c],me({...D,instrumentos:P})},className:"text-red-600 hover:text-red-700",children:i.jsx(Ee,{className:"w-4 h-4"})})]}),i.jsxs("select",{value:b||"",onChange:P=>{const A=P.target.value;if(A)me({...D,instrumentos:{...m,[c]:parseInt(A)}});else{const z={...m};delete z[c],me({...D,instrumentos:z})}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione um músico"}),gr.map(P=>i.jsx("option",{value:P.id,children:P.nome},P.id))]})]},c)})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>xl(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:Object.values(D.instrumentos||{}).filter(Boolean).length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Criar Escala (",Object.values(D.instrumentos||{}).filter(Boolean).length," ",Object.values(D.instrumentos||{}).filter(Boolean).length===1?"músico":"músicos",")"]})]})]})]})}),eh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Editar Escala de Louvor"}),i.jsxs("form",{onSubmit:c=>{c.preventDefault(),Yy()},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Evento"}),i.jsxs("select",{value:D.categoria,onChange:c=>me({...D,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"ensaio",children:"Ensaio"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Data do Culto":"Data do Ensaio"}),i.jsx("input",{type:"date",required:!0,value:D.data,onChange:c=>me({...D,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Horário do Culto":"Horário do Ensaio"}),i.jsx("input",{type:"time",required:!0,value:D.horario,onChange:c=>me({...D,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Músicas (",(D.musicas||[]).length,"/5)"]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",value:D.newMusicaTemp||"",onChange:c=>me({...D,newMusicaTemp:c.target.value}),onKeyPress:c=>{var m;if(c.key==="Enter"){c.preventDefault();const b=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&b.length<5&&me({...D,musicas:[...b,D.newMusicaTemp.trim()],newMusicaTemp:""})}},placeholder:"Nome da música...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-black dark:text-white placeholder-gray-400",disabled:(D.musicas||[]).length>=5}),i.jsx("button",{type:"button",onClick:()=>{var m;const c=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&c.length<5&&me({...D,musicas:[...c,D.newMusicaTemp.trim()],newMusicaTemp:""})},disabled:!((Hh=D.newMusicaTemp)!=null&&Hh.trim())||(D.musicas||[]).length>=5,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:i.jsx(Ut,{className:"w-5 h-5"})})]}),(D.musicas||[]).length>0&&i.jsx("div",{className:"space-y-2",children:D.musicas.map((c,m)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(we,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]}),i.jsx("button",{type:"button",onClick:()=>{me({...D,musicas:D.musicas.filter((b,T)=>T!==m)})},className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:i.jsx(Ee,{className:"w-4 h-4"})})]},m))})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Instrumentos (",Object.values(D.instrumentos||{}).filter(Boolean).length," escalados)"]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:["Voz 1","Voz 2","Voz 3","Teclado 1","Teclado 2","Guitarra","Contrabaixo","Violão","Bateria"].map(c=>{const m=D.instrumentos||{},b=m[c],T=b?gr.find(P=>P.id===b):null;return i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(we,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c})]}),T&&i.jsx("button",{type:"button",onClick:()=>{const P={...m};delete P[c],me({...D,instrumentos:P})},className:"text-red-600 hover:text-red-700",children:i.jsx(Ee,{className:"w-4 h-4"})})]}),i.jsxs("select",{value:b||"",onChange:P=>{const A=P.target.value;if(A)me({...D,instrumentos:{...m,[c]:parseInt(A)}});else{const z={...m};delete z[c],me({...D,instrumentos:z})}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione um músico"}),gr.map(P=>i.jsx("option",{value:P.id,children:P.nome},P.id))]})]},c)})})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsxs("button",{type:"button",onClick:()=>{confirm("Deseja realmente excluir esta escala?")&&(Jy(si==null?void 0:si.id),Un(!1))},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[i.jsx(oc,{className:"w-4 h-4"}),"Excluir"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>Un(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:Object.values(D.instrumentos||{}).filter(Boolean).length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Salvar Alterações (",Object.values(D.instrumentos||{}).filter(Boolean).length," ",Object.values(D.instrumentos||{}).filter(Boolean).length===1?"músico":"músicos",")"]})]})]})]})]})}),ih&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-4 md:p-6 rounded-lg shadow-lg max-w-md w-full",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Adicionar Música"}),i.jsxs("form",{onSubmit:Gy,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Música *"}),i.jsx("input",{type:"text",required:!0,value:mr.nome,onChange:c=>za({...mr,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Bondade de Deus"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Artista"}),i.jsx("input",{type:"text",value:mr.artista,onChange:c=>za({...mr,artista:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Isaías Saad"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Link do YouTube"}),i.jsx("input",{type:"url",value:mr.link,onChange:c=>za({...mr,link:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"https://www.youtube.com/watch?v=..."})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>bl(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Adicionar Música"})]})]})]})}),rh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] overflow-y-auto p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-4 md:p-6 rounded-lg shadow-lg max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-base md:text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:oi?"Editar Oficina":"Nova Oficina"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Oficina *"}),i.jsx("input",{type:"text",required:!0,value:q.nome,onChange:c=>Te({...q,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Louvor e Adoração"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:q.descricao,onChange:c=>Te({...q,descricao:c.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Descrição da oficina"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Data *"}),i.jsx("input",{type:"date",required:!0,value:q.data,onChange:c=>Te({...q,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:q.horario,onChange:c=>Te({...q,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Local"}),i.jsx("input",{type:"text",value:q.local,onChange:c=>Te({...q,local:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Sala 2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Número de Vagas *"}),i.jsx("input",{type:"number",required:!0,min:"1",value:q.vagas,onChange:c=>Te({...q,vagas:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Quem pode se inscrever?"}),i.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto p-2 bg-gray-50 dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${q.quem_pode_se_inscrever.includes("todos")?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 shadow-sm":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-900"}`,children:[i.jsx("div",{className:"relative flex items-center justify-center",children:i.jsx("input",{type:"checkbox",checked:q.quem_pode_se_inscrever.includes("todos"),onChange:c=>{c.target.checked?Te({...q,quem_pode_se_inscrever:["todos"]}):Te({...q,quem_pode_se_inscrever:[]})},className:"w-5 h-5 text-indigo-600 bg-white dark:bg-black border-2 border-gray-300 dark:border-gray-500 rounded focus:ring-2 focus:ring-indigo-500 cursor-pointer"})}),i.jsx("span",{className:`ml-3 text-sm font-semibold ${q.quem_pode_se_inscrever.includes("todos")?"text-indigo-700 dark:text-indigo-300":"text-gray-900 dark:text-white"}`,children:"Todos os Membros"})]}),["membro","pastor","lider da diaconia","líder de louvor","lider kids","lider jovens","jovem","ministro","louvor","diaconia","professor kids"].map(c=>{const m=q.quem_pode_se_inscrever.includes(c),b=q.quem_pode_se_inscrever.includes("todos");return i.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${b?"border-gray-200 dark:border-gray-700 opacity-50 cursor-not-allowed":m?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 shadow-sm":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-900"}`,children:[i.jsx("div",{className:"relative flex items-center justify-center",children:i.jsx("input",{type:"checkbox",checked:m,onChange:T=>{const P=q.quem_pode_se_inscrever.filter(A=>A!=="todos");T.target.checked?Te({...q,quem_pode_se_inscrever:[...P,c]}):Te({...q,quem_pode_se_inscrever:P.filter(A=>A!==c)})},disabled:b,className:"w-5 h-5 text-indigo-600 bg-white dark:bg-black border-2 border-gray-300 dark:border-gray-500 rounded focus:ring-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"})}),i.jsx("span",{className:`ml-3 text-sm ${b?"text-gray-400 dark:text-gray-500":m?"text-indigo-700 dark:text-indigo-300 font-semibold":"text-gray-700 dark:text-gray-300"}`,children:c.charAt(0).toUpperCase()+c.slice(1)})]},c)})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{Fa(!1),li(null),Te({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]})},className:"px-4 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Cancelar"}),i.jsx("button",{type:"button",onClick:Qy,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:oi?"Atualizar":"Criar"})]})]})]})}),nh&&ee&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ee.nome}),i.jsx("button",{onClick:()=>{ci(!1),vl(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx(Ee,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[ee.descricao&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:ee.descricao})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data e Horário"}),i.jsxs("p",{className:"text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ne,{className:"w-4 h-4"}),ee.data&&B(ae(ee.data.split("T")[0]),"dd/MM/yyyy",{locale:Ae})]}),i.jsxs("p",{className:"text-gray-900 dark:text-white flex items-center gap-2 mt-1",children:[i.jsx(mn,{className:"w-4 h-4"}),ee.data&&ee.data.includes("T")?ee.data.split("T")[1].substring(0,5):"19:00"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Vagas"}),i.jsxs("p",{className:`flex items-center gap-2 font-semibold ${er.length>=ee.vagas?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[i.jsx(Pe,{className:"w-4 h-4"}),er.length,"/",ee.vagas||12,er.length>=ee.vagas&&i.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-0.5 rounded",children:"Esgotado"})]})]})]}),ee.local&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local"}),i.jsxs("p",{className:"text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(rs,{className:"w-4 h-4"}),ee.local]})]}),er.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Inscritos (",er.length,")"]}),i.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:er.map(c=>{var m;return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-black rounded-lg",children:[i.jsx(Pe,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:((m=c.member)==null?void 0:m.nome)||"Nome não disponível"})]},c.id)})})]}),i.jsxs("div",{className:"flex justify-between gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{ci(!1),vl(null)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Fechar"}),Ma&&i.jsxs("button",{onClick:()=>{var c,m,b;Te({nome:ee.nome,descricao:ee.descricao,data:((c=ee.data)==null?void 0:c.split("T")[0])||B(new Date,"yyyy-MM-dd"),horario:((b=(m=ee.data)==null?void 0:m.split("T")[1])==null?void 0:b.substring(0,5))||"19:00",local:ee.local,vagas:ee.vagas||12,permissaoInscricao:ee.permissaoInscricao||["todos"]}),ci(!1),ui(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[i.jsx($i,{className:"w-4 h-4"}),"Editar"]})]}),i.jsx("button",{onClick:ex,disabled:er.length>=ee.vagas&&!di,className:`px-4 py-2 rounded-lg text-white ${di?"bg-red-600 hover:bg-red-700":er.length>=ee.vagas?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:di?"Cancelar Inscrição":er.length>=ee.vagas?"Vagas Esgotadas":"Inscrever-se"})]})]})]})})}),sh&&ee&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] overflow-y-auto p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Editar Oficina"}),i.jsx("button",{onClick:()=>ui(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx(Ee,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{const m={nome:q.nome,descricao:q.descricao,data:`${q.data}T${q.horario}`,local:q.local,vagas:parseInt(q.vagas),permissao_inscricao:q.permissaoInscricao};await Td(ee.id,m),alert("Oficina atualizada com sucesso!"),ui(!1);const b=await jr();Ua(b||[])}catch(m){console.error("Erro ao atualizar oficina:",m),alert("Erro ao atualizar oficina. Tente novamente.")}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Oficina *"}),i.jsx("input",{type:"text",required:!0,value:q.nome,onChange:c=>Te({...q,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:q.descricao,onChange:c=>Te({...q,descricao:c.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Data *"}),i.jsx("input",{type:"date",required:!0,value:q.data,onChange:c=>Te({...q,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:q.horario,onChange:c=>Te({...q,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Local"}),i.jsx("input",{type:"text",value:q.local,onChange:c=>Te({...q,local:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Número de Vagas *"}),i.jsx("input",{type:"number",required:!0,min:"1",value:q.vagas,onChange:c=>Te({...q,vagas:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>ui(!1),className:"px-4 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Salvar Alterações"})]})]})]})}),ch&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Montar Escala de Diaconia"}),i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{await to({data:J.data,horario:J.horario,tipo:J.categoria,observacoes:J.observacoes,ministerio:"diaconia",membros_ids:J.diaconosSelecionados});const m=await xr("diaconia");Zs(m),_l(!1),Et({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),alert("Escala criada com sucesso!")}catch(m){console.error("Erro ao criar escala:",m),alert("Erro ao criar escala. Tente novamente.")}},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),i.jsxs("select",{value:J.categoria,onChange:c=>Et({...J,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"limpeza",children:"Limpeza"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.categoria==="culto"?"Data do Culto":"Data da Limpeza"}),i.jsx("input",{type:"date",value:J.data,onChange:c=>Et({...J,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.categoria==="culto"?"Horário do Culto":"Horário da Limpeza"}),i.jsx("input",{type:"time",value:J.horario,onChange:c=>Et({...J,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Selecione os Diáconos (",J.diaconosSelecionados.length," selecionados)"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Ar.map(c=>{var b,T;const m=J.diaconosSelecionados.includes(c.id);return i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${m?"bg-purple-100 dark:bg-purple-900/30":"bg-gray-50 dark:bg-black hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>{const P=m?J.diaconosSelecionados.filter(A=>A!==c.id):[...J.diaconosSelecionados,c.id];Et({...J,diaconosSelecionados:P})},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:((T=(b=c.nome)==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"D"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white uppercase",children:c.nome}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone||"Sem telefone"})]})]}),i.jsx("input",{type:"checkbox",checked:m,onChange:()=>{},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"})]},c.id)})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{Et({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),_l(!1)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:J.diaconosSelecionados.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Criar Escala (",J.diaconosSelecionados.length," ",J.diaconosSelecionados.length===1?"diácono":"diáconos",")"]})]})]})]})})}),dh&&Nl&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Editar Escala de Diaconia"}),i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{await ro(Nl.id,{data:J.data,horario:J.horario,tipo:J.categoria,observacoes:J.observacoes,ministerio:"diaconia",membros_ids:J.diaconosSelecionados});const m=await xr("diaconia");Zs(m),hi(!1),Wa(null),alert("Escala atualizada com sucesso!")}catch(m){console.error("Erro ao atualizar escala:",m),alert("Erro ao atualizar escala. Tente novamente.")}},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),i.jsxs("select",{value:J.categoria,onChange:c=>Et({...J,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"limpeza",children:"Limpeza"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.categoria==="culto"?"Data do Culto":"Data da Limpeza"}),i.jsx("input",{type:"date",value:J.data,onChange:c=>Et({...J,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.categoria==="culto"?"Horário do Culto":"Horário da Limpeza"}),i.jsx("input",{type:"time",value:J.horario,onChange:c=>Et({...J,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Selecione os Diáconos (",J.diaconosSelecionados.length," selecionados)"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Ar.map(c=>{var b,T;const m=J.diaconosSelecionados.includes(c.id);return i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${m?"bg-purple-100 dark:bg-purple-900/30":"bg-gray-50 dark:bg-black hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>{const P=m?J.diaconosSelecionados.filter(A=>A!==c.id):[...J.diaconosSelecionados,c.id];Et({...J,diaconosSelecionados:P})},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:((T=(b=c.nome)==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"D"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white uppercase",children:c.nome}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone||"Sem telefone"})]})]}),i.jsx("input",{type:"checkbox",checked:m,onChange:()=>{},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"})]},c.id)})})]})]}),i.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:async()=>{if(window.confirm("Tem certeza que deseja excluir esta escala?"))try{await no(Nl.id,"diaconia");const c=await xr("diaconia");Zs(c),hi(!1),Wa(null),alert("Escala excluída com sucesso!")}catch(c){console.error("Erro ao excluir escala:",c),alert("Erro ao excluir escala. Tente novamente.")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>{hi(!1),Wa(null)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:J.diaconosSelecionados.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Salvar (",J.diaconosSelecionados.length," ",J.diaconosSelecionados.length===1?"diácono":"diáconos",")"]})]})]})]})]})})}),bh&&Ye&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ne,{className:"w-7 h-7 text-pink-600"}),"Detalhes da Escala"]}),i.jsx("button",{onClick:()=>{qa(!1),Ba(null)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 p-6 rounded-lg border border-pink-200 dark:border-pink-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Ne,{className:"w-8 h-8 text-pink-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B(ae(Ye.data),"dd/MM/yyyy",{locale:Ae})}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 capitalize",children:B(ae(Ye.data),"EEEE",{locale:Ae})})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mn,{className:"w-5 h-5 text-pink-600"}),i.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:Ye.horario})]})]}),((Vh=Ye.descricao)==null?void 0:Vh.includes("Turmas:"))&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Ct,{className:"w-5 h-5 text-pink-600"}),"Turmas"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:Ye.descricao.replace("Turmas: ","").split(", ").map((c,m)=>i.jsx("div",{className:`px-6 py-3 rounded-lg text-white font-medium text-lg ${c==="Pequenos"?"bg-blue-500":"bg-purple-600"}`,children:c},m))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Pe,{className:"w-5 h-5 text-pink-600"}),"Professores Escalados (",((Kh=Ye.membros_ids)==null?void 0:Kh.length)||0,")"]}),i.jsx("div",{className:"space-y-3",children:(Yh=Ye.membros_ids)==null?void 0:Yh.map((c,m)=>{var P,A,z;const b=(P=te.all)==null?void 0:P.find(Q=>Q.id===c);if(!b)return null;const T=f(b.nascimento);return i.jsx("div",{className:"p-4 rounded-lg border-2 border-pink-200 dark:border-pink-800 bg-white dark:bg-black",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-pink-600 flex items-center justify-center text-white font-semibold text-lg",children:g(b.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:b.nome}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${(A=b.funcoes)!=null&&A.includes("lider kids")?"bg-pink-600 text-white":"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200"}`,children:(z=b.funcoes)!=null&&z.includes("lider kids")?"Líder":"Professor"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[b.telefone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(sc,{className:"w-4 h-4"}),i.jsx("span",{children:b.telefone})]}),T&&i.jsxs("span",{children:["• ",T," anos"]})]})]})]})},m)})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsxs("button",{onClick:()=>{var c;Ha({turmas:((c=Ye.descricao)==null?void 0:c.replace("Turmas: ","").split(", "))||[],data:B(ae(Ye.data),"yyyy-MM-dd"),horario:Ye.horario,professoresSelecionados:Ye.membros_ids||[]}),mi(!0)},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(fm,{className:"w-5 h-5"}),"Editar Escala"]}),i.jsxs("button",{onClick:async()=>{if(window.confirm("Tem certeza que deseja deletar esta escala?"))try{await no(Ye.id),ti(c=>c.filter(m=>m.id!==Ye.id)),qa(!1),Ba(null)}catch(c){console.error("Erro ao deletar escala:",c),alert("Erro ao deletar escala")}},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(oc,{className:"w-5 h-5"}),"Deletar"]}),i.jsx("button",{onClick:()=>{qa(!1),Ba(null)},className:"px-6 py-3 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Fechar"})]})]})})}),kh&&Ye&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(fm,{className:"w-7 h-7 text-blue-600"}),"Editar Escala"]}),i.jsx("button",{onClick:()=>{mi(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Ee,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("form",{onSubmit:async c=>{if(c.preventDefault(),at.turmas.length===0){alert("Selecione pelo menos uma turma");return}if(at.professoresSelecionados.length===0){alert("Selecione pelo menos um professor");return}try{const m={data:`${at.data}T${at.horario}:00`,horario:at.horario,descricao:`Turmas: ${at.turmas.join(", ")}`,membros_ids:at.professoresSelecionados};await ro(Ye.id,m);const b=await xr("kids");ti(b),mi(!1),qa(!1),Ba(null)}catch(m){console.error("Erro ao atualizar escala:",m),alert("Erro ao atualizar escala")}},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Turmas *"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Pequenos","Grandes"].map(c=>i.jsx("button",{type:"button",onClick:()=>{Ha(m=>({...m,turmas:m.turmas.includes(c)?m.turmas.filter(b=>b!==c):[...m.turmas,c]}))},className:`p-4 rounded-lg border-2 transition-all ${at.turmas.includes(c)?c==="Pequenos"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-purple-600 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ct,{className:`w-5 h-5 ${at.turmas.includes(c)?c==="Pequenos"?"text-blue-500":"text-purple-600":"text-gray-400"}`}),i.jsx("span",{className:`font-medium ${at.turmas.includes(c)?c==="Pequenos"?"text-blue-700 dark:text-blue-300":"text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300"}`,children:c})]})},c))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data *"}),i.jsx("input",{type:"date",value:at.data,onChange:c=>Ha(m=>({...m,data:c.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário *"}),i.jsx("input",{type:"time",value:at.horario,onChange:c=>Ha(m=>({...m,horario:c.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Professores *"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg p-3",children:(Jh=te.all)==null?void 0:Jh.map(c=>{var b;const m=f(c.nascimento);return i.jsx("button",{type:"button",onClick:()=>{Ha(T=>({...T,professoresSelecionados:T.professoresSelecionados.includes(c.id)?T.professoresSelecionados.filter(P=>P!==c.id):[...T.professoresSelecionados,c.id]}))},className:`w-full p-3 rounded-lg border-2 transition-all text-left ${at.professoresSelecionados.includes(c.id)?"border-pink-500 bg-pink-50 dark:bg-pink-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${at.professoresSelecionados.includes(c.id)?"bg-pink-600":"bg-gray-400"}`,children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`font-medium ${at.professoresSelecionados.includes(c.id)?"text-pink-700 dark:text-pink-300":"text-gray-700 dark:text-gray-300"}`,children:c.nome}),((b=c.funcoes)==null?void 0:b.includes("lider kids"))&&i.jsx("span",{className:"text-xs px-2 py-0.5 bg-pink-600 text-white rounded-full",children:"Líder"})]}),m&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m," anos"]})]})]})},c.id)})})]}),i.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>mi(!1),className:"flex-1 px-6 py-3 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Alterações"})]})]})]})})})]})})},L2=(e,t=null)=>{const[r,n]=w.useState(t),[a,s]=w.useState(!0),[o,l]=w.useState(null);return w.useEffect(()=>{e&&(async()=>{try{s(!0);const u=await vy(e);n(u||t)}catch(u){console.error(`Erro ao carregar configuração ${e}:`,u),l(u),n(t)}finally{s(!1)}})()},[e,t]),{value:r,loading:a,error:o}},M2=(e=!1)=>L2(e?"church_logo_url_dark":"church_logo_url",""),U2=({members:e,onLogin:t,onShowSignup:r})=>{const[n,a]=w.useState(""),[s,o]=w.useState(""),[l,d]=w.useState(!1),[u,h]=w.useState(""),[f,g]=w.useState(!1);w.useEffect(()=>{const _=()=>{const x=document.documentElement.classList.contains("dark");g(x)};_();const j=new MutationObserver(_);return j.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>j.disconnect()},[]);const{value:v}=M2(f),k=async _=>{if(_.preventDefault(),h(""),!n||!s){h("Por favor, preencha todos os campos");return}await t(n,s)||h("Usuário ou senha incorretos")};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-black px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("img",{src:v,alt:"Logo da Igreja",className:"w-80 h-80 mx-auto mb-6 object-contain"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'"E perseveravam na doutrina dos apóstolos, e na comunhão, e no partir do pão, e nas orações."'})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8",children:[i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"emailOrName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usuário"}),i.jsxs("div",{className:"relative",children:[i.jsx(md,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{id:"emailOrName",type:"text",value:n,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",placeholder:"Digite seu usuário",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(fk,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{id:"password",type:l?"text":"password",value:s,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",placeholder:"Digite sua senha",required:!0}),i.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:l?i.jsx(ck,{className:"w-5 h-5"}):i.jsx(dk,{className:"w-5 h-5"})})]})]}),u&&i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm",children:u}),i.jsx("button",{type:"submit",className:"w-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 py-3 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:"Entrar"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[i.jsx("span",{children:"Primeira vez aqui?"}),i.jsxs("button",{onClick:r,className:"text-gray-900 dark:text-white hover:underline font-semibold inline-flex items-center gap-1",children:[i.jsx(pp,{className:"h-4 w-4"}),"Cadastre-se"]})]})})]})]})})},F2=({onSignup:e,onBack:t})=>{w.useState(()=>localStorage.getItem("darkMode")==="true"||!1);const[r,n]=w.useState({nome:"",email:"",telefone:"",nascimento:"",idade:null,genero:"masculino",funcoes:[],senha:"",confirmarSenha:""}),a=h=>{if(!h)return null;const f=new Date,g=new Date(h);let v=f.getFullYear()-g.getFullYear();const k=f.getMonth()-g.getMonth();return(k<0||k===0&&f.getDate()<g.getDate())&&v--,v},[s,o]=w.useState(""),[l,d]=w.useState(!1),u=async h=>{if(h.preventDefault(),!l){if(o(""),d(!0),!r.nome||!r.telefone||!r.nascimento){o("Por favor, preencha todos os campos obrigatórios"),d(!1);return}if(r.senha!==r.confirmarSenha){o("As senhas não coincidem"),d(!1);return}if(r.senha.length<4){o("A senha deve ter pelo menos 4 caracteres"),d(!1);return}if(r.funcoes.length===0){o("Selecione pelo menos uma função"),d(!1);return}try{const f={nome:r.nome,email:r.email,telefone:r.telefone,nascimento:r.nascimento,idade:r.idade,genero:r.genero,funcoes:r.funcoes,status:"ativo",senha:r.senha};await e(f)}catch{o("Erro ao cadastrar. Tente novamente."),d(!1)}}};return i.jsx("div",{className:"fixed inset-0 bg-white dark:bg-black overflow-y-scroll",style:{paddingTop:"calc(env(safe-area-inset-top, 44px) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom, 16px) + 80px)",paddingLeft:"16px",paddingRight:"16px",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:i.jsx("div",{className:"max-w-md w-full mx-auto",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-6",children:[i.jsx("div",{className:"flex justify-start items-center mb-6",children:i.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:i.jsx(ik,{className:"h-6 w-6"})})}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full mb-3",children:i.jsx(pp,{className:"h-8 w-8 text-gray-900 dark:text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"Cadastro de Membro"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preencha seus dados para se cadastrar"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo *"}),i.jsx("input",{type:"text",value:r.nome,onChange:h=>n({...r,nome:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:r.email,onChange:h=>n({...r,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone *"}),i.jsx("input",{type:"tel",value:r.telefone,onChange:h=>n({...r,telefone:h.target.value}),placeholder:"(11) 98765-4321",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0})]}),i.jsx(by,{label:"Data de Nascimento *",value:r.nascimento,onChange:h=>{const f=a(h);n({...r,nascimento:h,idade:f})}}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gênero *"}),i.jsxs("select",{value:r.genero,onChange:h=>n({...r,genero:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"masculino",children:"Masculino"}),i.jsx("option",{value:"feminino",children:"Feminino"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Funções * (Selecione uma ou mais)"}),i.jsx("div",{className:"space-y-2 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700/50 max-h-48 overflow-y-auto",children:["membro","jovem","louvor","diaconia","professor kids"].map(h=>{const f=r.funcoes.includes(h),g=h.charAt(0).toUpperCase()+h.slice(1);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("input",{type:"checkbox",checked:f,onChange:v=>{v.target.checked?n({...r,funcoes:[...r.funcoes,h]}):n({...r,funcoes:r.funcoes.filter(k=>k!==h)})},className:"sr-only"}),i.jsx("div",{className:`w-6 h-6 border-2 rounded flex items-center justify-center transition-all ${f?"bg-gray-900 border-gray-900 dark:bg-white dark:border-white":"bg-white border-gray-400 dark:bg-gray-700 dark:border-gray-500"}`,children:f&&i.jsx(Ee,{className:"w-4 h-4 text-white dark:text-gray-900",strokeWidth:3})})]}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 select-none",children:g})]},h)})}),r.funcoes.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Selecione pelo menos uma função"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha *"}),i.jsx("input",{type:"password",value:r.senha,onChange:h=>n({...r,senha:h.target.value}),placeholder:"Mínimo 4 caracteres",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0,minLength:4})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Senha *"}),i.jsx("input",{type:"password",value:r.confirmarSenha,onChange:h=>n({...r,confirmarSenha:h.target.value}),placeholder:"Digite a senha novamente",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0,minLength:4})]}),s&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:s})}),l&&i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 text-center",children:"⏳ Conectando com o servidor..."})}),i.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 py-3 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Cadastrando...":"Cadastrar"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Já tem cadastro?"," ",i.jsx("button",{onClick:t,className:"text-gray-900 dark:text-white hover:underline font-semibold",children:"Fazer login"})]})})]})})})},z2=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState([]),[o,l]=w.useState([]),[d,u]=w.useState([]),[h,f]=w.useState(!0),[g,v]=w.useState(null),k=async()=>{try{f(!0),v(null);try{await dy(),console.log("Alimentações de eventos passados limpas com sucesso")}catch(E){console.error("Erro ao limpar alimentações de eventos passados:",E)}const[_,j,x,p,y,S]=await Promise.all([kr(),oy(),sy(),my(),yy(),jr()]),C=(S||[]).map(E=>{let O;return E.data.includes("T")?O=E.data:O=`${E.data}T${E.horario||"00:00"}`,{id:`workshop-${E.id}`,nome:`Oficina: ${E.nome}`,data:O,local:E.local,descricao:E.descricao,tipo:"oficina",vagas:E.vagas,inscritos:E.inscritos,workshopId:E.id}}),N=[...j||[],...C];t(_||[]),n(N),s(x||[]),l(p||[]),u(y||[])}catch(_){console.error("Erro ao carregar dados:",_),v(_.message)}finally{f(!1)}};return w.useEffect(()=>{k(),console.log("[Realtime] Configurando subscriptions...");const _=bn("avisos",C=>{l(N=>[C,...N])},C=>{l(N=>N.map(E=>E.id===C.id?C:E))},C=>{l(N=>N.filter(E=>E.id!==C.id))}),j=bn("events",C=>{n(N=>[...N,C])},C=>{n(N=>N.map(E=>E.id===C.id?C:E))},C=>{n(N=>N.filter(E=>E.id!==C.id))}),x=bn("members",C=>{t(N=>[...N,C].sort((E,O)=>E.nome.localeCompare(O.nome)))},C=>{t(N=>N.map(E=>E.id===C.id?C:E).sort((E,O)=>E.nome.localeCompare(O.nome)))},C=>{t(N=>N.filter(E=>E.id!==C.id))}),p=bn("families",C=>{s(N=>[...N,C])},C=>{s(N=>N.map(E=>E.id===C.id?C:E))},C=>{s(N=>N.filter(E=>E.id!==C.id))}),y=bn("workshops",async()=>{const N=(await jr()||[]).map(E=>{let O;return E.data.includes("T")?O=E.data:O=`${E.data}T${E.horario||"00:00"}`,{id:`workshop-${E.id}`,nome:`Oficina: ${E.nome}`,data:O,local:E.local,descricao:E.descricao,tipo:"oficina",vagas:E.vagas,inscritos:E.inscritos,workshopId:E.id}});n(E=>[...E.filter(U=>!String(U.id).startsWith("workshop-")),...N])},async()=>{const N=(await jr()||[]).map(E=>{let O;return E.data.includes("T")?O=E.data:O=`${E.data}T${E.horario||"00:00"}`,{id:`workshop-${E.id}`,nome:`Oficina: ${E.nome}`,data:O,local:E.local,descricao:E.descricao,tipo:"oficina",vagas:E.vagas,inscritos:E.inscritos,workshopId:E.id}});n(E=>[...E.filter(U=>!String(U.id).startsWith("workshop-")),...N])},C=>{n(N=>N.filter(E=>E.workshopId!==C.id))}),S=bn("prayer_requests",C=>{u(N=>[C,...N])},C=>{u(N=>N.map(E=>E.id===C.id?C:E))},C=>{u(N=>N.filter(E=>E.id!==C.id))});return console.log("[Realtime] Subscriptions configuradas"),()=>{console.log("[Realtime] Limpando subscriptions..."),_&&_.unsubscribe().catch(C=>console.error("Erro ao desinscrever avisos:",C)),j&&j.unsubscribe().catch(C=>console.error("Erro ao desinscrever events:",C)),x&&x.unsubscribe().catch(C=>console.error("Erro ao desinscrever members:",C)),p&&p.unsubscribe().catch(C=>console.error("Erro ao desinscrever families:",C)),y&&y.unsubscribe().catch(C=>console.error("Erro ao desinscrever workshops:",C)),S&&S.unsubscribe().catch(C=>console.error("Erro ao desinscrever prayer:",C))}},[]),{members:e,setMembers:t,events:r,setEvents:n,families:a,setFamilies:s,avisos:o,setAvisos:l,prayerRequests:d,setPrayerRequests:u,loading:h,error:g,reload:k}};function W2(){const{members:e,setMembers:t,events:r,avisos:n,loading:a}=z2(),[s,o]=w.useState(()=>{const v=localStorage.getItem("current_member");return v?JSON.parse(v):null}),[l,d]=w.useState(!1),u=async v=>{try{const k={...v,senha:v.senha||"senha123",idade:v.idade&&v.idade!==""?parseInt(v.idade):null,nascimento:v.nascimento&&v.nascimento!==""?v.nascimento:null,email:v.email&&v.email!==""?v.email:null,telefone:v.telefone&&v.telefone!==""?v.telefone:null,familia:v.familia&&v.familia!==""?v.familia:null,funcoes:Array.isArray(v.funcoes)&&v.funcoes.length>0?v.funcoes:["membro"]},_=await Sd(k);t([...e,_])}catch(k){console.error("Erro ao criar membro:",k),alert(`Erro ao criar membro: ${k.message||k}`)}},h=async(v,k)=>{try{const _=await ay(v,k);return o(_),localStorage.setItem("current_member",JSON.stringify(_)),!0}catch(_){return console.error("Erro no login:",_),!1}},f=()=>{o(null),localStorage.removeItem("current_member")},g=async v=>{try{const k=await Sd({...v,data_cadastro:new Date().toISOString()});t([...e,k]),o(k),localStorage.setItem("current_member",JSON.stringify(k)),d(!1)}catch(k){throw console.error("Erro ao cadastrar:",k),new Error(k.message||"Erro ao fazer cadastro")}};return a?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."}):i.jsx(Kb,{children:i.jsxs(jb,{children:[i.jsx(hd,{path:"/",element:s?i.jsx(I2,{currentMember:s,events:r,avisos:n,onAddMember:u,onLogout:f}):l?i.jsx(F2,{onSignup:g,onBack:()=>d(!1)}):i.jsx(U2,{members:e,onLogin:h,onShowSignup:()=>d(!0)})}),i.jsx(hd,{path:"*",element:i.jsx(bb,{to:"/",replace:!0})})]})})}console.log("🚀 MEMBER APP - Iniciando...");const Fm=document.getElementById("root");Fm?(console.log("✅ Root encontrado, renderizando AppMember"),xc.createRoot(Fm).render(i.jsx(vx.StrictMode,{children:i.jsx(W2,{})})),console.log("✅ AppMember renderizado")):(console.error("❌ Root element não encontrado!"),alert("Erro: Root element não encontrado"));
