(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var Vm={exports:{}},Fo={},Km={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),dx=Symbol.for("react.portal"),ux=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),mx=Symbol.for("react.provider"),gx=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),yx=Symbol.for("react.suspense"),xx=Symbol.for("react.memo"),vx=Symbol.for("react.lazy"),Zh=Symbol.iterator;function wx(t){return t===null||typeof t!="object"?null:(t=Zh&&t[Zh]||t["@@iterator"],typeof t=="function"?t:null)}var Jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ym=Object.assign,Gm={};function Ca(t,e,r){this.props=t,this.context=e,this.refs=Gm,this.updater=r||Jm}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qm(){}Qm.prototype=Ca.prototype;function Ld(t,e,r){this.props=t,this.context=e,this.refs=Gm,this.updater=r||Jm}var Md=Ld.prototype=new Qm;Md.constructor=Ld;Ym(Md,Ca.prototype);Md.isPureReactComponent=!0;var ef=Array.isArray,Xm=Object.prototype.hasOwnProperty,Ud={current:null},Zm={key:!0,ref:!0,__self:!0,__source:!0};function eg(t,e,r){var n,a={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Xm.call(e,n)&&!Zm.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];a.children=d}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Hs,type:t,key:s,ref:o,props:a,_owner:Ud.current}}function bx(t,e){return{$$typeof:Hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs}function kx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tf=/\/+/g;function Rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kx(""+t.key):e.toString(36)}function zi(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hs:case dx:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+Rl(o,0):n,ef(a)?(r="",t!=null&&(r=t.replace(tf,"$&/")+"/"),zi(a,e,r,"",function(u){return u})):a!=null&&(Fd(a)&&(a=bx(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(tf,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",ef(t))for(var l=0;l<t.length;l++){s=t[l];var d=n+Rl(s,l);o+=zi(s,e,r,d,a)}else if(d=wx(t),typeof d=="function")for(t=d.call(t),l=0;!(s=t.next()).done;)s=s.value,d=n+Rl(s,l++),o+=zi(s,e,r,d,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yi(t,e,r){if(t==null)return t;var n=[],a=0;return zi(t,n,"","",function(s){return e.call(r,s,a++)}),n}function jx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},Wi={transition:null},_x={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Wi,ReactCurrentOwner:Ud};function tg(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:yi,forEach:function(t,e,r){yi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yi(t,function(){e++}),e},toArray:function(t){return yi(t,function(e){return e})||[]},only:function(t){if(!Fd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Ca;G.Fragment=ux;G.Profiler=fx;G.PureComponent=Ld;G.StrictMode=hx;G.Suspense=yx;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x;G.act=tg;G.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ym({},t.props),a=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ud.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in e)Xm.call(e,d)&&!Zm.hasOwnProperty(d)&&(n[d]=e[d]===void 0&&l!==void 0?l[d]:e[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Hs,type:t.type,key:a,ref:s,props:n,_owner:o}};G.createContext=function(t){return t={$$typeof:gx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mx,_context:t},t.Consumer=t};G.createElement=eg;G.createFactory=function(t){var e=eg.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:px,render:t}};G.isValidElement=Fd;G.lazy=function(t){return{$$typeof:vx,_payload:{_status:-1,_result:t},_init:jx}};G.memo=function(t,e){return{$$typeof:xx,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Wi.transition;Wi.transition={};try{t()}finally{Wi.transition=e}};G.unstable_act=tg;G.useCallback=function(t,e){return lt.current.useCallback(t,e)};G.useContext=function(t){return lt.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};G.useEffect=function(t,e){return lt.current.useEffect(t,e)};G.useId=function(){return lt.current.useId()};G.useImperativeHandle=function(t,e,r){return lt.current.useImperativeHandle(t,e,r)};G.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return lt.current.useMemo(t,e)};G.useReducer=function(t,e,r){return lt.current.useReducer(t,e,r)};G.useRef=function(t){return lt.current.useRef(t)};G.useState=function(t){return lt.current.useState(t)};G.useSyncExternalStore=function(t,e,r){return lt.current.useSyncExternalStore(t,e,r)};G.useTransition=function(){return lt.current.useTransition()};G.version="18.3.1";Km.exports=G;var w=Km.exports;const Nx=lx(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx=w,Ex=Symbol.for("react.element"),Cx=Symbol.for("react.fragment"),Tx=Object.prototype.hasOwnProperty,Px=Sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ox={key:!0,ref:!0,__self:!0,__source:!0};function rg(t,e,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Tx.call(e,n)&&!Ox.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Ex,type:t,key:s,ref:o,props:a,_owner:Px.current}}Fo.Fragment=Cx;Fo.jsx=rg;Fo.jsxs=rg;Vm.exports=Fo;var i=Vm.exports,bc={},ng={exports:{}},jt={},ag={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,H){var V=M.length;M.push(H);e:for(;0<V;){var ce=V-1>>>1,ge=M[ce];if(0<a(ge,H))M[ce]=H,M[V]=ge,V=ce;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var H=M[0],V=M.pop();if(V!==H){M[0]=V;e:for(var ce=0,ge=M.length,Xt=ge>>>1;ce<Xt;){var F=2*(ce+1)-1,It=M[F],Zt=F+1,$r=M[Zt];if(0>a(It,V))Zt<ge&&0>a($r,It)?(M[ce]=$r,M[Zt]=V,ce=Zt):(M[ce]=It,M[F]=V,ce=F);else if(Zt<ge&&0>a($r,V))M[ce]=$r,M[Zt]=V,ce=Zt;else break e}}return H}function a(M,H){var V=M.sortIndex-H.sortIndex;return V!==0?V:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,f=null,g=3,v=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=M)n(u),H.sortIndex=H.expirationTime,e(d,H);else break;H=r(u)}}function S(M){if(_=!1,y(M),!k)if(r(d)!==null)k=!0,tt(C);else{var H=r(u);H!==null&&Qt(S,H.startTime-M)}}function C(M,H){k=!1,_&&(_=!1,x(P),P=-1),v=!0;var V=g;try{for(y(H),f=r(d);f!==null&&(!(f.expirationTime>H)||M&&!ee());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,g=f.priorityLevel;var ge=ce(f.expirationTime<=H);H=t.unstable_now(),typeof ge=="function"?f.callback=ge:f===r(d)&&n(d),y(H)}else n(d);f=r(d)}if(f!==null)var Xt=!0;else{var F=r(u);F!==null&&Qt(S,F.startTime-H),Xt=!1}return Xt}finally{f=null,g=V,v=!1}}var N=!1,E=null,P=-1,L=5,A=-1;function ee(){return!(t.unstable_now()-A<L)}function le(){if(E!==null){var M=t.unstable_now();A=M;var H=!0;try{H=E(!0,M)}finally{H?se():(N=!1,E=null)}}else N=!1}var se;if(typeof p=="function")se=function(){p(le)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,ie=Oe.port2;Oe.port1.onmessage=le,se=function(){ie.postMessage(null)}}else se=function(){j(le,0)};function tt(M){E=M,N||(N=!0,se())}function Qt(M,H){P=j(function(){M(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,tt(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var V=g;g=H;try{return M()}finally{g=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=g;g=M;try{return H()}finally{g=V}},t.unstable_scheduleCallback=function(M,H,V){var ce=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,M){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=V+ge,M={id:h++,callback:H,priorityLevel:M,startTime:V,expirationTime:ge,sortIndex:-1},V>ce?(M.sortIndex=V,e(u,M),r(d)===null&&M===r(u)&&(_?(x(P),P=-1):_=!0,Qt(S,V-ce))):(M.sortIndex=ge,e(d,M),k||v||(k=!0,tt(C))),M},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(M){var H=g;return function(){var V=g;g=H;try{return M.apply(this,arguments)}finally{g=V}}}})(sg);ag.exports=sg;var Rx=ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=w,kt=Rx;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ig=new Set,Ns={};function An(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(Ns[t]=e,t=0;t<e.length;t++)ig.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=Object.prototype.hasOwnProperty,$x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},nf={};function Ax(t){return kc.call(nf,t)?!0:kc.call(rf,t)?!1:$x.test(t)?nf[t]=!0:(rf[t]=!0,!1)}function Ix(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lx(t,e,r,n){if(e===null||typeof e>"u"||Ix(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,r,n,a,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var zd=/[\-:]([a-z])/g;function Wd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zd,Wd);Je[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zd,Wd);Je[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zd,Wd);Je[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function qd(t,e,r,n){var a=Je.hasOwnProperty(e)?Je[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lx(e,r,a,n)&&(r=null),n||a===null?Ax(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Dr=Dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),Bd=Symbol.for("react.strict_mode"),jc=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),lg=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),Nc=Symbol.for("react.suspense_list"),Vd=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),cg=Symbol.for("react.offscreen"),af=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=af&&t[af]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Dl;function os(t){if(Dl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Dl=e&&e[1]||""}return`
`+Dl+t}var $l=!1;function Al(t,e){if(!t||$l)return"";$l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var d=`
`+a[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=l);break}}}finally{$l=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?os(t):""}function Mx(t){switch(t.tag){case 5:return os(t.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return t=Al(t.type,!1),t;case 11:return t=Al(t.type.render,!1),t;case 1:return t=Al(t.type,!0),t;default:return""}}function Sc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zn:return"Fragment";case Xn:return"Portal";case jc:return"Profiler";case Bd:return"StrictMode";case _c:return"Suspense";case Nc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lg:return(t.displayName||"Context")+".Consumer";case og:return(t._context.displayName||"Context")+".Provider";case Hd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vd:return e=t.displayName||null,e!==null?e:Sc(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Sc(t(e))}catch{}}return null}function Ux(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sc(e);case 8:return e===Bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fx(t){var e=dg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vi(t){t._valueTracker||(t._valueTracker=Fx(t))}function ug(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function oo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ec(t,e){var r=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function sf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=rn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hg(t,e){e=e.checked,e!=null&&qd(t,"checked",e,!1)}function Cc(t,e){hg(t,e);var r=rn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Tc(t,e.type,rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function of(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Tc(t,e,r){(e!=="number"||oo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ls=Array.isArray;function da(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+rn(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Pc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(R(92));if(ls(r)){if(1<r.length)throw Error(R(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:rn(r)}}function fg(t,e){var r=rn(e.value),n=rn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wi,gg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ss(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zx=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){zx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fs[e]=fs[t]})});function pg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fs.hasOwnProperty(t)&&fs[t]?(""+e).trim():e+"px"}function yg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=pg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Wx=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rc(t,e){if(e){if(Wx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Dc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=null;function Kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ac=null,ua=null,ha=null;function df(t){if(t=Js(t)){if(typeof Ac!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Ho(e),Ac(t.stateNode,t.type,e))}}function xg(t){ua?ha?ha.push(t):ha=[t]:ua=t}function vg(){if(ua){var t=ua,e=ha;if(ha=ua=null,df(t),e)for(t=0;t<e.length;t++)df(e[t])}}function wg(t,e){return t(e)}function bg(){}var Il=!1;function kg(t,e,r){if(Il)return t(e,r);Il=!0;try{return wg(t,e,r)}finally{Il=!1,(ua!==null||ha!==null)&&(bg(),vg())}}function Es(t,e){var r=t.stateNode;if(r===null)return null;var n=Ho(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(R(231,e,typeof r));return r}var Ic=!1;if(Cr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Ic=!1}function qx(t,e,r,n,a,s,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var ms=!1,lo=null,co=!1,Lc=null,Bx={onError:function(t){ms=!0,lo=t}};function Hx(t,e,r,n,a,s,o,l,d){ms=!1,lo=null,qx.apply(Bx,arguments)}function Vx(t,e,r,n,a,s,o,l,d){if(Hx.apply(this,arguments),ms){if(ms){var u=lo;ms=!1,lo=null}else throw Error(R(198));co||(co=!0,Lc=u)}}function In(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uf(t){if(In(t)!==t)throw Error(R(188))}function Kx(t){var e=t.alternate;if(!e){if(e=In(t),e===null)throw Error(R(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return uf(a),t;if(s===n)return uf(a),e;s=s.sibling}throw Error(R(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?t:e}function _g(t){return t=Kx(t),t!==null?Ng(t):null}function Ng(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ng(t);if(e!==null)return e;t=t.sibling}return null}var Sg=kt.unstable_scheduleCallback,hf=kt.unstable_cancelCallback,Jx=kt.unstable_shouldYield,Yx=kt.unstable_requestPaint,Pe=kt.unstable_now,Gx=kt.unstable_getCurrentPriorityLevel,Jd=kt.unstable_ImmediatePriority,Eg=kt.unstable_UserBlockingPriority,uo=kt.unstable_NormalPriority,Qx=kt.unstable_LowPriority,Cg=kt.unstable_IdlePriority,zo=null,dr=null;function Xx(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(zo,t,void 0,(t.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:tv,Zx=Math.log,ev=Math.LN2;function tv(t){return t>>>=0,t===0?32:31-(Zx(t)/ev|0)|0}var bi=64,ki=4194304;function cs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ho(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=cs(l):(s&=o,s!==0&&(n=cs(s)))}else o=r&~a,o!==0?n=cs(o):s!==0&&(n=cs(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ht(e),a=1<<r,n|=t[r],e&=~a;return n}function rv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nv(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ht(s),l=1<<o,d=a[o];d===-1?(!(l&r)||l&n)&&(a[o]=rv(l,e)):d<=e&&(t.expiredLanes|=l),s&=~l}}function Mc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tg(){var t=bi;return bi<<=1,!(bi&4194240)&&(bi=64),t}function Ll(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ht(e),t[e]=r}function av(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Ht(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function Yd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ht(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ae=0;function Pg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Og,Gd,Rg,Dg,$g,Uc=!1,ji=[],Jr=null,Yr=null,Gr=null,Cs=new Map,Ts=new Map,qr=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(e.pointerId)}}function Ga(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Js(e),e!==null&&Gd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function iv(t,e,r,n,a){switch(e){case"focusin":return Jr=Ga(Jr,t,e,r,n,a),!0;case"dragenter":return Yr=Ga(Yr,t,e,r,n,a),!0;case"mouseover":return Gr=Ga(Gr,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return Cs.set(s,Ga(Cs.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ts.set(s,Ga(Ts.get(s)||null,t,e,r,n,a)),!0}return!1}function Ag(t){var e=_n(t.target);if(e!==null){var r=In(e);if(r!==null){if(e=r.tag,e===13){if(e=jg(r),e!==null){t.blockedOn=e,$g(t.priority,function(){Rg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Fc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$c=n,r.target.dispatchEvent(n),$c=null}else return e=Js(r),e!==null&&Gd(e),t.blockedOn=r,!1;e.shift()}return!0}function mf(t,e,r){qi(t)&&r.delete(e)}function ov(){Uc=!1,Jr!==null&&qi(Jr)&&(Jr=null),Yr!==null&&qi(Yr)&&(Yr=null),Gr!==null&&qi(Gr)&&(Gr=null),Cs.forEach(mf),Ts.forEach(mf)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Uc||(Uc=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,ov)))}function Ps(t){function e(a){return Qa(a,t)}if(0<ji.length){Qa(ji[0],t);for(var r=1;r<ji.length;r++){var n=ji[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Jr!==null&&Qa(Jr,t),Yr!==null&&Qa(Yr,t),Gr!==null&&Qa(Gr,t),Cs.forEach(e),Ts.forEach(e),r=0;r<qr.length;r++)n=qr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)Ag(r),r.blockedOn===null&&qr.shift()}var fa=Dr.ReactCurrentBatchConfig,fo=!0;function lv(t,e,r,n){var a=ae,s=fa.transition;fa.transition=null;try{ae=1,Qd(t,e,r,n)}finally{ae=a,fa.transition=s}}function cv(t,e,r,n){var a=ae,s=fa.transition;fa.transition=null;try{ae=4,Qd(t,e,r,n)}finally{ae=a,fa.transition=s}}function Qd(t,e,r,n){if(fo){var a=Fc(t,e,r,n);if(a===null)Kl(t,e,n,mo,r),ff(t,n);else if(iv(a,t,e,r,n))n.stopPropagation();else if(ff(t,n),e&4&&-1<sv.indexOf(t)){for(;a!==null;){var s=Js(a);if(s!==null&&Og(s),s=Fc(t,e,r,n),s===null&&Kl(t,e,n,mo,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Kl(t,e,n,null,r)}}var mo=null;function Fc(t,e,r,n){if(mo=null,t=Kd(n),t=_n(t),t!==null)if(e=In(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mo=t,null}function Ig(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gx()){case Jd:return 1;case Eg:return 4;case uo:case Qx:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var Vr=null,Xd=null,Bi=null;function Lg(){if(Bi)return Bi;var t,e=Xd,r=e.length,n,a="value"in Vr?Vr.value:Vr.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[s-n];n++);return Bi=a.slice(t,1<n?1-n:void 0)}function Hi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function gf(){return!1}function _t(t){function e(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_i:gf,this.isPropagationStopped=gf,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=_t(Ta),Ks=Ne({},Ta,{view:0,detail:0}),dv=_t(Ks),Ml,Ul,Xa,Wo=Ne({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(Ml=t.screenX-Xa.screenX,Ul=t.screenY-Xa.screenY):Ul=Ml=0,Xa=t),Ml)},movementY:function(t){return"movementY"in t?t.movementY:Ul}}),pf=_t(Wo),uv=Ne({},Wo,{dataTransfer:0}),hv=_t(uv),fv=Ne({},Ks,{relatedTarget:0}),Fl=_t(fv),mv=Ne({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),gv=_t(mv),pv=Ne({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yv=_t(pv),xv=Ne({},Ta,{data:0}),yf=_t(xv),vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bv[t])?!!e[t]:!1}function eu(){return kv}var jv=Ne({},Ks,{key:function(t){if(t.key){var e=vv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(t){return t.type==="keypress"?Hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_v=_t(jv),Nv=Ne({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xf=_t(Nv),Sv=Ne({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),Ev=_t(Sv),Cv=Ne({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=_t(Cv),Pv=Ne({},Wo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ov=_t(Pv),Rv=[9,13,27,32],tu=Cr&&"CompositionEvent"in window,gs=null;Cr&&"documentMode"in document&&(gs=document.documentMode);var Dv=Cr&&"TextEvent"in window&&!gs,Mg=Cr&&(!tu||gs&&8<gs&&11>=gs),vf=String.fromCharCode(32),wf=!1;function Ug(t,e){switch(t){case"keyup":return Rv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function $v(t,e){switch(t){case"compositionend":return Fg(e);case"keypress":return e.which!==32?null:(wf=!0,vf);case"textInput":return t=e.data,t===vf&&wf?null:t;default:return null}}function Av(t,e){if(ea)return t==="compositionend"||!tu&&Ug(t,e)?(t=Lg(),Bi=Xd=Vr=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mg&&e.locale!=="ko"?null:e.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iv[t.type]:e==="textarea"}function zg(t,e,r,n){xg(n),e=go(e,"onChange"),0<e.length&&(r=new Zd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ps=null,Os=null;function Lv(t){Xg(t,0)}function qo(t){var e=na(t);if(ug(e))return t}function Mv(t,e){if(t==="change")return e}var Wg=!1;if(Cr){var zl;if(Cr){var Wl="oninput"in document;if(!Wl){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),Wl=typeof kf.oninput=="function"}zl=Wl}else zl=!1;Wg=zl&&(!document.documentMode||9<document.documentMode)}function jf(){ps&&(ps.detachEvent("onpropertychange",qg),Os=ps=null)}function qg(t){if(t.propertyName==="value"&&qo(Os)){var e=[];zg(e,Os,t,Kd(t)),kg(Lv,e)}}function Uv(t,e,r){t==="focusin"?(jf(),ps=e,Os=r,ps.attachEvent("onpropertychange",qg)):t==="focusout"&&jf()}function Fv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(Os)}function zv(t,e){if(t==="click")return qo(e)}function Wv(t,e){if(t==="input"||t==="change")return qo(e)}function qv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:qv;function Rs(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!kc.call(e,a)||!Kt(t[a],e[a]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,e){var r=_f(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_f(r)}}function Bg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hg(){for(var t=window,e=oo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=oo(t.document)}return e}function ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bv(t){var e=Hg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Bg(r.ownerDocument.documentElement,r)){if(n!==null&&ru(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=Nf(r,s);var o=Nf(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hv=Cr&&"documentMode"in document&&11>=document.documentMode,ta=null,zc=null,ys=null,Wc=!1;function Sf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wc||ta==null||ta!==oo(n)||(n=ta,"selectionStart"in n&&ru(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ys&&Rs(ys,n)||(ys=n,n=go(zc,"onSelect"),0<n.length&&(e=new Zd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ta)))}function Ni(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ra={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionend:Ni("Transition","TransitionEnd")},ql={},Vg={};Cr&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Bo(t){if(ql[t])return ql[t];if(!ra[t])return t;var e=ra[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Vg)return ql[t]=e[r];return t}var Kg=Bo("animationend"),Jg=Bo("animationiteration"),Yg=Bo("animationstart"),Gg=Bo("transitionend"),Qg=new Map,Ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(t,e){Qg.set(t,e),An(e,[t])}for(var Bl=0;Bl<Ef.length;Bl++){var Hl=Ef[Bl],Vv=Hl.toLowerCase(),Kv=Hl[0].toUpperCase()+Hl.slice(1);an(Vv,"on"+Kv)}an(Kg,"onAnimationEnd");an(Jg,"onAnimationIteration");an(Yg,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Gg,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Cf(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Vx(n,e,void 0,t),t.currentTarget=null}function Xg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==s&&a.isPropagationStopped())break e;Cf(a,l,u),s=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==s&&a.isPropagationStopped())break e;Cf(a,l,u),s=d}}}if(co)throw t=Lc,co=!1,Lc=null,t}function pe(t,e){var r=e[Kc];r===void 0&&(r=e[Kc]=new Set);var n=t+"__bubble";r.has(n)||(Zg(e,t,2,!1),r.add(n))}function Vl(t,e,r){var n=0;e&&(n|=4),Zg(r,t,n,e)}var Si="_reactListening"+Math.random().toString(36).slice(2);function Ds(t){if(!t[Si]){t[Si]=!0,ig.forEach(function(r){r!=="selectionchange"&&(Jv.has(r)||Vl(r,!1,t),Vl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Si]||(e[Si]=!0,Vl("selectionchange",!1,e))}}function Zg(t,e,r,n){switch(Ig(e)){case 1:var a=lv;break;case 4:a=cv;break;default:a=Qd}r=a.bind(null,e,r,t),a=void 0,!Ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Kl(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_n(l),o===null)return;if(d=o.tag,d===5||d===6){n=s=o;continue e}l=l.parentNode}}n=n.return}kg(function(){var u=s,h=Kd(r),f=[];e:{var g=Qg.get(t);if(g!==void 0){var v=Zd,k=t;switch(t){case"keypress":if(Hi(r)===0)break e;case"keydown":case"keyup":v=_v;break;case"focusin":k="focus",v=Fl;break;case"focusout":k="blur",v=Fl;break;case"beforeblur":case"afterblur":v=Fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ev;break;case Kg:case Jg:case Yg:v=gv;break;case Gg:v=Tv;break;case"scroll":v=dv;break;case"wheel":v=Ov;break;case"copy":case"cut":case"paste":v=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=xf}var _=(e&4)!==0,j=!_&&t==="scroll",x=_?g!==null?g+"Capture":null:g;_=[];for(var p=u,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,x!==null&&(S=Es(p,x),S!=null&&_.push($s(p,S,y)))),j)break;p=p.return}0<_.length&&(g=new v(g,k,null,r,h),f.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&r!==$c&&(k=r.relatedTarget||r.fromElement)&&(_n(k)||k[Tr]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(k=r.relatedTarget||r.toElement,v=u,k=k?_n(k):null,k!==null&&(j=In(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=u),v!==k)){if(_=pf,S="onMouseLeave",x="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=xf,S="onPointerLeave",x="onPointerEnter",p="pointer"),j=v==null?g:na(v),y=k==null?g:na(k),g=new _(S,p+"leave",v,r,h),g.target=j,g.relatedTarget=y,S=null,_n(h)===u&&(_=new _(x,p+"enter",k,r,h),_.target=y,_.relatedTarget=j,S=_),j=S,v&&k)t:{for(_=v,x=k,p=0,y=_;y;y=zn(y))p++;for(y=0,S=x;S;S=zn(S))y++;for(;0<p-y;)_=zn(_),p--;for(;0<y-p;)x=zn(x),y--;for(;p--;){if(_===x||x!==null&&_===x.alternate)break t;_=zn(_),x=zn(x)}_=null}else _=null;v!==null&&Tf(f,g,v,_,!1),k!==null&&j!==null&&Tf(f,j,k,_,!0)}}e:{if(g=u?na(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var C=Mv;else if(bf(g))if(Wg)C=Wv;else{C=Fv;var N=Uv}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=zv);if(C&&(C=C(t,u))){zg(f,C,r,h);break e}N&&N(t,g,u),t==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Tc(g,"number",g.value)}switch(N=u?na(u):window,t){case"focusin":(bf(N)||N.contentEditable==="true")&&(ta=N,zc=u,ys=null);break;case"focusout":ys=zc=ta=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,Sf(f,r,h);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":Sf(f,r,h)}var E;if(tu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ea?Ug(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Mg&&r.locale!=="ko"&&(ea||P!=="onCompositionStart"?P==="onCompositionEnd"&&ea&&(E=Lg()):(Vr=h,Xd="value"in Vr?Vr.value:Vr.textContent,ea=!0)),N=go(u,P),0<N.length&&(P=new yf(P,t,null,r,h),f.push({event:P,listeners:N}),E?P.data=E:(E=Fg(r),E!==null&&(P.data=E)))),(E=Dv?$v(t,r):Av(t,r))&&(u=go(u,"onBeforeInput"),0<u.length&&(h=new yf("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=E))}Xg(f,e)})}function $s(t,e,r){return{instance:t,listener:e,currentTarget:r}}function go(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Es(t,r),s!=null&&n.unshift($s(t,s,a)),s=Es(t,e),s!=null&&n.push($s(t,s,a))),t=t.return}return n}function zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tf(t,e,r,n,a){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&u!==null&&(l=u,a?(d=Es(r,s),d!=null&&o.unshift($s(r,d,l))):a||(d=Es(r,s),d!=null&&o.push($s(r,d,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Yv=/\r\n?/g,Gv=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(Yv,`
`).replace(Gv,"")}function Ei(t,e,r){if(e=Pf(e),Pf(t)!==e&&r)throw Error(R(425))}function po(){}var qc=null,Bc=null;function Hc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vc=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(t){return Of.resolve(null).then(t).catch(Zv)}:Vc;function Zv(t){setTimeout(function(){throw t})}function Jl(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Ps(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ps(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),ir="__reactFiber$"+Pa,As="__reactProps$"+Pa,Tr="__reactContainer$"+Pa,Kc="__reactEvents$"+Pa,ew="__reactListeners$"+Pa,tw="__reactHandles$"+Pa;function _n(t){var e=t[ir];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Tr]||r[ir]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Rf(t);t!==null;){if(r=t[ir])return r;t=Rf(t)}return e}t=r,r=t.parentNode}return null}function Js(t){return t=t[ir]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Ho(t){return t[As]||null}var Jc=[],aa=-1;function sn(t){return{current:t}}function ye(t){0>aa||(t.current=Jc[aa],Jc[aa]=null,aa--)}function fe(t,e){aa++,Jc[aa]=t.current,t.current=e}var nn={},et=sn(nn),gt=sn(!1),Pn=nn;function va(t,e){var r=t.type.contextTypes;if(!r)return nn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function pt(t){return t=t.childContextTypes,t!=null}function yo(){ye(gt),ye(et)}function Df(t,e,r){if(et.current!==nn)throw Error(R(168));fe(et,e),fe(gt,r)}function e0(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(R(108,Ux(t)||"Unknown",a));return Ne({},r,n)}function xo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nn,Pn=et.current,fe(et,t),fe(gt,gt.current),!0}function $f(t,e,r){var n=t.stateNode;if(!n)throw Error(R(169));r?(t=e0(t,e,Pn),n.__reactInternalMemoizedMergedChildContext=t,ye(gt),ye(et),fe(et,t)):ye(gt),fe(gt,r)}var br=null,Vo=!1,Yl=!1;function t0(t){br===null?br=[t]:br.push(t)}function rw(t){Vo=!0,t0(t)}function on(){if(!Yl&&br!==null){Yl=!0;var t=0,e=ae;try{var r=br;for(ae=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}br=null,Vo=!1}catch(a){throw br!==null&&(br=br.slice(t+1)),Sg(Jd,on),a}finally{ae=e,Yl=!1}}return null}var sa=[],ia=0,vo=null,wo=0,Tt=[],Pt=0,On=null,_r=1,Nr="";function yn(t,e){sa[ia++]=wo,sa[ia++]=vo,vo=t,wo=e}function r0(t,e,r){Tt[Pt++]=_r,Tt[Pt++]=Nr,Tt[Pt++]=On,On=t;var n=_r;t=Nr;var a=32-Ht(n)-1;n&=~(1<<a),r+=1;var s=32-Ht(e)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,_r=1<<32-Ht(e)+a|r<<a|n,Nr=s+t}else _r=1<<s|r<<a|n,Nr=t}function nu(t){t.return!==null&&(yn(t,1),r0(t,1,0))}function au(t){for(;t===vo;)vo=sa[--ia],sa[ia]=null,wo=sa[--ia],sa[ia]=null;for(;t===On;)On=Tt[--Pt],Tt[Pt]=null,Nr=Tt[--Pt],Tt[Pt]=null,_r=Tt[--Pt],Tt[Pt]=null}var bt=null,wt=null,ve=!1,Bt=null;function n0(t,e){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Af(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bt=t,wt=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=On!==null?{id:_r,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bt=t,wt=null,!0):!1;default:return!1}}function Yc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gc(t){if(ve){var e=wt;if(e){var r=e;if(!Af(t,e)){if(Yc(t))throw Error(R(418));e=Qr(r.nextSibling);var n=bt;e&&Af(t,e)?n0(n,r):(t.flags=t.flags&-4097|2,ve=!1,bt=t)}}else{if(Yc(t))throw Error(R(418));t.flags=t.flags&-4097|2,ve=!1,bt=t}}}function If(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function Ci(t){if(t!==bt)return!1;if(!ve)return If(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hc(t.type,t.memoizedProps)),e&&(e=wt)){if(Yc(t))throw a0(),Error(R(418));for(;e;)n0(t,e),e=Qr(e.nextSibling)}if(If(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wt=Qr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=bt?Qr(t.stateNode.nextSibling):null;return!0}function a0(){for(var t=wt;t;)t=Qr(t.nextSibling)}function wa(){wt=bt=null,ve=!1}function su(t){Bt===null?Bt=[t]:Bt.push(t)}var nw=Dr.ReactCurrentBatchConfig;function Za(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,t))}return t}function Ti(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lf(t){var e=t._init;return e(t._payload)}function s0(t){function e(x,p){if(t){var y=x.deletions;y===null?(x.deletions=[p],x.flags|=16):y.push(p)}}function r(x,p){if(!t)return null;for(;p!==null;)e(x,p),p=p.sibling;return null}function n(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=tn(x,p),x.index=0,x.sibling=null,x}function s(x,p,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<p?(x.flags|=2,p):y):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,p,y,S){return p===null||p.tag!==6?(p=rc(y,x.mode,S),p.return=x,p):(p=a(p,y),p.return=x,p)}function d(x,p,y,S){var C=y.type;return C===Zn?h(x,p,y.props.children,S,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zr&&Lf(C)===p.type)?(S=a(p,y.props),S.ref=Za(x,p,y),S.return=x,S):(S=Xi(y.type,y.key,y.props,null,x.mode,S),S.ref=Za(x,p,y),S.return=x,S)}function u(x,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=nc(y,x.mode,S),p.return=x,p):(p=a(p,y.children||[]),p.return=x,p)}function h(x,p,y,S,C){return p===null||p.tag!==7?(p=Tn(y,x.mode,S,C),p.return=x,p):(p=a(p,y),p.return=x,p)}function f(x,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=rc(""+p,x.mode,y),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xi:return y=Xi(p.type,p.key,p.props,null,x.mode,y),y.ref=Za(x,null,p),y.return=x,y;case Xn:return p=nc(p,x.mode,y),p.return=x,p;case zr:var S=p._init;return f(x,S(p._payload),y)}if(ls(p)||Ja(p))return p=Tn(p,x.mode,y,null),p.return=x,p;Ti(x,p)}return null}function g(x,p,y,S){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(x,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:return y.key===C?d(x,p,y,S):null;case Xn:return y.key===C?u(x,p,y,S):null;case zr:return C=y._init,g(x,p,C(y._payload),S)}if(ls(y)||Ja(y))return C!==null?null:h(x,p,y,S,null);Ti(x,y)}return null}function v(x,p,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(y)||null,l(p,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xi:return x=x.get(S.key===null?y:S.key)||null,d(p,x,S,C);case Xn:return x=x.get(S.key===null?y:S.key)||null,u(p,x,S,C);case zr:var N=S._init;return v(x,p,y,N(S._payload),C)}if(ls(S)||Ja(S))return x=x.get(y)||null,h(p,x,S,C,null);Ti(p,S)}return null}function k(x,p,y,S){for(var C=null,N=null,E=p,P=p=0,L=null;E!==null&&P<y.length;P++){E.index>P?(L=E,E=null):L=E.sibling;var A=g(x,E,y[P],S);if(A===null){E===null&&(E=L);break}t&&E&&A.alternate===null&&e(x,E),p=s(A,p,P),N===null?C=A:N.sibling=A,N=A,E=L}if(P===y.length)return r(x,E),ve&&yn(x,P),C;if(E===null){for(;P<y.length;P++)E=f(x,y[P],S),E!==null&&(p=s(E,p,P),N===null?C=E:N.sibling=E,N=E);return ve&&yn(x,P),C}for(E=n(x,E);P<y.length;P++)L=v(E,x,P,y[P],S),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?P:L.key),p=s(L,p,P),N===null?C=L:N.sibling=L,N=L);return t&&E.forEach(function(ee){return e(x,ee)}),ve&&yn(x,P),C}function _(x,p,y,S){var C=Ja(y);if(typeof C!="function")throw Error(R(150));if(y=C.call(y),y==null)throw Error(R(151));for(var N=C=null,E=p,P=p=0,L=null,A=y.next();E!==null&&!A.done;P++,A=y.next()){E.index>P?(L=E,E=null):L=E.sibling;var ee=g(x,E,A.value,S);if(ee===null){E===null&&(E=L);break}t&&E&&ee.alternate===null&&e(x,E),p=s(ee,p,P),N===null?C=ee:N.sibling=ee,N=ee,E=L}if(A.done)return r(x,E),ve&&yn(x,P),C;if(E===null){for(;!A.done;P++,A=y.next())A=f(x,A.value,S),A!==null&&(p=s(A,p,P),N===null?C=A:N.sibling=A,N=A);return ve&&yn(x,P),C}for(E=n(x,E);!A.done;P++,A=y.next())A=v(E,x,P,A.value,S),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?P:A.key),p=s(A,p,P),N===null?C=A:N.sibling=A,N=A);return t&&E.forEach(function(le){return e(x,le)}),ve&&yn(x,P),C}function j(x,p,y,S){if(typeof y=="object"&&y!==null&&y.type===Zn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:e:{for(var C=y.key,N=p;N!==null;){if(N.key===C){if(C=y.type,C===Zn){if(N.tag===7){r(x,N.sibling),p=a(N,y.props.children),p.return=x,x=p;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zr&&Lf(C)===N.type){r(x,N.sibling),p=a(N,y.props),p.ref=Za(x,N,y),p.return=x,x=p;break e}r(x,N);break}else e(x,N);N=N.sibling}y.type===Zn?(p=Tn(y.props.children,x.mode,S,y.key),p.return=x,x=p):(S=Xi(y.type,y.key,y.props,null,x.mode,S),S.ref=Za(x,p,y),S.return=x,x=S)}return o(x);case Xn:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(x,p.sibling),p=a(p,y.children||[]),p.return=x,x=p;break e}else{r(x,p);break}else e(x,p);p=p.sibling}p=nc(y,x.mode,S),p.return=x,x=p}return o(x);case zr:return N=y._init,j(x,p,N(y._payload),S)}if(ls(y))return k(x,p,y,S);if(Ja(y))return _(x,p,y,S);Ti(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(x,p.sibling),p=a(p,y),p.return=x,x=p):(r(x,p),p=rc(y,x.mode,S),p.return=x,x=p),o(x)):r(x,p)}return j}var ba=s0(!0),i0=s0(!1),bo=sn(null),ko=null,oa=null,iu=null;function ou(){iu=oa=ko=null}function lu(t){var e=bo.current;ye(bo),t._currentValue=e}function Qc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ma(t,e){ko=t,iu=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(iu!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(ko===null)throw Error(R(308));oa=t,ko.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var Nn=null;function cu(t){Nn===null?Nn=[t]:Nn.push(t)}function o0(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,cu(e)):(r.next=a.next,a.next=r),e.interleaved=r,Pr(t,n)}function Pr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Wr=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Pr(t,r)}return a=n.interleaved,a===null?(e.next=e,cu(n)):(e.next=a.next,a.next=e),n.interleaved=e,Pr(t,r)}function Vi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Yd(t,r)}}function Mf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function jo(t,e,r,n){var a=t.updateQueue;Wr=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?s=u:o.next=u,o=d;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(s!==null){var f=a.baseState;o=0,h=u=d=null,l=s;do{var g=l.lane,v=l.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,_=l;switch(g=e,v=r,_.tag){case 1:if(k=_.payload,typeof k=="function"){f=k.call(v,f,g);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=_.payload,g=typeof k=="function"?k.call(v,f,g):k,g==null)break e;f=Ne({},f,g);break e;case 2:Wr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,d=f):h=h.next=v,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(1);if(h===null&&(d=f),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=h,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Dn|=o,t.lanes=o,t.memoizedState=f}}function Uf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(R(191,a));a.call(n)}}}var Ys={},ur=sn(Ys),Is=sn(Ys),Ls=sn(Ys);function Sn(t){if(t===Ys)throw Error(R(174));return t}function uu(t,e){switch(fe(Ls,e),fe(Is,t),fe(ur,Ys),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oc(e,t)}ye(ur),fe(ur,e)}function ka(){ye(ur),ye(Is),ye(Ls)}function c0(t){Sn(Ls.current);var e=Sn(ur.current),r=Oc(e,t.type);e!==r&&(fe(Is,t),fe(ur,r))}function hu(t){Is.current===t&&(ye(ur),ye(Is))}var je=sn(0);function _o(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gl=[];function fu(){for(var t=0;t<Gl.length;t++)Gl[t]._workInProgressVersionPrimary=null;Gl.length=0}var Ki=Dr.ReactCurrentDispatcher,Ql=Dr.ReactCurrentBatchConfig,Rn=0,_e=null,Fe=null,qe=null,No=!1,xs=!1,Ms=0,aw=0;function Qe(){throw Error(R(321))}function mu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kt(t[r],e[r]))return!1;return!0}function gu(t,e,r,n,a,s){if(Rn=s,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ki.current=t===null||t.memoizedState===null?lw:cw,t=r(n,a),xs){s=0;do{if(xs=!1,Ms=0,25<=s)throw Error(R(301));s+=1,qe=Fe=null,e.updateQueue=null,Ki.current=dw,t=r(n,a)}while(xs)}if(Ki.current=So,e=Fe!==null&&Fe.next!==null,Rn=0,qe=Fe=_e=null,No=!1,e)throw Error(R(300));return t}function pu(){var t=Ms!==0;return Ms=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?_e.memoizedState=qe=t:qe=qe.next=t,qe}function At(){if(Fe===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=qe===null?_e.memoizedState:qe.next;if(e!==null)qe=e,Fe=t;else{if(t===null)throw Error(R(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},qe===null?_e.memoizedState=qe=t:qe=qe.next=t}return qe}function Us(t,e){return typeof e=="function"?e(t):e}function Xl(t){var e=At(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=Fe,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,d=null,u=s;do{var h=u.lane;if((Rn&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=f,o=n):d=d.next=f,_e.lanes|=h,Dn|=h}u=u.next}while(u!==null&&u!==s);d===null?o=n:d.next=l,Kt(n,e.memoizedState)||(mt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=d,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,_e.lanes|=s,Dn|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zl(t){var e=At(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=t(s,o.action),o=o.next;while(o!==a);Kt(s,e.memoizedState)||(mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function d0(){}function u0(t,e){var r=_e,n=At(),a=e(),s=!Kt(n.memoizedState,a);if(s&&(n.memoizedState=a,mt=!0),n=n.queue,yu(m0.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,Fs(9,f0.bind(null,r,n,a,e),void 0,null),Be===null)throw Error(R(349));Rn&30||h0(r,e,a)}return a}function h0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function f0(t,e,r,n){e.value=r,e.getSnapshot=n,g0(e)&&p0(t)}function m0(t,e,r){return r(function(){g0(e)&&p0(t)})}function g0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kt(t,r)}catch{return!0}}function p0(t){var e=Pr(t,1);e!==null&&Vt(e,t,1,-1)}function Ff(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},e.queue=t,t=t.dispatch=ow.bind(null,_e,t),[e.memoizedState,t]}function Fs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function y0(){return At().memoizedState}function Ji(t,e,r,n){var a=ar();_e.flags|=t,a.memoizedState=Fs(1|e,r,void 0,n===void 0?null:n)}function Ko(t,e,r,n){var a=At();n=n===void 0?null:n;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,n!==null&&mu(n,o.deps)){a.memoizedState=Fs(e,r,s,n);return}}_e.flags|=t,a.memoizedState=Fs(1|e,r,s,n)}function zf(t,e){return Ji(8390656,8,t,e)}function yu(t,e){return Ko(2048,8,t,e)}function x0(t,e){return Ko(4,2,t,e)}function v0(t,e){return Ko(4,4,t,e)}function w0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b0(t,e,r){return r=r!=null?r.concat([t]):null,Ko(4,4,w0.bind(null,e,t),r)}function xu(){}function k0(t,e){var r=At();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function j0(t,e){var r=At();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _0(t,e,r){return Rn&21?(Kt(r,e)||(r=Tg(),_e.lanes|=r,Dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=r)}function sw(t,e){var r=ae;ae=r!==0&&4>r?r:4,t(!0);var n=Ql.transition;Ql.transition={};try{t(!1),e()}finally{ae=r,Ql.transition=n}}function N0(){return At().memoizedState}function iw(t,e,r){var n=en(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},S0(t))E0(e,r);else if(r=o0(t,e,r,n),r!==null){var a=ot();Vt(r,t,n,a),C0(r,e,n)}}function ow(t,e,r){var n=en(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(S0(t))E0(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Kt(l,o)){var d=e.interleaved;d===null?(a.next=a,cu(e)):(a.next=d.next,d.next=a),e.interleaved=a;return}}catch{}finally{}r=o0(t,e,a,n),r!==null&&(a=ot(),Vt(r,t,n,a),C0(r,e,n))}}function S0(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function E0(t,e){xs=No=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function C0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Yd(t,r)}}var So={readContext:$t,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},lw={readContext:$t,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:zf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ji(4194308,4,w0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ji(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ji(4,2,t,e)},useMemo:function(t,e){var r=ar();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ar();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=iw.bind(null,_e,t),[n.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:Ff,useDebugValue:xu,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=Ff(!1),e=t[0];return t=sw.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_e,a=ar();if(ve){if(r===void 0)throw Error(R(407));r=r()}else{if(r=e(),Be===null)throw Error(R(349));Rn&30||h0(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,zf(m0.bind(null,n,s,t),[t]),n.flags|=2048,Fs(9,f0.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ar(),e=Be.identifierPrefix;if(ve){var r=Nr,n=_r;r=(n&~(1<<32-Ht(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ms++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=aw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cw={readContext:$t,useCallback:k0,useContext:$t,useEffect:yu,useImperativeHandle:b0,useInsertionEffect:x0,useLayoutEffect:v0,useMemo:j0,useReducer:Xl,useRef:y0,useState:function(){return Xl(Us)},useDebugValue:xu,useDeferredValue:function(t){var e=At();return _0(e,Fe.memoizedState,t)},useTransition:function(){var t=Xl(Us)[0],e=At().memoizedState;return[t,e]},useMutableSource:d0,useSyncExternalStore:u0,useId:N0,unstable_isNewReconciler:!1},dw={readContext:$t,useCallback:k0,useContext:$t,useEffect:yu,useImperativeHandle:b0,useInsertionEffect:x0,useLayoutEffect:v0,useMemo:j0,useReducer:Zl,useRef:y0,useState:function(){return Zl(Us)},useDebugValue:xu,useDeferredValue:function(t){var e=At();return Fe===null?e.memoizedState=t:_0(e,Fe.memoizedState,t)},useTransition:function(){var t=Zl(Us)[0],e=At().memoizedState;return[t,e]},useMutableSource:d0,useSyncExternalStore:u0,useId:N0,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Xc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ne({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jo={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ot(),a=en(t),s=Sr(n,a);s.payload=e,r!=null&&(s.callback=r),e=Xr(t,s,a),e!==null&&(Vt(e,t,a,n),Vi(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ot(),a=en(t),s=Sr(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Xr(t,s,a),e!==null&&(Vt(e,t,a,n),Vi(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ot(),n=en(t),a=Sr(r,n);a.tag=2,e!=null&&(a.callback=e),e=Xr(t,a,n),e!==null&&(Vt(e,t,n,r),Vi(e,t,n))}};function Wf(t,e,r,n,a,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rs(r,n)||!Rs(a,s):!0}function T0(t,e,r){var n=!1,a=nn,s=e.contextType;return typeof s=="object"&&s!==null?s=$t(s):(a=pt(e)?Pn:et.current,n=e.contextTypes,s=(n=n!=null)?va(t,a):nn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function qf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jo.enqueueReplaceState(e,e.state,null)}function Zc(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},du(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=$t(s):(s=pt(e)?Pn:et.current,a.context=va(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xc(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Jo.enqueueReplaceState(a,a.state,null),jo(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function ja(t,e){try{var r="",n=e;do r+=Mx(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function ec(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ed(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uw=typeof WeakMap=="function"?WeakMap:Map;function P0(t,e,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Co||(Co=!0,dd=n),ed(t,e)},r}function O0(t,e,r){r=Sr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){ed(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ed(t,e),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new uw;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=Nw.bind(null,t,e,r),e.then(t,t))}function Hf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vf(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sr(-1,1),e.tag=2,Xr(r,e,1))),r.lanes|=1),t)}var hw=Dr.ReactCurrentOwner,mt=!1;function it(t,e,r,n){e.child=t===null?i0(e,null,r,n):ba(e,t.child,r,n)}function Kf(t,e,r,n,a){r=r.render;var s=e.ref;return ma(e,a),n=gu(t,e,r,n,s,a),r=pu(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Or(t,e,a)):(ve&&r&&nu(e),e.flags|=1,it(t,e,n,a),e.child)}function Jf(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!Su(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,R0(t,e,s,n,a)):(t=Xi(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Rs,r(o,n)&&t.ref===e.ref)return Or(t,e,a)}return e.flags|=1,t=tn(s,n),t.ref=e.ref,t.return=e,e.child=t}function R0(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(Rs(s,n)&&t.ref===e.ref)if(mt=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,Or(t,e,a)}return td(t,e,r,n,a)}function D0(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(ca,vt),vt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(ca,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,fe(ca,vt),vt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,fe(ca,vt),vt|=n;return it(t,e,a,r),e.child}function $0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function td(t,e,r,n,a){var s=pt(r)?Pn:et.current;return s=va(e,s),ma(e,a),r=gu(t,e,r,n,s,a),n=pu(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Or(t,e,a)):(ve&&n&&nu(e),e.flags|=1,it(t,e,r,a),e.child)}function Yf(t,e,r,n,a){if(pt(r)){var s=!0;xo(e)}else s=!1;if(ma(e,a),e.stateNode===null)Yi(t,e),T0(e,r,n),Zc(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var d=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=pt(r)?Pn:et.current,u=va(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==u)&&qf(e,o,n,u),Wr=!1;var g=e.memoizedState;o.state=g,jo(e,n,o,a),d=e.memoizedState,l!==n||g!==d||gt.current||Wr?(typeof h=="function"&&(Xc(e,r,h,n),d=e.memoizedState),(l=Wr||Wf(e,r,l,n,g,d,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,l0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:zt(e.type,l),o.props=u,f=e.pendingProps,g=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=$t(d):(d=pt(r)?Pn:et.current,d=va(e,d));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==d)&&qf(e,o,n,d),Wr=!1,g=e.memoizedState,o.state=g,jo(e,n,o,a);var k=e.memoizedState;l!==f||g!==k||gt.current||Wr?(typeof v=="function"&&(Xc(e,r,v,n),k=e.memoizedState),(u=Wr||Wf(e,r,u,n,g,k,d)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=k),o.props=n,o.state=k,o.context=d,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return rd(t,e,r,n,s,a)}function rd(t,e,r,n,a,s){$0(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&$f(e,r,!1),Or(t,e,s);n=e.stateNode,hw.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,l,s)):it(t,e,l,s),e.memoizedState=n.state,a&&$f(e,r,!0),e.child}function A0(t){var e=t.stateNode;e.pendingContext?Df(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Df(t,e.context,!1),uu(t,e.containerInfo)}function Gf(t,e,r,n,a){return wa(),su(a),e.flags|=256,it(t,e,r,n),e.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function I0(t,e,r){var n=e.pendingProps,a=je.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),fe(je,a&1),t===null)return Gc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qo(o,n,0,null),t=Tn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ad(r),e.memoizedState=nd,t):vu(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return fw(t,e,o,n,l,a,r);if(s){s=n.fallback,o=e.mode,a=t.child,l=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=d,e.deletions=null):(n=tn(a,d),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=tn(l,s):(s=Tn(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?ad(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=nd,n}return s=t.child,t=s.sibling,n=tn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function vu(t,e){return e=Qo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pi(t,e,r,n){return n!==null&&su(n),ba(e,t.child,null,r),t=vu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fw(t,e,r,n,a,s,o){if(r)return e.flags&256?(e.flags&=-257,n=ec(Error(R(422))),Pi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=Qo({mode:"visible",children:n.children},a,0,null),s=Tn(s,a,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=ad(o),e.memoizedState=nd,s);if(!(e.mode&1))return Pi(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(R(419)),n=ec(s,n,void 0),Pi(t,e,o,n)}if(l=(o&t.childLanes)!==0,mt||l){if(n=Be,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Pr(t,a),Vt(n,t,a,-1))}return Nu(),n=ec(Error(R(421))),Pi(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Sw.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,wt=Qr(a.nextSibling),bt=e,ve=!0,Bt=null,t!==null&&(Tt[Pt++]=_r,Tt[Pt++]=Nr,Tt[Pt++]=On,_r=t.id,Nr=t.overflow,On=e),e=vu(e,n.children),e.flags|=4096,e)}function Qf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Qc(t.return,e,r)}function tc(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function L0(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(it(t,e,n.children,r),n=je.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qf(t,r,e);else if(t.tag===19)Qf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fe(je,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&_o(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),tc(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&_o(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}tc(e,!0,r,null,s);break;case"together":tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,r=tn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=tn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mw(t,e,r){switch(e.tag){case 3:A0(e),wa();break;case 5:c0(e);break;case 1:pt(e.type)&&xo(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;fe(bo,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(fe(je,je.current&1),e.flags|=128,null):r&e.child.childLanes?I0(t,e,r):(fe(je,je.current&1),t=Or(t,e,r),t!==null?t.sibling:null);fe(je,je.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return L0(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fe(je,je.current),n)break;return null;case 22:case 23:return e.lanes=0,D0(t,e,r)}return Or(t,e,r)}var M0,sd,U0,F0;M0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sd=function(){};U0=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Sn(ur.current);var s=null;switch(r){case"input":a=Ec(t,a),n=Ec(t,n),s=[];break;case"select":a=Ne({},a,{value:void 0}),n=Ne({},n,{value:void 0}),s=[];break;case"textarea":a=Pc(t,a),n=Pc(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=po)}Rc(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ns.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var d=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(s||(s=[]),s.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(s=s||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ns.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&pe("scroll",t),s||l===d||(s=[])):(s=s||[]).push(u,d))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};F0=function(t,e,r,n){r!==n&&(e.flags|=4)};function es(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function gw(t,e,r){var n=e.pendingProps;switch(au(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&yo(),Xe(e),null;case 3:return n=e.stateNode,ka(),ye(gt),ye(et),fu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ci(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(fd(Bt),Bt=null))),sd(t,e),Xe(e),null;case 5:hu(e);var a=Sn(Ls.current);if(r=e.type,t!==null&&e.stateNode!=null)U0(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(R(166));return Xe(e),null}if(t=Sn(ur.current),Ci(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ir]=e,n[As]=s,t=(e.mode&1)!==0,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(a=0;a<ds.length;a++)pe(ds[a],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":sf(n,s),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},pe("invalid",n);break;case"textarea":lf(n,s),pe("invalid",n)}Rc(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ei(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ei(n.textContent,l,t),a=["children",""+l]):Ns.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",n)}switch(r){case"input":vi(n),of(n,s,!0);break;case"textarea":vi(n),cf(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=po)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ir]=e,t[As]=n,M0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dc(r,n),r){case"dialog":pe("cancel",t),pe("close",t),a=n;break;case"iframe":case"object":case"embed":pe("load",t),a=n;break;case"video":case"audio":for(a=0;a<ds.length;a++)pe(ds[a],t);a=n;break;case"source":pe("error",t),a=n;break;case"img":case"image":case"link":pe("error",t),pe("load",t),a=n;break;case"details":pe("toggle",t),a=n;break;case"input":sf(t,n),a=Ec(t,n),pe("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ne({},n,{value:void 0}),pe("invalid",t);break;case"textarea":lf(t,n),a=Pc(t,n),pe("invalid",t);break;default:a=n}Rc(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];s==="style"?yg(t,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&gg(t,d)):s==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Ss(t,d):typeof d=="number"&&Ss(t,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ns.hasOwnProperty(s)?d!=null&&s==="onScroll"&&pe("scroll",t):d!=null&&qd(t,s,d,o))}switch(r){case"input":vi(t),of(t,n,!1);break;case"textarea":vi(t),cf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+rn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?da(t,!!n.multiple,s,!1):n.defaultValue!=null&&da(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=po)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)F0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(R(166));if(r=Sn(Ls.current),Sn(ur.current),Ci(e)){if(n=e.stateNode,r=e.memoizedProps,n[ir]=e,(s=n.nodeValue!==r)&&(t=bt,t!==null))switch(t.tag){case 3:Ei(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ei(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ir]=e,e.stateNode=n}return Xe(e),null;case 13:if(ye(je),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&wt!==null&&e.mode&1&&!(e.flags&128))a0(),wa(),e.flags|=98560,s=!1;else if(s=Ci(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[ir]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),s=!1}else Bt!==null&&(fd(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?ze===0&&(ze=3):Nu())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return ka(),sd(t,e),t===null&&Ds(e.stateNode.containerInfo),Xe(e),null;case 10:return lu(e.type._context),Xe(e),null;case 17:return pt(e.type)&&yo(),Xe(e),null;case 19:if(ye(je),s=e.memoizedState,s===null)return Xe(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)es(s,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_o(t),o!==null){for(e.flags|=128,es(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return fe(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>_a&&(e.flags|=128,n=!0,es(s,!1),e.lanes=4194304)}else{if(!n)if(t=_o(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),es(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return Xe(e),null}else 2*Pe()-s.renderingStartTime>_a&&r!==1073741824&&(e.flags|=128,n=!0,es(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,r=je.current,fe(je,n?r&1|2:r&1),e):(Xe(e),null);case 22:case 23:return _u(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?vt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function pw(t,e){switch(au(e),e.tag){case 1:return pt(e.type)&&yo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),ye(gt),ye(et),fu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hu(e),null;case 13:if(ye(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(je),null;case 4:return ka(),null;case 10:return lu(e.type._context),null;case 22:case 23:return _u(),null;case 24:return null;default:return null}}var Oi=!1,Ze=!1,yw=typeof WeakSet=="function"?WeakSet:Set,U=null;function la(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(t,e,n)}else r.current=null}function id(t,e,r){try{r()}catch(n){Ce(t,e,n)}}var Xf=!1;function xw(t,e){if(qc=fo,t=Hg(),ru(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var v;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(d=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===r&&++u===a&&(l=o),g===s&&++h===n&&(d=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bc={focusedElem:t,selectionRange:r},fo=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var _=k.memoizedProps,j=k.memoizedState,x=e.stateNode,p=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:zt(e.type,_),j);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){Ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return k=Xf,Xf=!1,k}function vs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&id(e,r,s)}a=a.next}while(a!==n)}}function Yo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function od(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function z0(t){var e=t.alternate;e!==null&&(t.alternate=null,z0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[As],delete e[Kc],delete e[ew],delete e[tw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W0(t){return t.tag===5||t.tag===3||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=po));else if(n!==4&&(t=t.child,t!==null))for(ld(t,e,r),t=t.sibling;t!==null;)ld(t,e,r),t=t.sibling}function cd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cd(t,e,r),t=t.sibling;t!==null;)cd(t,e,r),t=t.sibling}var Ve=null,Wt=!1;function Ir(t,e,r){for(r=r.child;r!==null;)q0(t,e,r),r=r.sibling}function q0(t,e,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(zo,r)}catch{}switch(r.tag){case 5:Ze||la(r,e);case 6:var n=Ve,a=Wt;Ve=null,Ir(t,e,r),Ve=n,Wt=a,Ve!==null&&(Wt?(t=Ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Wt?(t=Ve,r=r.stateNode,t.nodeType===8?Jl(t.parentNode,r):t.nodeType===1&&Jl(t,r),Ps(t)):Jl(Ve,r.stateNode));break;case 4:n=Ve,a=Wt,Ve=r.stateNode.containerInfo,Wt=!0,Ir(t,e,r),Ve=n,Wt=a;break;case 0:case 11:case 14:case 15:if(!Ze&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&id(r,e,o),a=a.next}while(a!==n)}Ir(t,e,r);break;case 1:if(!Ze&&(la(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ce(r,e,l)}Ir(t,e,r);break;case 21:Ir(t,e,r);break;case 22:r.mode&1?(Ze=(n=Ze)||r.memoizedState!==null,Ir(t,e,r),Ze=n):Ir(t,e,r);break;default:Ir(t,e,r)}}function em(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yw),e.forEach(function(n){var a=Ew.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Wt=!1;break e;case 3:Ve=l.stateNode.containerInfo,Wt=!0;break e;case 4:Ve=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(Ve===null)throw Error(R(160));q0(s,o,a),Ve=null,Wt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){Ce(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B0(e,t),e=e.sibling}function B0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),rr(t),n&4){try{vs(3,t,t.return),Yo(3,t)}catch(_){Ce(t,t.return,_)}try{vs(5,t,t.return)}catch(_){Ce(t,t.return,_)}}break;case 1:Mt(e,t),rr(t),n&512&&r!==null&&la(r,r.return);break;case 5:if(Mt(e,t),rr(t),n&512&&r!==null&&la(r,r.return),t.flags&32){var a=t.stateNode;try{Ss(a,"")}catch(_){Ce(t,t.return,_)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&hg(a,s),Dc(l,o);var u=Dc(l,s);for(o=0;o<d.length;o+=2){var h=d[o],f=d[o+1];h==="style"?yg(a,f):h==="dangerouslySetInnerHTML"?gg(a,f):h==="children"?Ss(a,f):qd(a,h,f,u)}switch(l){case"input":Cc(a,s);break;case"textarea":fg(a,s);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?da(a,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?da(a,!!s.multiple,s.defaultValue,!0):da(a,!!s.multiple,s.multiple?[]:"",!1))}a[As]=s}catch(_){Ce(t,t.return,_)}}break;case 6:if(Mt(e,t),rr(t),n&4){if(t.stateNode===null)throw Error(R(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(_){Ce(t,t.return,_)}}break;case 3:if(Mt(e,t),rr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ps(e.containerInfo)}catch(_){Ce(t,t.return,_)}break;case 4:Mt(e,t),rr(t);break;case 13:Mt(e,t),rr(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(ku=Pe())),n&4&&em(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||h,Mt(e,t),Ze=u):Mt(e,t),rr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(U=t,h=t.child;h!==null;){for(f=U=h;U!==null;){switch(g=U,v=g.child,g.tag){case 0:case 11:case 14:case 15:vs(4,g,g.return);break;case 1:la(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(_){Ce(n,r,_)}}break;case 5:la(g,g.return);break;case 22:if(g.memoizedState!==null){rm(f);continue}}v!==null?(v.return=g,U=v):rm(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,d=f.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=pg("display",o))}catch(_){Ce(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Ce(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mt(e,t),rr(t),n&4&&em(t);break;case 21:break;default:Mt(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(W0(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ss(a,""),n.flags&=-33);var s=Zf(t);cd(t,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zf(t);ld(t,l,o);break;default:throw Error(R(161))}}catch(d){Ce(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vw(t,e,r){U=t,H0(t)}function H0(t,e,r){for(var n=(t.mode&1)!==0;U!==null;){var a=U,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Oi;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Ze;l=Oi;var u=Ze;if(Oi=o,(Ze=d)&&!u)for(U=a;U!==null;)o=U,d=o.child,o.tag===22&&o.memoizedState!==null?nm(a):d!==null?(d.return=o,U=d):nm(a);for(;s!==null;)U=s,H0(s),s=s.sibling;U=a,Oi=l,Ze=u}tm(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,U=s):tm(t)}}function tm(t){for(;U!==null;){var e=U;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||Yo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ze)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:zt(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Uf(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Uf(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ps(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ze||e.flags&512&&od(e)}catch(g){Ce(e,e.return,g)}}if(e===t){U=null;break}if(r=e.sibling,r!==null){r.return=e.return,U=r;break}U=e.return}}function rm(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var r=e.sibling;if(r!==null){r.return=e.return,U=r;break}U=e.return}}function nm(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yo(4,e)}catch(d){Ce(e,r,d)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(d){Ce(e,a,d)}}var s=e.return;try{od(e)}catch(d){Ce(e,s,d)}break;case 5:var o=e.return;try{od(e)}catch(d){Ce(e,o,d)}}}catch(d){Ce(e,e.return,d)}if(e===t){U=null;break}var l=e.sibling;if(l!==null){l.return=e.return,U=l;break}U=e.return}}var ww=Math.ceil,Eo=Dr.ReactCurrentDispatcher,wu=Dr.ReactCurrentOwner,Rt=Dr.ReactCurrentBatchConfig,Z=0,Be=null,Ie=null,Ke=0,vt=0,ca=sn(0),ze=0,zs=null,Dn=0,Go=0,bu=0,ws=null,ht=null,ku=0,_a=1/0,vr=null,Co=!1,dd=null,Zr=null,Ri=!1,Kr=null,To=0,bs=0,ud=null,Gi=-1,Qi=0;function ot(){return Z&6?Pe():Gi!==-1?Gi:Gi=Pe()}function en(t){return t.mode&1?Z&2&&Ke!==0?Ke&-Ke:nw.transition!==null?(Qi===0&&(Qi=Tg()),Qi):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Ig(t.type)),t):1}function Vt(t,e,r,n){if(50<bs)throw bs=0,ud=null,Error(R(185));Vs(t,r,n),(!(Z&2)||t!==Be)&&(t===Be&&(!(Z&2)&&(Go|=r),ze===4&&Br(t,Ke)),yt(t,n),r===1&&Z===0&&!(e.mode&1)&&(_a=Pe()+500,Vo&&on()))}function yt(t,e){var r=t.callbackNode;nv(t,e);var n=ho(t,t===Be?Ke:0);if(n===0)r!==null&&hf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hf(r),e===1)t.tag===0?rw(am.bind(null,t)):t0(am.bind(null,t)),Xv(function(){!(Z&6)&&on()}),r=null;else{switch(Pg(n)){case 1:r=Jd;break;case 4:r=Eg;break;case 16:r=uo;break;case 536870912:r=Cg;break;default:r=uo}r=Z0(r,V0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function V0(t,e){if(Gi=-1,Qi=0,Z&6)throw Error(R(327));var r=t.callbackNode;if(ga()&&t.callbackNode!==r)return null;var n=ho(t,t===Be?Ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Po(t,n);else{e=n;var a=Z;Z|=2;var s=J0();(Be!==t||Ke!==e)&&(vr=null,_a=Pe()+500,Cn(t,e));do try{jw();break}catch(l){K0(t,l)}while(1);ou(),Eo.current=s,Z=a,Ie!==null?e=0:(Be=null,Ke=0,e=ze)}if(e!==0){if(e===2&&(a=Mc(t),a!==0&&(n=a,e=hd(t,a))),e===1)throw r=zs,Cn(t,0),Br(t,n),yt(t,Pe()),r;if(e===6)Br(t,n);else{if(a=t.current.alternate,!(n&30)&&!bw(a)&&(e=Po(t,n),e===2&&(s=Mc(t),s!==0&&(n=s,e=hd(t,s))),e===1))throw r=zs,Cn(t,0),Br(t,n),yt(t,Pe()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(R(345));case 2:xn(t,ht,vr);break;case 3:if(Br(t,n),(n&130023424)===n&&(e=ku+500-Pe(),10<e)){if(ho(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){ot(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Vc(xn.bind(null,t,ht,vr),e);break}xn(t,ht,vr);break;case 4:if(Br(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-Ht(n);s=1<<o,o=e[o],o>a&&(a=o),n&=~s}if(n=a,n=Pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ww(n/1960))-n,10<n){t.timeoutHandle=Vc(xn.bind(null,t,ht,vr),n);break}xn(t,ht,vr);break;case 5:xn(t,ht,vr);break;default:throw Error(R(329))}}}return yt(t,Pe()),t.callbackNode===r?V0.bind(null,t):null}function hd(t,e){var r=ws;return t.current.memoizedState.isDehydrated&&(Cn(t,e).flags|=256),t=Po(t,e),t!==2&&(e=ht,ht=r,e!==null&&fd(e)),t}function fd(t){ht===null?ht=t:ht.push.apply(ht,t)}function bw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Kt(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~bu,e&=~Go,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ht(e),n=1<<r;t[r]=-1,e&=~n}}function am(t){if(Z&6)throw Error(R(327));ga();var e=ho(t,0);if(!(e&1))return yt(t,Pe()),null;var r=Po(t,e);if(t.tag!==0&&r===2){var n=Mc(t);n!==0&&(e=n,r=hd(t,n))}if(r===1)throw r=zs,Cn(t,0),Br(t,e),yt(t,Pe()),r;if(r===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xn(t,ht,vr),yt(t,Pe()),null}function ju(t,e){var r=Z;Z|=1;try{return t(e)}finally{Z=r,Z===0&&(_a=Pe()+500,Vo&&on())}}function $n(t){Kr!==null&&Kr.tag===0&&!(Z&6)&&ga();var e=Z;Z|=1;var r=Rt.transition,n=ae;try{if(Rt.transition=null,ae=1,t)return t()}finally{ae=n,Rt.transition=r,Z=e,!(Z&6)&&on()}}function _u(){vt=ca.current,ye(ca)}function Cn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Qv(r)),Ie!==null)for(r=Ie.return;r!==null;){var n=r;switch(au(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yo();break;case 3:ka(),ye(gt),ye(et),fu();break;case 5:hu(n);break;case 4:ka();break;case 13:ye(je);break;case 19:ye(je);break;case 10:lu(n.type._context);break;case 22:case 23:_u()}r=r.return}if(Be=t,Ie=t=tn(t.current,null),Ke=vt=e,ze=0,zs=null,bu=Go=Dn=0,ht=ws=null,Nn!==null){for(e=0;e<Nn.length;e++)if(r=Nn[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Nn=null}return t}function K0(t,e){do{var r=Ie;try{if(ou(),Ki.current=So,No){for(var n=_e.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}No=!1}if(Rn=0,qe=Fe=_e=null,xs=!1,Ms=0,wu.current=null,r===null||r.return===null){ze=1,zs=e,Ie=null;break}e:{var s=t,o=r.return,l=r,d=e;if(e=Ke,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Hf(o);if(v!==null){v.flags&=-257,Vf(v,o,l,s,e),v.mode&1&&Bf(s,u,e),e=v,d=u;var k=e.updateQueue;if(k===null){var _=new Set;_.add(d),e.updateQueue=_}else k.add(d);break e}else{if(!(e&1)){Bf(s,u,e),Nu();break e}d=Error(R(426))}}else if(ve&&l.mode&1){var j=Hf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Vf(j,o,l,s,e),su(ja(d,l));break e}}s=d=ja(d,l),ze!==4&&(ze=2),ws===null?ws=[s]:ws.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=P0(s,d,e);Mf(s,x);break e;case 1:l=d;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zr===null||!Zr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=O0(s,l,e);Mf(s,S);break e}}s=s.return}while(s!==null)}G0(r)}catch(C){e=C,Ie===r&&r!==null&&(Ie=r=r.return);continue}break}while(1)}function J0(){var t=Eo.current;return Eo.current=So,t===null?So:t}function Nu(){(ze===0||ze===3||ze===2)&&(ze=4),Be===null||!(Dn&268435455)&&!(Go&268435455)||Br(Be,Ke)}function Po(t,e){var r=Z;Z|=2;var n=J0();(Be!==t||Ke!==e)&&(vr=null,Cn(t,e));do try{kw();break}catch(a){K0(t,a)}while(1);if(ou(),Z=r,Eo.current=n,Ie!==null)throw Error(R(261));return Be=null,Ke=0,ze}function kw(){for(;Ie!==null;)Y0(Ie)}function jw(){for(;Ie!==null&&!Jx();)Y0(Ie)}function Y0(t){var e=X0(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?G0(t):Ie=e,wu.current=null}function G0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pw(r,e),r!==null){r.flags&=32767,Ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Ie=null;return}}else if(r=gw(r,e,vt),r!==null){Ie=r;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);ze===0&&(ze=5)}function xn(t,e,r){var n=ae,a=Rt.transition;try{Rt.transition=null,ae=1,_w(t,e,r,n)}finally{Rt.transition=a,ae=n}return null}function _w(t,e,r,n){do ga();while(Kr!==null);if(Z&6)throw Error(R(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(av(t,s),t===Be&&(Ie=Be=null,Ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ri||(Ri=!0,Z0(uo,function(){return ga(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Rt.transition,Rt.transition=null;var o=ae;ae=1;var l=Z;Z|=4,wu.current=null,xw(t,r),B0(r,t),Bv(Bc),fo=!!qc,Bc=qc=null,t.current=r,vw(r),Yx(),Z=l,ae=o,Rt.transition=s}else t.current=r;if(Ri&&(Ri=!1,Kr=t,To=a),s=t.pendingLanes,s===0&&(Zr=null),Xx(r.stateNode),yt(t,Pe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Co)throw Co=!1,t=dd,dd=null,t;return To&1&&t.tag!==0&&ga(),s=t.pendingLanes,s&1?t===ud?bs++:(bs=0,ud=t):bs=0,on(),null}function ga(){if(Kr!==null){var t=Pg(To),e=Rt.transition,r=ae;try{if(Rt.transition=null,ae=16>t?16:t,Kr===null)var n=!1;else{if(t=Kr,Kr=null,To=0,Z&6)throw Error(R(331));var a=Z;for(Z|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var l=s.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(U=u;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:vs(8,h,s)}var f=h.child;if(f!==null)f.return=h,U=f;else for(;U!==null;){h=U;var g=h.sibling,v=h.return;if(z0(h),h===u){U=null;break}if(g!==null){g.return=v,U=g;break}U=v}}}var k=s.alternate;if(k!==null){var _=k.child;if(_!==null){k.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vs(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,U=x;break e}U=s.return}}var p=t.current;for(U=p;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=p;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yo(9,l)}}catch(C){Ce(l,l.return,C)}if(l===o){U=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,U=S;break e}U=l.return}}if(Z=a,on(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(zo,t)}catch{}n=!0}return n}finally{ae=r,Rt.transition=e}}return!1}function sm(t,e,r){e=ja(r,e),e=P0(t,e,1),t=Xr(t,e,1),e=ot(),t!==null&&(Vs(t,1,e),yt(t,e))}function Ce(t,e,r){if(t.tag===3)sm(t,t,r);else for(;e!==null;){if(e.tag===3){sm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){t=ja(r,t),t=O0(e,t,1),e=Xr(e,t,1),t=ot(),e!==null&&(Vs(e,1,t),yt(e,t));break}}e=e.return}}function Nw(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&r,Be===t&&(Ke&r)===r&&(ze===4||ze===3&&(Ke&130023424)===Ke&&500>Pe()-ku?Cn(t,0):bu|=r),yt(t,e)}function Q0(t,e){e===0&&(t.mode&1?(e=ki,ki<<=1,!(ki&130023424)&&(ki=4194304)):e=1);var r=ot();t=Pr(t,e),t!==null&&(Vs(t,e,r),yt(t,r))}function Sw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Q0(t,r)}function Ew(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(e),Q0(t,r)}var X0;X0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)mt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return mt=!1,mw(t,e,r);mt=!!(t.flags&131072)}else mt=!1,ve&&e.flags&1048576&&r0(e,wo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Yi(t,e),t=e.pendingProps;var a=va(e,et.current);ma(e,r),a=gu(null,e,n,t,a,r);var s=pu();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(n)?(s=!0,xo(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,du(e),a.updater=Jo,e.stateNode=a,a._reactInternals=e,Zc(e,n,t,r),e=rd(null,e,n,!0,s,r)):(e.tag=0,ve&&s&&nu(e),it(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Yi(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Tw(n),t=zt(n,t),a){case 0:e=td(null,e,n,t,r);break e;case 1:e=Yf(null,e,n,t,r);break e;case 11:e=Kf(null,e,n,t,r);break e;case 14:e=Jf(null,e,n,zt(n.type,t),r);break e}throw Error(R(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zt(n,a),td(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zt(n,a),Yf(t,e,n,a,r);case 3:e:{if(A0(e),t===null)throw Error(R(387));n=e.pendingProps,s=e.memoizedState,a=s.element,l0(t,e),jo(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=ja(Error(R(423)),e),e=Gf(t,e,n,r,a);break e}else if(n!==a){a=ja(Error(R(424)),e),e=Gf(t,e,n,r,a);break e}else for(wt=Qr(e.stateNode.containerInfo.firstChild),bt=e,ve=!0,Bt=null,r=i0(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wa(),n===a){e=Or(t,e,r);break e}it(t,e,n,r)}e=e.child}return e;case 5:return c0(e),t===null&&Gc(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,o=a.children,Hc(n,a)?o=null:s!==null&&Hc(n,s)&&(e.flags|=32),$0(t,e),it(t,e,o,r),e.child;case 6:return t===null&&Gc(e),null;case 13:return I0(t,e,r);case 4:return uu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ba(e,null,n,r):it(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zt(n,a),Kf(t,e,n,a,r);case 7:return it(t,e,e.pendingProps,r),e.child;case 8:return it(t,e,e.pendingProps.children,r),e.child;case 12:return it(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,o=a.value,fe(bo,n._currentValue),n._currentValue=o,s!==null)if(Kt(s.value,o)){if(s.children===a.children&&!gt.current){e=Or(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(s.tag===1){d=Sr(-1,r&-r),d.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}s.lanes|=r,d=s.alternate,d!==null&&(d.lanes|=r),Qc(s.return,r,e),l.lanes|=r;break}d=d.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Qc(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,ma(e,r),a=$t(a),n=n(a),e.flags|=1,it(t,e,n,r),e.child;case 14:return n=e.type,a=zt(n,e.pendingProps),a=zt(n.type,a),Jf(t,e,n,a,r);case 15:return R0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zt(n,a),Yi(t,e),e.tag=1,pt(n)?(t=!0,xo(e)):t=!1,ma(e,r),T0(e,n,a),Zc(e,n,a,r),rd(null,e,n,!0,t,r);case 19:return L0(t,e,r);case 22:return D0(t,e,r)}throw Error(R(156,e.tag))};function Z0(t,e){return Sg(t,e)}function Cw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,r,n){return new Cw(t,e,r,n)}function Su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tw(t){if(typeof t=="function")return Su(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hd)return 11;if(t===Vd)return 14}return 2}function tn(t,e){var r=t.alternate;return r===null?(r=Ot(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xi(t,e,r,n,a,s){var o=2;if(n=t,typeof t=="function")Su(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zn:return Tn(r.children,a,s,e);case Bd:o=8,a|=8;break;case jc:return t=Ot(12,r,e,a|2),t.elementType=jc,t.lanes=s,t;case _c:return t=Ot(13,r,e,a),t.elementType=_c,t.lanes=s,t;case Nc:return t=Ot(19,r,e,a),t.elementType=Nc,t.lanes=s,t;case cg:return Qo(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case og:o=10;break e;case lg:o=9;break e;case Hd:o=11;break e;case Vd:o=14;break e;case zr:o=16,n=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Ot(o,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Tn(t,e,r,n){return t=Ot(7,t,n,e),t.lanes=r,t}function Qo(t,e,r,n){return t=Ot(22,t,n,e),t.elementType=cg,t.lanes=r,t.stateNode={isHidden:!1},t}function rc(t,e,r){return t=Ot(6,t,null,e),t.lanes=r,t}function nc(t,e,r){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pw(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Eu(t,e,r,n,a,s,o,l,d){return t=new Pw(t,e,r,l,d),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ot(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(s),t}function Ow(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ep(t){if(!t)return nn;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var r=t.type;if(pt(r))return e0(t,r,e)}return e}function tp(t,e,r,n,a,s,o,l,d){return t=Eu(r,n,!0,t,a,s,o,l,d),t.context=ep(null),r=t.current,n=ot(),a=en(r),s=Sr(n,a),s.callback=e??null,Xr(r,s,a),t.current.lanes=a,Vs(t,a,n),yt(t,n),t}function Xo(t,e,r,n){var a=e.current,s=ot(),o=en(a);return r=ep(r),e.context===null?e.context=r:e.pendingContext=r,e=Sr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xr(a,e,o),t!==null&&(Vt(t,a,o,s),Vi(t,a,o)),o}function Oo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function im(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Cu(t,e){im(t,e),(t=t.alternate)&&im(t,e)}function Rw(){return null}var rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}Zo.prototype.render=Tu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Xo(t,e,null,null)};Zo.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$n(function(){Xo(null,t,null,null)}),e[Tr]=null}};function Zo(t){this._internalRoot=t}Zo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qr.length&&e!==0&&e<qr[r].priority;r++);qr.splice(r,0,t),r===0&&Ag(t)}};function Pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function om(){}function Dw(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Oo(o);s.call(u)}}var o=tp(e,n,t,0,null,!1,!1,"",om);return t._reactRootContainer=o,t[Tr]=o.current,Ds(t.nodeType===8?t.parentNode:t),$n(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Oo(d);l.call(u)}}var d=Eu(t,0,!1,null,null,!1,!1,"",om);return t._reactRootContainer=d,t[Tr]=d.current,Ds(t.nodeType===8?t.parentNode:t),$n(function(){Xo(e,d,r,n)}),d}function tl(t,e,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var d=Oo(o);l.call(d)}}Xo(e,o,t,a)}else o=Dw(r,e,t,a,n);return Oo(o)}Og=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=cs(e.pendingLanes);r!==0&&(Yd(e,r|1),yt(e,Pe()),!(Z&6)&&(_a=Pe()+500,on()))}break;case 13:$n(function(){var n=Pr(t,1);if(n!==null){var a=ot();Vt(n,t,1,a)}}),Cu(t,1)}};Gd=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var r=ot();Vt(e,t,134217728,r)}Cu(t,134217728)}};Rg=function(t){if(t.tag===13){var e=en(t),r=Pr(t,e);if(r!==null){var n=ot();Vt(r,t,e,n)}Cu(t,e)}};Dg=function(){return ae};$g=function(t,e){var r=ae;try{return ae=t,e()}finally{ae=r}};Ac=function(t,e,r){switch(e){case"input":if(Cc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Ho(n);if(!a)throw Error(R(90));ug(n),Cc(n,a)}}}break;case"textarea":fg(t,r);break;case"select":e=r.value,e!=null&&da(t,!!r.multiple,e,!1)}};wg=ju;bg=$n;var $w={usingClientEntryPoint:!1,Events:[Js,na,Ho,xg,vg,ju]},ts={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Aw={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_g(t),t===null?null:t.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||Rw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{zo=Di.inject(Aw),dr=Di}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w;jt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(e))throw Error(R(200));return Ow(t,e,null,r)};jt.createRoot=function(t,e){if(!Pu(t))throw Error(R(299));var r=!1,n="",a=rp;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Eu(t,1,!1,null,null,r,!1,n,a),t[Tr]=e.current,Ds(t.nodeType===8?t.parentNode:t),new Tu(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=_g(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return $n(t)};jt.hydrate=function(t,e,r){if(!el(e))throw Error(R(200));return tl(null,t,e,!0,r)};jt.hydrateRoot=function(t,e,r){if(!Pu(t))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=rp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=tp(e,null,t,1,r??null,a,!1,s,o),t[Tr]=e.current,Ds(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Zo(e)};jt.render=function(t,e,r){if(!el(e))throw Error(R(200));return tl(null,t,e,!1,r)};jt.unmountComponentAtNode=function(t){if(!el(t))throw Error(R(40));return t._reactRootContainer?($n(function(){tl(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};jt.unstable_batchedUpdates=ju;jt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!el(r))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return tl(t,e,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function np(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(np)}catch(t){console.error(t)}}np(),ng.exports=jt;var Iw=ng.exports,lm=Iw;bc.createRoot=lm.createRoot,bc.hydrateRoot=lm.hydrateRoot;const Lw="modulepreload",Mw=function(t,e){return new URL(t,e).href},cm={},cr=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Mw(s,n),s in cm)return;cm[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let h=a.length-1;h>=0;h--){const f=a[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Lw,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var dm="popstate";function Uw(t={}){function e(n,a){let{pathname:s,search:o,hash:l}=n.location;return md("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ws(a)}return zw(e,r,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fw(){return Math.random().toString(36).substring(2,10)}function um(t,e){return{usr:t.state,key:t.key,idx:e}}function md(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:r,key:e&&e.key||n||Fw()}}function Ws({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Oa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function zw(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let j=h(),x=j==null?null:j-u;u=j,d&&d({action:l,location:_.location,delta:x})}function g(j,x){l="PUSH";let p=md(_.location,j,x);r&&r(p,j),u=h()+1;let y=um(p,u),S=_.createHref(p);try{o.pushState(y,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}s&&d&&d({action:l,location:_.location,delta:1})}function v(j,x){l="REPLACE";let p=md(_.location,j,x);r&&r(p,j),u=h();let y=um(p,u),S=_.createHref(p);o.replaceState(y,"",S),s&&d&&d({action:l,location:_.location,delta:0})}function k(j){return Ww(j)}let _={get action(){return l},get location(){return t(a,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(dm,f),d=j,()=>{a.removeEventListener(dm,f),d=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let x=k(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(j){return o.go(j)}};return _}function Ww(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),we(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ws(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function ap(t,e,r="/"){return qw(t,e,r,!1)}function qw(t,e,r,n){let a=typeof e=="string"?Oa(e):e,s=Rr(a.pathname||"/",r);if(s==null)return null;let o=sp(t);Bw(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=tb(s);l=Zw(o[d],u,n)}return l}function sp(t,e=[],r=[],n="",a=!1){let s=(o,l,d=a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;we(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=Er([n,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(we(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),sp(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:Qw(f,o.index),routesMeta:g})};return t.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,l);else for(let u of ip(o.path))s(o,l,!0,u)}),e}function ip(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=ip(n.join("/")),l=[];return l.push(...o.map(d=>d===""?s:[s,d].join("/"))),a&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function Bw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Xw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Hw=/^:[\w-]+$/,Vw=3,Kw=2,Jw=1,Yw=10,Gw=-2,hm=t=>t==="*";function Qw(t,e){let r=t.split("/"),n=r.length;return r.some(hm)&&(n+=Gw),e&&(n+=Kw),r.filter(a=>!hm(a)).reduce((a,s)=>a+(Hw.test(s)?Vw:s===""?Jw:Yw),n)}function Xw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Zw(t,e,r=!1){let{routesMeta:n}=t,a={},s="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],u=l===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Ro({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ro({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Er([s,f.pathname]),pathnameBase:sb(Er([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Er([s,f.pathnameBase]))}return o}function Ro(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=eb(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let k=l[g]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const v=l[g];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function eb(t,e=!1,r=!0){Jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function tb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function rb(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Oa(t):t;return{pathname:r?r.startsWith("/")?r:nb(r,e):e,search:ib(n),hash:ob(a)}}function nb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ac(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ab(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ou(t){let e=ab(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Ru(t,e,r,n=!1){let a;typeof t=="string"?a=Oa(t):(a={...t},we(!a.pathname||!a.pathname.includes("?"),ac("?","pathname","search",a)),we(!a.pathname||!a.pathname.includes("#"),ac("#","pathname","hash",a)),we(!a.search||!a.search.includes("#"),ac("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}l=f>=0?e[f]:"/"}let d=rb(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Er=t=>t.join("/").replace(/\/\/+/g,"/"),sb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ib=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ob=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var op=["POST","PUT","PATCH","DELETE"];new Set(op);var cb=["GET",...op];new Set(cb);var Ra=w.createContext(null);Ra.displayName="DataRouter";var rl=w.createContext(null);rl.displayName="DataRouterState";w.createContext(!1);var lp=w.createContext({isTransitioning:!1});lp.displayName="ViewTransition";var db=w.createContext(new Map);db.displayName="Fetchers";var ub=w.createContext(null);ub.displayName="Await";var Gt=w.createContext(null);Gt.displayName="Navigation";var Gs=w.createContext(null);Gs.displayName="Location";var hr=w.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Du=w.createContext(null);Du.displayName="RouteError";function hb(t,{relative:e}={}){we(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Gt),{hash:a,pathname:s,search:o}=Qs(t,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:Er([r,s])),n.createHref({pathname:l,search:o,hash:a})}function Da(){return w.useContext(Gs)!=null}function ln(){return we(Da(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gs).location}var cp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dp(t){w.useContext(Gt).static||w.useLayoutEffect(t)}function up(){let{isDataRoute:t}=w.useContext(hr);return t?Nb():fb()}function fb(){we(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Ra),{basename:e,navigator:r}=w.useContext(Gt),{matches:n}=w.useContext(hr),{pathname:a}=ln(),s=JSON.stringify(Ou(n)),o=w.useRef(!1);return dp(()=>{o.current=!0}),w.useCallback((d,u={})=>{if(Jt(o.current,cp),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=Ru(d,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Er([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,s,a,t])}w.createContext(null);function Qs(t,{relative:e}={}){let{matches:r}=w.useContext(hr),{pathname:n}=ln(),a=JSON.stringify(Ou(r));return w.useMemo(()=>Ru(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function mb(t,e){return hp(t,e)}function hp(t,e,r,n,a){var p;we(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Gt),{matches:o}=w.useContext(hr),l=o[o.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";fp(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let g=ln(),v;if(e){let y=typeof e=="string"?Oa(e):e;we(h==="/"||((p=y.pathname)==null?void 0:p.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${y.pathname}" was given in the \`location\` prop.`),v=y}else v=g;let k=v.pathname||"/",_=k;if(h!=="/"){let y=h.replace(/^\//,"").split("/");_="/"+k.replace(/^\//,"").split("/").slice(y.length).join("/")}let j=ap(t,{pathname:_});Jt(f||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=vb(j&&j.map(y=>Object.assign({},y,{params:Object.assign({},d,y.params),pathname:Er([h,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:Er([h,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),o,r,n,a);return e&&x?w.createElement(Gs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function gb(){let t=_b(),e=lb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,o)}var pb=w.createElement(gb,null),yb=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(hr.Provider,{value:this.props.routeContext},w.createElement(Du.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xb({routeContext:t,match:e,children:r}){let n=w.useContext(Ra);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(hr.Provider,{value:t},r)}function vb(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);we(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,d=-1;if(r)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=r,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let g,v=!1,k=null,_=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,k=h.route.errorElement||pb,l&&(d<0&&f===0?(fp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):d===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,f+1)),x=()=>{let p;return g?p=k:v?p=_:h.route.Component?p=w.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,w.createElement(xb,{match:h,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(yb,{location:r.location,revalidation:r.revalidation,component:k,error:g,children:x(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:n}):x()},null)}function $u(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(t){let e=w.useContext(Ra);return we(e,$u(t)),e}function bb(t){let e=w.useContext(rl);return we(e,$u(t)),e}function kb(t){let e=w.useContext(hr);return we(e,$u(t)),e}function Au(t){let e=kb(t),r=e.matches[e.matches.length-1];return we(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function jb(){return Au("useRouteId")}function _b(){var n;let t=w.useContext(Du),e=bb("useRouteError"),r=Au("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Nb(){let{router:t}=wb("useNavigate"),e=Au("useNavigate"),r=w.useRef(!1);return dp(()=>{r.current=!0}),w.useCallback(async(a,s={})=>{Jt(r.current,cp),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var fm={};function fp(t,e,r){!e&&!fm[t]&&(fm[t]=!0,Jt(!1,r))}w.memo(Sb);function Sb({routes:t,future:e,state:r,unstable_onError:n}){return hp(t,void 0,r,n,e)}function Eb({to:t,replace:e,state:r,relative:n}){we(Da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Gt);Jt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(hr),{pathname:o}=ln(),l=up(),d=Ru(t,Ou(s),o,n==="path"),u=JSON.stringify(d);return w.useEffect(()=>{l(JSON.parse(u),{replace:e,state:r,relative:n})},[l,u,n,e,r]),null}function gd(t){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cb({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){we(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=Oa(r));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:g="default"}=r,v=w.useMemo(()=>{let k=Rr(d,o);return k==null?null:{location:{pathname:k,search:u,hash:h,state:f,key:g},navigationType:n}},[o,d,u,h,f,g,n]);return Jt(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Gt.Provider,{value:l},w.createElement(Gs.Provider,{children:e,value:v}))}function Tb({children:t,location:e}){return mb(pd(t),e)}function pd(t,e=[]){let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,pd(n.props.children,s));return}we(n.type===gd,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=pd(n.props.children,s)),r.push(o)}),r}var Zi="get",eo="application/x-www-form-urlencoded";function nl(t){return t!=null&&typeof t.tagName=="string"}function Pb(t){return nl(t)&&t.tagName.toLowerCase()==="button"}function Ob(t){return nl(t)&&t.tagName.toLowerCase()==="form"}function Rb(t){return nl(t)&&t.tagName.toLowerCase()==="input"}function Db(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $b(t,e){return t.button===0&&(!e||e==="_self")&&!Db(t)}var $i=null;function Ab(){if($i===null)try{new FormData(document.createElement("form"),0),$i=!1}catch{$i=!0}return $i}var Ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sc(t){return t!=null&&!Ib.has(t)?(Jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eo}"`),null):t}function Lb(t,e){let r,n,a,s,o;if(Ob(t)){let l=t.getAttribute("action");n=l?Rr(l,e):null,r=t.getAttribute("method")||Zi,a=sc(t.getAttribute("enctype"))||eo,s=new FormData(t)}else if(Pb(t)||Rb(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(n=d?Rr(d,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Zi,a=sc(t.getAttribute("formenctype"))||sc(l.getAttribute("enctype"))||eo,s=new FormData(l,t),!Ab()){let{name:u,type:h,value:f}=t;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,f)}}else{if(nl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zi,n=null,a=eo,o=t}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iu(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mb(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Rr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Ub(t,e){if(t.id in e)return e[t.id];try{let r=await cr(()=>import(t.module),[],import.meta.url);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fb(t){return t!=null&&typeof t.page=="string"}function zb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wb(t,e,r){let n=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await Ub(s,r);return o.links?o.links():[]}return[]}));return Vb(n.flat(1).filter(zb).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mm(t,e,r,n,a,s){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,l=(d,u)=>{var h;return r[u].pathname!==d.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,u)=>o(d,u)||l(d,u)):s==="data"?e.filter((d,u)=>{var f;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qb(t,e,{includeHydrateFallback:r}={}){return Bb(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Bb(t){return[...new Set(t)]}function Hb(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Vb(t,e){let r=new Set,n=new Set(e);return t.reduce((a,s)=>{if(e&&!Fb(s)&&s.as==="script"&&s.href&&n.has(s.href))return a;let l=JSON.stringify(Hb(s));return r.has(l)||(r.add(l),a.push({key:l,link:s})),a},[])}function mp(){let t=w.useContext(Ra);return Iu(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Kb(){let t=w.useContext(rl);return Iu(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lu=w.createContext(void 0);Lu.displayName="FrameworkContext";function gp(){let t=w.useContext(Lu);return Iu(t,"You must render this element inside a <HydratedRouter> element"),t}function Jb(t,e){let r=w.useContext(Lu),[n,a]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,g=w.useRef(null);w.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=x=>{x.forEach(p=>{o(p.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[t]),w.useEffect(()=>{if(n){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[n]);let v=()=>{a(!0)},k=()=>{a(!1),o(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:rs(l,v),onBlur:rs(d,k),onMouseEnter:rs(u,v),onMouseLeave:rs(h,k),onTouchStart:rs(f,v)}]:[!1,g,{}]}function rs(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Yb({page:t,...e}){let{router:r}=mp(),n=w.useMemo(()=>ap(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?w.createElement(Qb,{page:t,matches:n,...e}):null}function Gb(t){let{manifest:e,routeModules:r}=gp(),[n,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return Wb(t,e,r).then(o=>{s||a(o)}),()=>{s=!0}},[t,e,r]),n}function Qb({page:t,matches:e,...r}){let n=ln(),{manifest:a,routeModules:s}=gp(),{basename:o}=mp(),{loaderData:l,matches:d}=Kb(),u=w.useMemo(()=>mm(t,e,d,a,n,"data"),[t,e,d,a,n]),h=w.useMemo(()=>mm(t,e,d,a,n,"assets"),[t,e,d,a,n]),f=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let k=new Set,_=!1;if(e.forEach(x=>{var y;let p=a.routes[x.route.id];!p||!p.hasLoader||(!u.some(S=>S.route.id===x.route.id)&&x.route.id in l&&((y=s[x.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?_=!0:k.add(x.route.id))}),k.size===0)return[];let j=Mb(t,o,"data");return _&&k.size>0&&j.searchParams.set("_routes",e.filter(x=>k.has(x.route.id)).map(x=>x.route.id).join(",")),[j.pathname+j.search]},[o,l,n,a,u,e,t,s]),g=w.useMemo(()=>qb(h,a),[h,a]),v=Gb(h);return w.createElement(w.Fragment,null,f.map(k=>w.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),g.map(k=>w.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),v.map(({key:k,link:_})=>w.createElement("link",{key:k,nonce:r.nonce,..._})))}function Xb(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pp&&(window.__reactRouterVersion="7.9.4")}catch{}function Zb({basename:t,children:e,window:r}){let n=w.useRef();n.current==null&&(n.current=Uw({window:r,v5Compat:!0}));let a=n.current,[s,o]=w.useState({action:a.action,location:a.location}),l=w.useCallback(d=>{w.startTransition(()=>o(d))},[o]);return w.useLayoutEffect(()=>a.listen(l),[a,l]),w.createElement(Cb,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var yp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xp=w.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:f,...g},v){let{basename:k}=w.useContext(Gt),_=typeof u=="string"&&yp.test(u),j,x=!1;if(typeof u=="string"&&_&&(j=u,pp))try{let L=new URL(window.location.href),A=u.startsWith("//")?new URL(L.protocol+u):new URL(u),ee=Rr(A.pathname,k);A.origin===L.origin&&ee!=null?u=ee+A.search+A.hash:x=!0}catch{Jt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=hb(u,{relative:a}),[y,S,C]=Jb(n,g),N=nk(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:f});function E(L){e&&e(L),L.defaultPrevented||N(L)}let P=w.createElement("a",{...g,...C,href:j||p,onClick:x||s?e:E,ref:Xb(v,S),target:d,"data-discover":!_&&r==="render"?"true":void 0});return y&&!_?w.createElement(w.Fragment,null,P,w.createElement(Yb,{page:p})):P});xp.displayName="Link";var ek=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:d,...u},h){let f=Qs(o,{relative:u.relative}),g=ln(),v=w.useContext(rl),{navigator:k,basename:_}=w.useContext(Gt),j=v!=null&&lk(f)&&l===!0,x=k.encodeLocation?k.encodeLocation(f).pathname:f.pathname,p=g.pathname,y=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(p=p.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&_&&(y=Rr(y,_)||y);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=p===x||!a&&p.startsWith(x)&&p.charAt(S)==="/",N=y!=null&&(y===x||!a&&y.startsWith(x)&&y.charAt(x.length)==="/"),E={isActive:C,isPending:N,isTransitioning:j},P=C?e:void 0,L;typeof n=="function"?L=n(E):L=[n,C?"active":null,N?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(E):s;return w.createElement(xp,{...u,"aria-current":P,className:L,ref:h,style:A,to:o,viewTransition:l},typeof d=="function"?d(E):d)});ek.displayName="NavLink";var tk=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:s,method:o=Zi,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:f,...g},v)=>{let k=ik(),_=ok(l,{relative:u}),j=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&yp.test(l),p=y=>{if(d&&d(y),y.defaultPrevented)return;y.preventDefault();let S=y.nativeEvent.submitter,C=(S==null?void 0:S.getAttribute("formmethod"))||o;k(S||y.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:a,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return w.createElement("form",{ref:v,method:j,action:_,onSubmit:n?d:p,...g,"data-discover":!x&&t==="render"?"true":void 0})});tk.displayName="Form";function rk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vp(t){let e=w.useContext(Ra);return we(e,rk(t)),e}function nk(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=up(),d=ln(),u=Qs(t,{relative:s});return w.useCallback(h=>{if($b(h,e)){h.preventDefault();let f=r!==void 0?r:Ws(d)===Ws(u);l(t,{replace:f,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[d,l,u,r,n,e,t,a,s,o])}var ak=0,sk=()=>`__${String(++ak)}__`;function ik(){let{router:t}=vp("useSubmit"),{basename:e}=w.useContext(Gt),r=jb();return w.useCallback(async(n,a={})=>{let{action:s,method:o,encType:l,formData:d,body:u}=Lb(n,e);if(a.navigate===!1){let h=a.fetcherKey||sk();await t.fetch(h,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function ok(t,{relative:e}={}){let{basename:r}=w.useContext(Gt),n=w.useContext(hr);we(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Qs(t||".",{relative:e})},o=ln();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Er([r,s.pathname])),Ws(s)}function lk(t,{relative:e}={}){let r=w.useContext(lp);we(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vp("useViewTransitionState"),a=Qs(t,{relative:e});if(!r.isTransitioning)return!1;let s=Rr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ro(a.pathname,o)!=null||Ro(a.pathname,s)!=null}var ck={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uk=(t,e)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...d},u)=>w.createElement("svg",{ref:u,...ck,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:`lucide lucide-${dk(t)}`,...d},[...e.map(([h,f])=>w.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${t}`,r};var X=uk;const hk=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ct=X("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),fk=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ic=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ee=X("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),gm=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),wp=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),to=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mk=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fn=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),gk=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),pk=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ns=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),yk=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),xk=X("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),vk=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),wk=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),as=X("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),bk=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),kk=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ke=X("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Ai=X("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),pm=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),oc=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ut=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),lc=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ym=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nr=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),jk=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),cc=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bp=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),yd=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),De=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Te=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function Yt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function me(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Le(t){me(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Do(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function kp(t,e){me(2,arguments);var r=Le(t),n=Yt(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function _k(t,e){me(2,arguments);var r=Le(t).getTime(),n=Yt(e);return new Date(r+n)}var Nk={};function $a(){return Nk}function jp(t,e){var r,n,a,s,o,l,d,u;me(1,arguments);var h=$a(),f=Yt((r=(n=(a=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Le(t),v=g.getDay(),k=(v<f?7:0)+v-f;return g.setDate(g.getDate()-k),g.setHours(0,0,0,0),g}function Sk(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function xm(t){me(1,arguments);var e=Le(t);return e.setHours(0,0,0,0),e}var _p=6e4,Np=36e5;function Ek(t,e){me(2,arguments);var r=xm(t),n=xm(e);return r.getTime()===n.getTime()}function Ck(t){return me(1,arguments),t instanceof Date||Do(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tk(t){if(me(1,arguments),!Ck(t)&&typeof t!="number")return!1;var e=Le(t);return!isNaN(Number(e))}function Sp(t){me(1,arguments);var e=Le(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Ep(t){me(1,arguments);var e=Le(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Cp(t,e){var r,n,a,s,o,l,d,u;me(1,arguments);var h=$a(),f=Yt((r=(n=(a=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Le(t),v=g.getDay(),k=(v<f?-7:0)+6-(v-f);return g.setDate(g.getDate()+k),g.setHours(23,59,59,999),g}function Pk(t,e){me(2,arguments);var r=Yt(e);return _k(t,-r)}var Ok=864e5;function Rk(t){me(1,arguments);var e=Le(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=r-n;return Math.floor(a/Ok)+1}function $o(t){me(1,arguments);var e=1,r=Le(t),n=r.getUTCDay(),a=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Tp(t){me(1,arguments);var e=Le(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=$o(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=$o(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Dk(t){me(1,arguments);var e=Tp(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=$o(r);return n}var $k=6048e5;function Ak(t){me(1,arguments);var e=Le(t),r=$o(e).getTime()-Dk(e).getTime();return Math.round(r/$k)+1}function Ao(t,e){var r,n,a,s,o,l,d,u;me(1,arguments);var h=$a(),f=Yt((r=(n=(a=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Le(t),v=g.getUTCDay(),k=(v<f?7:0)+v-f;return g.setUTCDate(g.getUTCDate()-k),g.setUTCHours(0,0,0,0),g}function Pp(t,e){var r,n,a,s,o,l,d,u;me(1,arguments);var h=Le(t),f=h.getUTCFullYear(),g=$a(),v=Yt((r=(n=(a=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&n!==void 0?n:(d=g.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(f+1,0,v),k.setUTCHours(0,0,0,0);var _=Ao(k,e),j=new Date(0);j.setUTCFullYear(f,0,v),j.setUTCHours(0,0,0,0);var x=Ao(j,e);return h.getTime()>=_.getTime()?f+1:h.getTime()>=x.getTime()?f:f-1}function Ik(t,e){var r,n,a,s,o,l,d,u;me(1,arguments);var h=$a(),f=Yt((r=(n=(a=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),g=Pp(t,e),v=new Date(0);v.setUTCFullYear(g,0,f),v.setUTCHours(0,0,0,0);var k=Ao(v,e);return k}var Lk=6048e5;function Mk(t,e){me(1,arguments);var r=Le(t),n=Ao(r,e).getTime()-Ik(r,e).getTime();return Math.round(n/Lk)+1}function ne(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Uk={y:function(e,r){var n=e.getUTCFullYear(),a=n>0?n:1-n;return ne(r==="yy"?a%100:a,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):ne(n+1,2)},d:function(e,r){return ne(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return ne(e.getUTCHours()%12||12,r.length)},H:function(e,r){return ne(e.getUTCHours(),r.length)},m:function(e,r){return ne(e.getUTCMinutes(),r.length)},s:function(e,r){return ne(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,a=e.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return ne(s,r.length)}};const Lr=Uk;var Wn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fk={G:function(e,r,n){var a=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var a=e.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Lr.y(e,r)},Y:function(e,r,n,a){var s=Pp(e,a),o=s>0?s:1-s;if(r==="YY"){var l=o%100;return ne(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):ne(o,r.length)},R:function(e,r){var n=Tp(e);return ne(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return ne(n,r.length)},Q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ne(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ne(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){var a=e.getUTCMonth();switch(r){case"M":case"MM":return Lr.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){var a=e.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return ne(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){var s=Mk(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):ne(s,r.length)},I:function(e,r,n){var a=Ak(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ne(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Lr.d(e,r)},D:function(e,r,n){var a=Rk(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ne(a,r.length)},E:function(e,r,n){var a=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){var s=e.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return ne(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){var s=e.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return ne(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){var a=e.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return ne(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){var a=e.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){var a=e.getUTCHours(),s;switch(a===12?s=Wn.noon:a===0?s=Wn.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){var a=e.getUTCHours(),s;switch(a>=17?s=Wn.evening:a>=12?s=Wn.afternoon:a>=4?s=Wn.morning:s=Wn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Lr.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Lr.H(e,r)},K:function(e,r,n){var a=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ne(a,r.length)},k:function(e,r,n){var a=e.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ne(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Lr.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Lr.s(e,r)},S:function(e,r){return Lr.S(e,r)},X:function(e,r,n,a){var s=a._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return wm(o);case"XXXX":case"XX":return vn(o);case"XXXXX":case"XXX":default:return vn(o,":")}},x:function(e,r,n,a){var s=a._originalDate||e,o=s.getTimezoneOffset();switch(r){case"x":return wm(o);case"xxxx":case"xx":return vn(o);case"xxxxx":case"xxx":default:return vn(o,":")}},O:function(e,r,n,a){var s=a._originalDate||e,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+vm(o,":");case"OOOO":default:return"GMT"+vn(o,":")}},z:function(e,r,n,a){var s=a._originalDate||e,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+vm(o,":");case"zzzz":default:return"GMT"+vn(o,":")}},t:function(e,r,n,a){var s=a._originalDate||e,o=Math.floor(s.getTime()/1e3);return ne(o,r.length)},T:function(e,r,n,a){var s=a._originalDate||e,o=s.getTime();return ne(o,r.length)}};function vm(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=e||"";return r+String(a)+o+ne(s,2)}function wm(t,e){if(t%60===0){var r=t>0?"-":"+";return r+ne(Math.abs(t)/60,2)}return vn(t,e)}function vn(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),s=ne(Math.floor(a/60),2),o=ne(a%60,2);return n+s+r+o}const zk=Fk;var bm=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Op=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Wk=function(e,r){var n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return bm(e,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",bm(a,r)).replace("{{time}}",Op(s,r))},qk={p:Op,P:Wk};const Bk=qk;var Hk=["D","DD"],Vk=["YY","YYYY"];function Kk(t){return Hk.indexOf(t)!==-1}function Jk(t){return Vk.indexOf(t)!==-1}function km(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Yk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gk=function(e,r,n){var a,s=Yk[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Qk=Gk;function pa(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var Xk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t1={date:pa({formats:Xk,defaultWidth:"full"}),time:pa({formats:Zk,defaultWidth:"full"}),dateTime:pa({formats:e1,defaultWidth:"full"})};const r1=t1;var n1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a1=function(e,r,n,a){return n1[e]};const s1=a1;function or(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=t.formattingValues[o]||t.formattingValues[s]}else{var l=t.defaultWidth,d=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[d]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return a[u]}}var i1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h1=function(e,r){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},f1={ordinalNumber:h1,era:or({values:i1,defaultWidth:"wide"}),quarter:or({values:o1,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:or({values:l1,defaultWidth:"wide"}),day:or({values:c1,defaultWidth:"wide"}),dayPeriod:or({values:d1,defaultWidth:"wide",formattingValues:u1,defaultFormattingWidth:"wide"})};const m1=f1;function lr(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;var o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?p1(l,function(f){return f.test(o)}):g1(l,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var h=e.slice(o.length);return{value:u,rest:h}}}function g1(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function p1(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Rp(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var a=n[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var l=e.slice(a.length);return{value:o,rest:l}}}var y1=/^(\d+)(th|st|nd|rd)?/i,x1=/\d+/i,v1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w1={any:[/^b/i,/^(a|c)/i]},b1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k1={any:[/1/i,/2/i,/3/i,/4/i]},j1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},E1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},T1={ordinalNumber:Rp({matchPattern:y1,parsePattern:x1,valueCallback:function(e){return parseInt(e,10)}}),era:lr({matchPatterns:v1,defaultMatchWidth:"wide",parsePatterns:w1,defaultParseWidth:"any"}),quarter:lr({matchPatterns:b1,defaultMatchWidth:"wide",parsePatterns:k1,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:lr({matchPatterns:j1,defaultMatchWidth:"wide",parsePatterns:_1,defaultParseWidth:"any"}),day:lr({matchPatterns:N1,defaultMatchWidth:"wide",parsePatterns:S1,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:E1,defaultMatchWidth:"any",parsePatterns:C1,defaultParseWidth:"any"})};const P1=T1;var O1={code:"en-US",formatDistance:Qk,formatLong:r1,formatRelative:s1,localize:m1,match:P1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const R1=O1;var D1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A1=/^'([^]*?)'?$/,I1=/''/g,L1=/[a-zA-Z]/;function B(t,e,r){var n,a,s,o,l,d,u,h,f,g,v,k,_,j,x,p,y,S;me(2,arguments);var C=String(e),N=$a(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:N.locale)!==null&&n!==void 0?n:R1,P=Yt((s=(o=(l=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:N.firstWeekContainsDate)!==null&&o!==void 0?o:(f=N.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=Yt((v=(k=(_=(j=r==null?void 0:r.weekStartsOn)!==null&&j!==void 0?j:r==null||(x=r.locale)===null||x===void 0||(p=x.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&_!==void 0?_:N.weekStartsOn)!==null&&k!==void 0?k:(y=N.locale)===null||y===void 0||(S=y.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&v!==void 0?v:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var A=Le(t);if(!Tk(A))throw new RangeError("Invalid time value");var ee=Sk(A),le=Pk(A,ee),se={firstWeekContainsDate:P,weekStartsOn:L,locale:E,_originalDate:A},Oe=C.match($1).map(function(ie){var tt=ie[0];if(tt==="p"||tt==="P"){var Qt=Bk[tt];return Qt(ie,E.formatLong)}return ie}).join("").match(D1).map(function(ie){if(ie==="''")return"'";var tt=ie[0];if(tt==="'")return M1(ie);var Qt=zk[tt];if(Qt)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Jk(ie)&&km(ie,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Kk(ie)&&km(ie,e,String(t)),Qt(le,ie,E.localize,se);if(tt.match(L1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+tt+"`");return ie}).join("");return Oe}function M1(t){var e=t.match(A1);return e?e[1].replace(I1,"'"):t}function dc(t,e){me(2,arguments);var r=Le(t),n=Le(e);return r.getTime()>n.getTime()}function Dp(t,e){me(2,arguments);var r=Le(t),n=Le(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $p(t){return me(1,arguments),Ek(t,Date.now())}function oe(t,e){var r;me(1,arguments);var n=Yt((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var a=W1(t),s;if(a.date){var o=q1(a.date,n);s=B1(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var l=s.getTime(),d=0,u;if(a.time&&(d=H1(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(u=V1(a.timezone),isNaN(u))return new Date(NaN)}else{var h=new Date(l+d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}return new Date(l+d+u)}var Ii={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},U1=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,F1=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,z1=/^([+-])(\d{2})(?::?(\d{2}))?$/;function W1(t){var e={},r=t.split(Ii.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Ii.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ii.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var a=Ii.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function q1(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function B1(t,e){if(e===null)return new Date(NaN);var r=t.match(U1);if(!r)return new Date(NaN);var n=!!r[4],a=ss(r[1]),s=ss(r[2])-1,o=ss(r[3]),l=ss(r[4]),d=ss(r[5])-1;if(n)return Q1(e,l,d)?K1(e,l,d):new Date(NaN);var u=new Date(0);return!Y1(e,s,o)||!G1(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,o)),u)}function ss(t){return t?parseInt(t):1}function H1(t){var e=t.match(F1);if(!e)return NaN;var r=uc(e[1]),n=uc(e[2]),a=uc(e[3]);return X1(r,n,a)?r*Np+n*_p+a*1e3:NaN}function uc(t){return t&&parseFloat(t.replace(",","."))||0}function V1(t){if(t==="Z")return 0;var e=t.match(z1);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Z1(n,a)?r*(n*Np+a*_p):NaN}function K1(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var J1=[31,null,31,30,31,30,31,31,30,31,30,31];function Ap(t){return t%400===0||t%4===0&&t%100!==0}function Y1(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(J1[e]||(Ap(t)?29:28))}function G1(t,e){return e>=1&&e<=(Ap(t)?366:365)}function Q1(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function X1(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Z1(t,e){return e>=0&&e<=59}var ej={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},tj=function(e,r,n){var a,s=ej[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"há "+a:a};const rj=tj;var nj={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},aj={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sj={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ij={date:pa({formats:nj,defaultWidth:"full"}),time:pa({formats:aj,defaultWidth:"full"}),dateTime:pa({formats:sj,defaultWidth:"full"})};const oj=ij;var lj={lastWeek:function(e){var r=e.getUTCDay(),n=r===0||r===6?"último":"última";return"'"+n+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},cj=function(e,r,n,a){var s=lj[e];return typeof s=="function"?s(r):s};const dj=cj;var uj={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},hj={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},fj={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},mj={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},gj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},pj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},yj=function(e,r){var n=Number(e);return(r==null?void 0:r.unit)==="week"?n+"ª":n+"º"},xj={ordinalNumber:yj,era:or({values:uj,defaultWidth:"wide"}),quarter:or({values:hj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:or({values:fj,defaultWidth:"wide"}),day:or({values:mj,defaultWidth:"wide"}),dayPeriod:or({values:gj,defaultWidth:"wide",formattingValues:pj,defaultFormattingWidth:"wide"})};const vj=xj;var wj=/^(\d+)[ºªo]?/i,bj=/\d+/i,kj={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},jj={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},_j={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Nj={any:[/1/i,/2/i,/3/i,/4/i]},Sj={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Ej={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Cj={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Tj={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Pj={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Oj={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Rj={ordinalNumber:Rp({matchPattern:wj,parsePattern:bj,valueCallback:function(e){return parseInt(e,10)}}),era:lr({matchPatterns:kj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),quarter:lr({matchPatterns:_j,defaultMatchWidth:"wide",parsePatterns:Nj,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:lr({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:Ej,defaultParseWidth:"any"}),day:lr({matchPatterns:Cj,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:Pj,defaultMatchWidth:"any",parsePatterns:Oj,defaultParseWidth:"any"})};const Dj=Rj;var $j={code:"pt-BR",formatDistance:rj,formatLong:oj,formatRelative:dj,localize:vj,match:Dj,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Me=$j,Aj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cr(()=>Promise.resolve().then(()=>Aa),void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Mu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class jm extends Mu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _m extends Mu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nm extends Mu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xd||(xd={}));var Ij=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};class Lj{constructor(e,{headers:r={},customFetch:n,region:a=xd.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Aj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ij(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:o,body:l,signal:d}=n;let u={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let g;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(u["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(u["Content-Type"]="application/json",g=JSON.stringify(l)));const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:g,signal:d}).catch(x=>{throw x.name==="AbortError"?x:new jm(x)}),k=v.headers.get("x-relay-error");if(k&&k==="true")throw new _m(v);if(!v.ok)throw new Nm(v);let _=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield v.json():_==="application/octet-stream"?j=yield v.blob():_==="text/event-stream"?j=v:_==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new jm(s)}:{data:null,error:s,response:s instanceof Nm||s instanceof _m?s.context:void 0}}})}}var ft={},Uu={},al={},Xs={},sl={},il={},Mj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Na=Mj();const Uj=Na.fetch,Ip=Na.fetch.bind(Na),Lp=Na.Headers,Fj=Na.Request,zj=Na.Response,Aa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lp,Request:Fj,Response:zj,default:Ip,fetch:Uj},Symbol.toStringTag,{value:"Module"})),Wj=cx(Aa);var ol={};Object.defineProperty(ol,"__esModule",{value:!0});let qj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ol.default=qj;var Mp=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(il,"__esModule",{value:!0});const Bj=Mp(Wj),Hj=Mp(ol);let Vj=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Bj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,d,u;let h=null,f=null,g=null,v=s.status,k=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(d=s.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");j&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,v=406,k="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await s.text();try{h=JSON.parse(j),Array.isArray(h)&&s.status===404&&(f=[],h=null,v=200,k="OK")}catch{s.status===404&&j===""?(v=204,k="No Content"):h={message:j}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,v=200,k="OK"),h&&this.shouldThrowOnError)throw new Hj.default(h)}return{error:h,data:f,count:g,status:v,statusText:k}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,d;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(d=s==null?void 0:s.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};il.default=Vj;var Kj=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sl,"__esModule",{value:!0});const Jj=Kj(il);let Yj=class extends Jj.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const d=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};sl.default=Yj;var Gj=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});const Qj=Gj(sl);let Xj=class extends Qj.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Xs.default=Xj;var Zj=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(al,"__esModule",{value:!0});const is=Zj(Xs);let e_=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,r){const{head:n=!1,count:a}=r??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(o.length>0){const l=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new is.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new is.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new is.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};al.default=e_;var Up=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uu,"__esModule",{value:!0});const t_=Up(al),r_=Up(Xs);let n_=class Fp{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new t_.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Fp(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const d=new URL(`${this.url}/rpc/${e}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{d.searchParams.append(f,g)})):(l="POST",u=r);const h=new Headers(this.headers);return s&&h.set("Prefer",`count=${s}`),new r_.default({method:l,url:d,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Uu.default=n_;var Ia=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const zp=Ia(Uu);ft.PostgrestClient=zp.default;const Wp=Ia(al);ft.PostgrestQueryBuilder=Wp.default;const qp=Ia(Xs);ft.PostgrestFilterBuilder=qp.default;const Bp=Ia(sl);ft.PostgrestTransformBuilder=Bp.default;const Hp=Ia(il);ft.PostgrestBuilder=Hp.default;const Vp=Ia(ol);ft.PostgrestError=Vp.default;var a_=ft.default={PostgrestClient:zp.default,PostgrestQueryBuilder:Wp.default,PostgrestFilterBuilder:qp.default,PostgrestTransformBuilder:Bp.default,PostgrestBuilder:Hp.default,PostgrestError:Vp.default};const{PostgrestClient:s_,PostgrestQueryBuilder:uS,PostgrestFilterBuilder:hS,PostgrestTransformBuilder:fS,PostgrestBuilder:mS,PostgrestError:gS}=a_;class i_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const o_="2.74.0",l_=`realtime-js/${o_}`,c_="1.0.0",vd=1e4,d_=1e3,u_=100;var ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ks||(ks={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var qt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qt||(qt={}));var wd;(function(t){t.websocket="websocket"})(wd||(wd={}));var kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kn||(kn={}));class h_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const d=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:d,payload:u}}}class Kp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const Sm=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=f_(o,t,e,a),s),{}):{}},f_=(t,e,r,n)=>{const a=e.find(l=>l.name===t),s=a==null?void 0:a.type,o=r[t];return s&&!n.includes(s)?Jp(s,o):bd(o)},Jp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return y_(e,r)}switch(t){case he.bool:return m_(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return g_(e);case he.json:case he.jsonb:return p_(e);case he.timestamp:return x_(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return bd(e);default:return bd(e)}},bd=t=>t,m_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},g_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},y_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Jp(e,l))}return t},x_=t=>typeof t=="string"?t.replace(" ","T"):t,Yp=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class hc{constructor(e,r,n={},a=vd){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Em;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Em||(Em={}));class js{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,a,s,o),this.pendingDiffs.forEach(d=>{this.state=js.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=js.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),o=this.transformState(r),l={},d={};return this.map(s,(u,h)=>{o[u]||(d[u]=h)}),this.map(o,(u,h)=>{const f=s[u];if(f){const g=h.map(j=>j.presence_ref),v=f.map(j=>j.presence_ref),k=h.filter(j=>v.indexOf(j.presence_ref)<0),_=f.filter(j=>g.indexOf(j.presence_ref)<0);k.length>0&&(l[u]=k),_.length>0&&(d[u]=_)}else l[u]=h}),this.syncDiff(s,{joins:l,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,d)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(d),h.length>0){const f=e[l].map(v=>v.presence_ref),g=h.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...g)}n(l,h,d)}),this.map(o,(l,d)=>{let u=e[l];if(!u)return;const h=d.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,d),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cm||(Cm={}));var _s;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_s||(_s={}));var wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class Fu{constructor(e,r={config:{}},n){var a,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Kp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new js(this),this.broadcastEndpointURL=Yp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[_s.PRESENCE]&&this.bindings[_s.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(wr.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket.setAuth(),v===void 0){e==null||e(wr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(k=_==null?void 0:_.length)!==null&&k!==void 0?k:0,x=[];for(let p=0;p<j;p++){const y=_[p],{filter:{event:S,schema:C,table:N,filter:E}}=y,P=v&&v[p];if(P&&P.event===S&&P.schema===C&&P.table===N&&P.filter===E)x.push(Object.assign(Object.assign({},y),{id:P.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(wr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ue.errored,e==null||e(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ue.joined&&e===_s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,d;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new hc(this,qt.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new hc(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const o=e.toLocaleLowerCase(),{close:l,error:d,leave:u,join:h}=qt;if(n&&[l,d,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var k,_,j;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var k,_,j,x,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,C=(k=v.filter)===null||k===void 0?void 0:k.event;return S&&((_=r.ids)===null||_===void 0?void 0:_.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const S=(p=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:_,table:j,commit_timestamp:x,type:p,errors:y}=k;g=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:x,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(k))}v.callback(g,n)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Fu.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sm(e.columns,e.old_record)),r}}const fc=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v_=[1e3,2e3,5e3,1e4],w_=1e4,b_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vd,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new h_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>cr(()=>Promise.resolve().then(()=>Aa),void 0,import.meta.url).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${wd.websocket}`,this.httpEndpoint=Yp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:c_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return kn.Connecting;case ks.open:return kn.Open;case ks.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Fu(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,o=()=>{this.encode(e,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(d_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([b_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:l_};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Kp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,s,o,l,d,u,h;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:vd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Li.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:fc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:f=>v_[f-1]||w_,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,g)=>g(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class zu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class j_ extends zu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kd extends zu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var __=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};const Gp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cr(()=>Promise.resolve().then(()=>Aa),void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},N_=()=>__(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cr(()=>Promise.resolve().then(()=>Aa),void 0,import.meta.url)).Response:Response}),jd=t=>{if(Array.isArray(t))return t.map(r=>jd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=jd(n)}),e},S_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ln=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};const mc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E_=(t,e,r)=>Ln(void 0,void 0,void 0,function*(){const n=yield N_();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const s=t.status||500,o=(a==null?void 0:a.statusCode)||s+"";e(new j_(mc(a),s,o))}).catch(a=>{e(new kd(mc(a),a))}):e(new kd(mc(t),t))}),C_=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(S_(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Zs(t,e,r,n,a,s){return Ln(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,C_(e,n,a,s)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>E_(d,l,n))})})}function Io(t,e,r,n){return Ln(this,void 0,void 0,function*(){return Zs(t,"GET",e,r,n)})}function sr(t,e,r,n,a){return Ln(this,void 0,void 0,function*(){return Zs(t,"POST",e,n,a,r)})}function _d(t,e,r,n,a){return Ln(this,void 0,void 0,function*(){return Zs(t,"PUT",e,n,a,r)})}function T_(t,e,r,n){return Ln(this,void 0,void 0,function*(){return Zs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Qp(t,e,r,n,a){return Ln(this,void 0,void 0,function*(){return Zs(t,"DELETE",e,n,a,r)})}var P_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};class O_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}}var R_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};class D_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new O_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return R_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}}var ut=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};const $_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class A_{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Gp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return ut(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Tm),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),f=yield(e=="PUT"?_d:sr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}upload(e,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return ut(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let d;const u=Object.assign({upsert:Tm.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",u.cacheControl)):(d=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield _d(this.fetch,l.toString(),d,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ae(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new zu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ut(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ae(a))return{data:null,error:a};throw a}})}copy(e,r,n){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ae(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return ut(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield sr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ae(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return ut(this,void 0,void 0,function*(){try{const a=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ae(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),d=()=>Io(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new D_(d,this.shouldThrowOnError)}info(e){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Io(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jd(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}exists(e){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield T_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n)&&n instanceof kd){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ut(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return ut(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},$_),r),{prefix:e||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ae(a))return{data:null,error:a};throw a}})}listV2(e,r){return ut(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const I_="2.74.0",L_={"X-Client-Info":`storage-js/${I_}`};var qn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};class M_{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L_),r),this.fetch=Gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createBucket(e){return qn(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ae(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return qn(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}class U_ extends M_{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new A_(this.url,this.headers,e,this.fetch)}}const F_="2.74.0";let us="";typeof Deno<"u"?us="deno":typeof document<"u"?us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?us="react-native":us="node";const z_={"X-Client-Info":`supabase-js-${us}/${F_}`},W_={headers:z_},q_={schema:"public"},B_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},H_={};var V_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};const K_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ip:e=fetch,(...r)=>e(...r)},J_=()=>typeof Headers>"u"?Lp:Headers,Y_=(t,e,r)=>{const n=K_(r),a=J_();return(s,o)=>V_(void 0,void 0,void 0,function*(){var l;const d=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var G_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};function Q_(t){return t.endsWith("/")?t:t+"/"}function X_(t,e){var r,n;const{db:a,auth:s,realtime:o,global:l}=t,{db:d,auth:u,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>G_(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Z_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Q_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Xp="2.74.0",Yn=30*1e3,Nd=3,gc=Nd*Yn,eN="http://localhost:9999",tN="supabase.auth.token",rN={"X-Client-Info":`gotrue-js/${Xp}`},Sd="X-Supabase-Api-Version",Zp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aN=10*60*1e3;class qs extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sN extends qs{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iN(t){return W(t)&&t.name==="AuthApiError"}class jn extends qs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class cn extends qs{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Fr extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oN(t){return W(t)&&t.name==="AuthSessionMissingError"}class Bn extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mi extends cn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ui extends cn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lN(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pm extends cn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ed extends cn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function pc(t){return W(t)&&t.name==="AuthRetryableFetchError"}class Om extends cn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cd extends cn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rm=` 	
\r=`.split(""),cN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rm.length;e+=1)t[Rm[e].charCodeAt(0)]=-2;for(let e=0;e<Lo.length;e+=1)t[Lo[e].charCodeAt(0)]=e;return t})();function Dm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lo[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lo[n]),e.queuedBits-=6}}function ey(t,e,r){const n=cN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $m(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{hN(o,n,r)};for(let o=0;o<t.length;o+=1)ey(t.charCodeAt(o),a,s);return e.join("")}function dN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dN(n,e)}}function hN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ya(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)ey(t.charCodeAt(a),r,n);return new Uint8Array(e)}function fN(t){const e=[];return uN(t,r=>e.push(r)),new Uint8Array(e)}function En(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Dm(a,r,n)),Dm(null,r,n),e.join("")}function mN(t){return Math.round(Date.now()/1e3)+t}function gN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},ty=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function pN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const ry=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cr(()=>Promise.resolve().then(()=>Aa),void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},yN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},gn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mr=async(t,e)=>{await t.removeItem(e)};class ll{constructor(){this.promise=new ll.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ll.promiseConstructor=Promise;function yc(t){const e=t.split(".");if(e.length!==3)throw new Cd("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nN.test(e[n]))throw new Cd("JWT not in base64url format");return{header:JSON.parse($m(e[0])),payload:JSON.parse($m(e[1])),signature:ya(e[2]),raw:{header:e[0],payload:e[1]}}}async function xN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vN(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){a(o);return}}})()})}function wN(t){return("0"+t.toString(16)).substr(-2)}function bN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,wN).join("")}async function kN(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function jN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kN(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hn(t,e,r=!1){const n=bN();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gn(t,`${e}-code-verifier`,a);const s=await jN(n);return[s,n===s?"plain":"s256"]}const _N=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NN(t){const e=t.headers.get(Sd);if(!e||!e.match(_N))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function SN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function EN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(t){if(!CN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Am(t){return JSON.parse(JSON.stringify(t))}var TN=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const wn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PN=[502,503,504];async function Im(t){var e;if(!yN(t))throw new Ed(wn(t),0);if(PN.includes(t.status))throw new Ed(wn(t),t.status);let r;try{r=await t.json()}catch(s){throw new jn(wn(s),s)}let n;const a=NN(t);if(a&&a.getTime()>=Zp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Om(wn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Om(wn(r),t.status,r.weak_password.reasons);throw new sN(wn(r),t.status||500,n)}const ON=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function K(t,e,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Sd]||(s[Sd]=Zp["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await RN(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function RN(t,e,r,n,a,s){const o=ON(e,n,a,s);let l;try{l=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new Ed(wn(d),0)}if(l.ok||await Im(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(d){await Im(d)}}function Ft(t){var e;let r=null;AN(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=mN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Lm(t){const e=Ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DN(t){return{data:t,error:null}}function $N(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,o=TN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function Mm(t){return t}function AN(t){return t.access_token&&t.refresh_token&&t.expires_in}const vc=["global","local","others"];var IN=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class LN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ry(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=vc[0]){if(vc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=IN(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$N,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Mm});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Vn(e);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Vn(e);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Hr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Vn(e);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vn(e.userId);try{const{data:r,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Vn(e.userId),Vn(e.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,s,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await K(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Mm});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await K(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await K(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await K(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await K(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function Um(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Kn={debug:!!(globalThis&&ty()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ny extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MN extends ny{}async function UN(t,e,r){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ay(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zN(t){return parseInt(t,16)}function WN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function qN(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:d,resources:u,scheme:h,uri:f,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=ay(t.address),k=h?`${h}://${n}`:n,_=t.statement?`${t.statement}
`:"",j=`${k} wants you to sign in with your Ethereum account:
${v}

${_}`;let x=`URI: ${f}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),d&&(x+=`
Request ID: ${d}`),u){let p=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}x+=p}return`${j}
${x}`}class $e extends Error{constructor({message:e,code:r,cause:n,name:a}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Mo extends $e{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function BN({error:t,options:e}){var r,n,a;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(iy(o)){if(s.rp.id!==o)return new $e({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function HN({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(iy(n)){if(r.rpId!==n)return new $e({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var sy=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class VN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const KN=new VN;function JN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=sy(t,["challenge","user","excludeCredentials"]),s=ya(e).buffer,o=Object.assign(Object.assign({},r),{id:ya(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const u=n[d];l.excludeCredentials[d]=Object.assign(Object.assign({},u),{id:ya(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function YN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=sy(t,["challenge","allowCredentials"]),a=ya(e).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ya(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function GN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:En(new Uint8Array(t.response.attestationObject)),clientDataJSON:En(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:En(new Uint8Array(a.authenticatorData)),clientDataJSON:En(new Uint8Array(a.clientDataJSON)),signature:En(new Uint8Array(a.signature)),userHandle:a.userHandle?En(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Fm(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function XN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Mo("Browser returned unexpected credential type",e)}:{data:null,error:new Mo("Empty credential response",e)}}catch(e){return{data:null,error:BN({error:e,options:t})}}}async function ZN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Mo("Browser returned unexpected credential type",e)}:{data:null,error:new Mo("Empty credential response",e)}}catch(e){return{data:null,error:HN({error:e,options:t})}}}const e2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},t2={userVerification:"preferred",hints:["security-key"]};function Uo(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const s in a){const o=a[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const l=n[s];e(l)?n[s]=Uo(l,o):n[s]=Uo(o)}else n[s]=o}return n}function r2(t,e){return Uo(e2,t,e||{})}function n2(t,e){return Uo(t2,t,e||{})}class a2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const d=a??KN.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=r2(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:f}=await XN({publicKey:u,signal:d});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=n2(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:f}=await ZN(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:d}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new qs("rpId is required for WebAuthn authentication")};try{if(!Fm())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new qs("rpId is required for WebAuthn registration")};try{if(!Fm())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:d,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in register",o)}}}}FN();const s2={url:eN,storageKey:tN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zm(t,e,r){return await r()}const Jn={};class Bs{get jwks(){var e,r;return(r=(e=Jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bs.nextInstanceID,Bs.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},s2),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new LN({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ry(a.fetch),this.lock=a.lock||zm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=UN:this.lock=zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a2(this)},this.persistSession?(a.storage?this.storage=a.storage:ty()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Um(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Um(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=pN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lN(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new jn("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ft}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:h,password:f,options:g}=e;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await Hn(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:k},xform:Ft})}else if("phone"in e){const{phone:h,password:f,options:g}=e;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ft})}else throw new Mi("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lm})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lm})}else throw new Mi("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Bn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,s,o,l,d,u,h,f,g;let v,k;if("message"in e)v=e.message,k=e.signature;else{const{chain:_,wallet:j,statement:x,options:p}=e;let y;if(xt())if(typeof j=="object")y=j;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")y=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=j}const S=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),C=await y.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=ay(C[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const L=await y.request({method:"eth_chainId"});E=zN(L)}const P={domain:S.host,address:N,statement:x,uri:S.href,version:"1",chainId:E,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=p==null?void 0:p.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=qN(P),k=await y.request({method:"personal_sign",params:[WN(v),N]})}try{const{data:_,error:j}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ft});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Bn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(W(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var r,n,a,s,o,l,d,u,h,f,g,v;let k,_;if("message"in e)k=e.message,_=e.signature;else{const{chain:j,wallet:x,statement:p,options:y}=e;let S;if(xt())if(typeof x=="object")S=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const C=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),p?{statement:p}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)k=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(k),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=N}}try{const{data:j,error:x}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:En(_)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ft});if(x)throw x;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Bn}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:x})}catch(j){if(W(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await gn(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ft});if(await Mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Bn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(W(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=e,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ft}),{data:d,error:u}=l;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Bn}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,s,o;try{if("email"in e){const{email:l,options:d}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Hn(this.storage,this.storageKey));const{error:f}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:d}=e,{data:u,error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Mi("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ft});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Hn(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:DN})}catch(s){if(W(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fr;const{error:a}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:o}=await K(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:o,error:l}=await K(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Mi("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<gc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await gn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=xc()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,h))})}return{data:{session:e},error:null}}const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hr}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fr}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Hr})})}catch(r){if(W(r))return oN(r)&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Fr;const o=a.session;let l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=await Hn(this.storage,this.storageKey));const{data:u,error:h}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Hr});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=yc(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fr;const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new Ui("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ui(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pm("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=e;if(!s||!l||!o||!u)throw new Ui("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const v=g-h;v*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const k=g-f;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,g,h);const{data:_,error:j}=await this._getUser(s);if(j)throw j;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(iN(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=gN(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hn(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(W(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,d,u,h;const{data:f,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:o,provider:l,token:d,access_token:u,nonce:h}=e,f=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:d,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ft}),{data:g,error:v}=f;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Bn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:v})}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vN(async a=>(a>0&&await xN(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ft})),(a,s)=>{const o=200*Math.pow(2,a);return s&&pc(s)&&Date.now()+o-n<Yn})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await gn(this.storage,this.storageKey);if(a&&this.userStorage){let o=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Gn(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:xc()}else if(a&&!a.user&&!a.user){const o=await gn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Mr(this.storage,this.storageKey+"-user"),await Gn(this.storage,this.storageKey,a)):a.user=xc()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gc}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),pc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ll;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Fr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),W(s)){const o={data:null,error:s};return pc(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gn(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=Am(a);await Gn(this.storage,this.storageKey,s)}else{const a=Am(r);await Gn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mr(this.storage,this.storageKey),await Mr(this.storage,this.storageKey+"-code-verifier"),await Mr(this.storage,this.storageKey+"-user"),this.userStorage&&await Mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yn}ms, refresh threshold is ${Nd} ticks`),a<=Nd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ny)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Hn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GN(e.webauthn.credential_response):QN(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:d}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:YN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yc(a.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+aN>a)return n;const{data:s,error:o}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};n=v.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:d}}=yc(n);r!=null&&r.allowExpired||SN(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:o},error:null}}const h=EN(a.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,fN(`${l}.${d}`)))throw new Cd("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}Bs.nextInstanceID=0;const i2=Bs;class o2 extends i2{constructor(e){super(e)}}var l2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function d(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):a(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})};class c2{constructor(e,r,n){var a,s,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Z_(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:q_,realtime:H_,auth:Object.assign(Object.assign({},B_),{storageKey:d}),global:W_},h=X_(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Y_(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new s_(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new U_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Lj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return l2(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:l,lock:d,debug:u},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o2({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:d,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new k_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d2=(t,e,r)=>new c2(t,e,r);function u2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}u2()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h2="https://dvbdvftaklstyhpqznmu.supabase.co",f2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2YmR2ZnRha2xzdHlocHF6bm11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NTY4NDYsImV4cCI6MjA3NTUzMjg0Nn0.C6JeJAfsAOAvbd6NmbnkFx4Jp6dCdwQPUU8ISsigu0U",$=d2(h2,f2),kr=async()=>{const{data:t,error:e}=await $.from("members").select("*").order("nome",{ascending:!0});if(e)throw e;return t},oy=async t=>{const{data:e,error:r}=await $.from("members").select("*").eq("id",t).single();if(r)throw r;return e},m2=async(t,e=3,r=1e3)=>{for(let n=0;n<e;n++)try{return await t()}catch(a){if(console.log(`Tentativa ${n+1} de ${e} falhou:`,a.message),n===e-1)throw a;const s=r*Math.pow(2,n);console.log(`Aguardando ${s}ms antes de tentar novamente...`),await new Promise(o=>setTimeout(o,s))}},Td=async t=>(console.log("Creating member with data:",t),m2(async()=>{const{data:e,error:r}=await $.from("members").insert([t]).select().single();if(r)throw console.error("Supabase error creating member:",r),r;return console.log("Member created successfully:",e),e},3,1e3)),ly=async(t,e)=>{const{id:r,created_at:n,updated_at:a,data_cadastro:s,familiaId:o,...l}=e;console.log("updateMember - ID:",t),console.log("updateMember - Dados recebidos:",e),console.log("updateMember - Dados limpos a enviar:",l),console.log("updateMember - Funcoes:",l.funcoes);const{data:d,error:u}=await $.from("members").update(l).eq("id",t).select().single();if(u)throw console.error("Erro do Supabase ao atualizar:",u),u;return console.log("Membro atualizado no Supabase:",d),console.log("Funcoes retornadas do Supabase:",d.funcoes),d},g2=async t=>{const{error:e}=await $.from("members").delete().eq("id",t);if(e)throw e},cy=async(t,e)=>{const{data:r,error:n}=await $.from("members").select("*").or(`nome.eq.${t},email.eq.${t}`).eq("senha",e).single();if(n)throw n;return r},Pd=async t=>{const{data:e,error:r}=await $.from("members").select("*").ilike("nome",`%${t}%`).order("nome",{ascending:!0});if(r)throw r;return e},xr=async(t,e=null,r=null)=>{if(t==="louvor"){let o=$.from("escalas_louvor").select(`
                *,
                musicos:escalas_louvor_musicos(
                    id,
                    instrumento,
                    membro_id,
                    membro:members(*)
                )
            `).order("data",{ascending:!0});e&&(o=o.gte("data",e)),r&&(o=o.lte("data",r));const{data:l,error:d}=await o;if(d)throw console.error("Erro ao buscar escalas de louvor:",d),d;return console.log("Escalas de louvor carregadas:",l),l.map(u=>{var h;return{...u,musicos:((h=u.musicos)==null?void 0:h.map(f=>({...f.membro,instrumento:f.instrumento})))||[]}})}let n=$.from("ministry_schedules").select("*").eq("ministerio",t).order("data",{ascending:!0});e&&(n=n.gte("data",e)),r&&(n=n.lte("data",r));const{data:a,error:s}=await n;if(s)throw s;return a},p2=async t=>{const{data:e,error:r}=await $.from("ministry_schedules").select("*").eq("id",t).single();if(r)throw r;return e},ro=async t=>{if(t.ministerio==="louvor"){const{musicos:n,...a}=t,{data:s,error:o}=await $.from("escalas_louvor").insert([a]).select().single();if(o)throw o;if(n&&n.length>0){const l=n.map(u=>({escala_id:s.id,membro_id:u.id,instrumento:u.instrumento})),{error:d}=await $.from("escalas_louvor_musicos").insert(l);if(d)throw d}return s}const{data:e,error:r}=await $.from("ministry_schedules").insert([t]).select().single();if(r)throw r;return e},no=async(t,e)=>{if(e.ministerio==="louvor"){const{id:d,created_at:u,updated_at:h,musicos:f,...g}=e,{data:v,error:k}=await $.from("escalas_louvor").update(g).eq("id",t).select().single();if(k)throw k;const{error:_}=await $.from("escalas_louvor_musicos").delete().eq("escala_id",t);if(_)throw _;if(f&&f.length>0){const j=f.map(p=>({escala_id:t,membro_id:p.id,instrumento:p.instrumento})),{error:x}=await $.from("escalas_louvor_musicos").insert(j);if(x)throw x}return v}const{id:r,created_at:n,updated_at:a,...s}=e,{data:o,error:l}=await $.from("ministry_schedules").update(s).eq("id",t).select().single();if(l)throw l;return o},ao=async(t,e=null)=>{if(e==="louvor"){const{error:n}=await $.from("escalas_louvor").delete().eq("id",t);if(n)throw n;return}const{error:r}=await $.from("ministry_schedules").delete().eq("id",t);if(r)throw r},dy=async()=>{const{data:t,error:e}=await $.from("families").select("*").order("nome",{ascending:!0});if(e)throw e;return t},y2=async t=>{const{data:e,error:r}=await $.from("families").insert([t]).select().single();if(r)throw r;return e},x2=async(t,e)=>{const{data:r,error:n}=await $.from("families").update(e).eq("id",t).select().single();if(n)throw n;return r},uy=async t=>{const{data:e,error:r}=await $.from("families").select("*").contains("membros_ids",[t]).single();if(r){if(r.code==="PGRST116")return null;throw r}return e},hy=async()=>{const{data:t,error:e}=await $.from("events").select("*").order("data",{ascending:!0});if(e)throw e;return t},v2=async t=>{const{data:e,error:r}=await $.from("events").insert([t]).select().single();if(r)throw r;return e},w2=async(t,e)=>{const{data:r,error:n}=await $.from("events").update(e).eq("id",t).select().single();if(n)throw n;return r},b2=async t=>{const{error:e}=await $.from("events").delete().eq("id",t);if(e)throw e},fy=async t=>{const{data:e,error:r}=await $.from("event_foods").select(`
            *,
            member:members!event_foods_membro_id_fkey(id, nome)
        `).eq("event_id",t);if(r)throw r;return e},k2=async t=>{const{data:e,error:r}=await $.from("event_foods").insert([t]).select().single();if(r)throw r;return e},my=async(t,e)=>{const{data:r,error:n}=await $.from("event_foods").update(e).eq("id",t).select().single();if(n)throw n;return r},j2=async t=>{const{error:e}=await $.from("event_foods").delete().eq("event_id",t);if(e)throw e},_2=async t=>{console.log("deleteEventFood chamada com ID:",t);const{data:e,error:r}=await $.from("event_foods").delete().eq("id",t).select();if(console.log("Resultado da deleção:",{data:e,error:r}),r)throw console.error("Erro no deleteEventFood:",r),r;return console.log("DeleteEventFood concluído sem erro"),e},gy=async()=>{const t=new Date().toISOString(),{data:e,error:r}=await $.from("events").select("id").lt("data",t);if(r)throw r;if(e&&e.length>0){const n=e.map(s=>s.id),{error:a}=await $.from("event_foods").delete().in("event_id",n);if(a)throw a;return{cleaned:e.length}}return{cleaned:0}},Od=async(t,e)=>{const{data:r,error:n}=await $.from("event_participants").insert([{event_id:t,membro_id:e,confirmado:!0}]).select().single();if(n)throw n;return r},py=async(t,e)=>{console.log("unregisterEventParticipant - eventId:",t,"type:",typeof t),console.log("unregisterEventParticipant - membroId:",e,"type:",typeof e);const{data:r}=await $.from("event_participants").select("*");console.log("unregisterEventParticipant - ALL records in table:",r);const{data:n,error:a}=await $.from("event_participants").select("*").eq("event_id",t).eq("membro_id",e);console.log("unregisterEventParticipant - existing records:",n),console.log("unregisterEventParticipant - check error:",a);const{data:s,error:o}=await $.from("event_participants").delete().eq("event_id",t).eq("membro_id",e).select();if(console.log("unregisterEventParticipant - deleted data:",s),console.log("unregisterEventParticipant - delete error:",o),o)throw o;return s},N2=async t=>{const{data:e,error:r}=await $.from("event_participants").select(`
            *,
            member:members!event_participants_membro_id_fkey(id, nome)
        `).eq("event_id",t);if(r)throw r;return e},hs=async(t,e)=>{const{data:r,error:n}=await $.from("event_participants").select("*").eq("event_id",t).eq("membro_id",e).maybeSingle();if(n)throw n;return r!==null},jr=async()=>{const{data:t,error:e}=await $.from("workshops").select(`
            *,
            workshop_registrations(count)
        `).order("data",{ascending:!0});if(e)throw e;return t.map(r=>{var n,a;return{...r,inscritos:((a=(n=r.workshop_registrations)==null?void 0:n[0])==null?void 0:a.count)||0}})},yy=async t=>{const{data:e,error:r}=await $.from("workshops").insert([t]).select().single();if(r)throw r;return e},Rd=async(t,e)=>{const{data:r,error:n}=await $.from("workshops").update(e).eq("id",t).select().single();if(n)throw n;return r},xy=async t=>{const{error:e}=await $.from("workshops").delete().eq("id",t);if(e)throw e},so=async(t,e)=>{const{data:r,error:n}=await $.from("workshop_registrations").insert([{workshop_id:Number(t),membro_id:Number(e)}]).select().single();if(n)throw n;return r},Dd=async(t,e)=>{const{error:r}=await $.from("workshop_registrations").delete().eq("workshop_id",Number(t)).eq("membro_id",Number(e));if(r)throw r},Qn=async(t,e)=>{const{data:r,error:n}=await $.from("workshop_registrations").select("*").eq("workshop_id",Number(t)).eq("membro_id",Number(e)).maybeSingle();if(n)throw n;return r!==null},$d=async t=>{const{data:e,error:r}=await $.from("workshop_registrations").select(`
            *,
            member:members!workshop_registrations_membro_id_fkey(id, nome)
        `).eq("workshop_id",Number(t));if(r)throw r;return e},vy=async()=>{const{data:t,error:e}=await $.from("avisos").select("*").order("data_envio",{ascending:!1});if(e)throw e;return t},S2=async t=>{var n;const{data:e,error:r}=await $.from("avisos").insert([t]).select().single();if(r)throw r;if(e){const a=await kr();let s=[];if((n=t.destinatarios)!=null&&n.includes("todos")?s=a:s=a.filter(o=>{var d;const l=o.funcoes||[];return(d=t.destinatarios)==null?void 0:d.some(u=>l.includes(u))}),s.length>0){const o=s.map(l=>({aviso_id:e.id,membro_id:l.id,lido:!1}));await $.from("aviso_notifications").insert(o)}}return e},wy=async t=>{const{count:e,error:r}=await $.from("aviso_notifications").select("*",{count:"exact",head:!0}).eq("membro_id",t).eq("lido",!1);if(r)throw r;return e||0},Ad=async(t,e)=>{const{data:r,error:n}=await $.from("aviso_notifications").update({lido:!0,data_leitura:new Date().toISOString()}).eq("aviso_id",t).eq("membro_id",e);if(n)throw n;return r},io=async t=>{const{data:e,error:r}=await $.from("avisos").select(`
            *,
            aviso_notifications!inner(lido, data_leitura)
        `).eq("aviso_notifications.membro_id",t).order("data_envio",{ascending:!1});if(r)throw r;return e},E2=async t=>{const{error:e}=await $.from("avisos").delete().eq("id",t);if(e)throw e},Id=async()=>{const{data:t,error:e}=await $.from("playlist_zoe").select("*").eq("ativa",!0).order("ordem",{ascending:!0});if(e)throw e;return t},by=async t=>{const{data:e,error:r}=await $.from("playlist_zoe").insert([t]).select().single();if(r)throw r;return e},C2=async(t,e)=>{const{data:r,error:n}=await $.from("playlist_zoe").update(e).eq("id",t).select().single();if(n)throw n;return r},T2=async t=>{const{error:e}=await $.from("playlist_zoe").delete().eq("id",t);if(e)throw e},ky=async()=>{const{data:t,error:e}=await $.from("prayer_requests").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},P2=async t=>{const{data:e,error:r}=await $.from("prayer_requests").insert([t]).select().single();if(r)throw r;return e},bn=(t,e,r,n)=>$.channel(`${t}_changes`).on("postgres_changes",{event:"INSERT",schema:"public",table:t},s=>{console.log(`[Realtime] ${t} INSERT:`,s.new),e&&e(s.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:t},s=>{console.log(`[Realtime] ${t} UPDATE:`,s.new),r&&r(s.new,s.old)}).on("postgres_changes",{event:"DELETE",schema:"public",table:t},s=>{console.log(`[Realtime] ${t} DELETE:`,s.old),n&&n(s.old)}).subscribe(),O2=async(t,e,r)=>{try{const n=t.name.split(".").pop(),a=`${r}/${Date.now()}.${n}`,{data:s,error:o}=await $.storage.from("church-photos").upload(a,t,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:l}}=$.storage.from("church-photos").getPublicUrl(a),{data:d,error:u}=await $.from("photos").insert([{titulo:e.titulo,descricao:e.descricao||null,url:l,storage_path:a,autor_id:r,categoria:e.categoria||"geral",data_foto:e.data_foto||new Date().toISOString().split("T")[0]}]).select().single();if(u)throw u;return d}catch(n){throw console.error("Erro ao fazer upload da foto:",n),n}},jy=async(t=null)=>{let e=$.from("photos").select("*").order("created_at",{ascending:!1});t&&(e=e.eq("categoria",t));const{data:r,error:n}=await e;if(n)throw n;return r},R2=async(t,e)=>{try{const{error:r}=await $.storage.from("church-photos").remove([e]);if(r)throw r;const{error:n}=await $.from("photos").delete().eq("id",t);if(n)throw n}catch(r){throw console.error("Erro ao deletar foto:",r),r}},D2=async(t,e)=>{const{data:r,error:n}=await $.from("photos").update(e).eq("id",t).select().single();if(n)throw n;return r},$2=async()=>{const{data:t,error:e}=await $.from("church_settings").select("*");if(e)throw e;const r={};return t.forEach(n=>{r[n.setting_key]=n.setting_value}),r},_y=async t=>{const{data:e,error:r}=await $.from("church_settings").select("setting_value").eq("setting_key",t).single();if(r){if(r.code==="PGRST116")return null;throw r}return e.setting_value},Ny=async(t,e)=>{const{data:r,error:n}=await $.from("church_settings").upsert({setting_key:t,setting_value:e},{onConflict:"setting_key"}).select().single();if(n)throw n;return r},A2=async t=>{const e=t.name.split(".").pop(),n=`${`logo-${Date.now()}.${e}`}`,{data:a,error:s}=await $.storage.from("church-logos").upload(n,t,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:{publicUrl:o}}=$.storage.from("church-logos").getPublicUrl(n);return await Ny("church_logo_url",o),o},I2=async t=>{const e=t.split("/church-logos/");if(e.length<2)throw new Error("URL inválida");const r=e[1],{error:n}=await $.storage.from("church-logos").remove([r]);if(n)throw n;return!0},Fi=Object.freeze(Object.defineProperty({__proto__:null,checkEventRegistration:hs,checkWorkshopRegistration:Qn,cleanupPastEventFoods:gy,createAviso:S2,createEvent:v2,createEventFood:k2,createFamily:y2,createMember:Td,createMinistrySchedule:ro,createPlaylistMusica:by,createPrayerRequest:P2,createWorkshop:yy,deleteAviso:E2,deleteChurchLogo:I2,deleteEvent:b2,deleteEventFood:_2,deleteEventFoods:j2,deleteMember:g2,deleteMinistrySchedule:ao,deletePhoto:R2,deletePlaylistMusica:T2,deleteWorkshop:xy,getAvisos:vy,getAvisosWithReadStatus:io,getChurchSetting:_y,getChurchSettings:$2,getEventFoods:fy,getEventParticipants:N2,getEvents:hy,getFamilies:dy,getFamilyByMemberId:uy,getMemberById:oy,getMembers:kr,getMinistrySchedules:xr,getPhotos:jy,getPlaylistMusicas:Id,getPrayerRequests:ky,getScheduleById:p2,getUnreadAvisosCount:wy,getWorkshopRegistrations:$d,getWorkshops:jr,loginMember:cy,markAvisoAsRead:Ad,registerEventParticipant:Od,registerWorkshopParticipant:so,searchMembers:Pd,subscribeToTable:bn,unregisterEventParticipant:py,unregisterWorkshopParticipant:Dd,updateChurchSetting:Ny,updateEvent:w2,updateEventFood:my,updateFamily:x2,updateMember:ly,updateMinistrySchedule:no,updatePhoto:D2,updatePlaylistMusica:C2,updateWorkshop:Rd,uploadChurchLogo:A2,uploadPhoto:O2},Symbol.toStringTag,{value:"Module"}));function Sy({value:t,onChange:e,label:r,disabled:n=!1}){const[a,s]=w.useState(!1),[o,l]=w.useState("month"),[d,u]=w.useState(t?oe(t):new Date),[h,f]=w.useState(()=>{if(!t)return"";try{return B(oe(t),"dd/MM/yyyy")}catch{return""}}),g=y=>{const S=y.replace(/\D/g,"");return S.length<=2?S:S.length<=4?`${S.slice(0,2)}/${S.slice(2)}`:`${S.slice(0,2)}/${S.slice(2,4)}/${S.slice(4,8)}`},v=y=>{const S=y.replace(/\D/g,"");if(S.length!==8)return null;const C=S.slice(0,2),N=S.slice(2,4),E=S.slice(4,8),P=new Date(E,N-1,C);return P.getDate()!==parseInt(C)||P.getMonth()!==parseInt(N)-1?null:`${E}-${N}-${C}`},k=y=>{const S=g(y.target.value);if(f(S),S.length===10){const C=v(S);C&&(e(C),u(oe(C)))}},_=y=>{e(y),f(B(oe(y),"dd/MM/yyyy")),s(!1)},j=()=>{const y=Ep(d),S=Sp(d),C=jp(y,{weekStartsOn:1}),N=Cp(S,{weekStartsOn:1}),E="d",P=[];let L=[],A=C;for(;A<=N;){for(let ee=0;ee<7;ee++){const le=A,se=Dp(A,y),Oe=$p(A),ie=t&&B(oe(t),"yyyy-MM-dd")===B(le,"yyyy-MM-dd");L.push(i.jsx("div",{onClick:()=>{n||_(B(le,"yyyy-MM-dd"))},className:`
                            aspect-square flex items-center justify-center p-2 cursor-pointer text-base
                            ${se?"text-gray-900 dark:text-white":"text-gray-300 dark:text-gray-600"}
                            ${Oe&&!ie?"bg-gray-200 dark:bg-gray-700 rounded-full font-bold":""}
                            ${ie?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full font-bold":""}
                            ${!Oe&&!ie?"hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full":""}
                        `,children:B(A,E)},A)),A=kp(A,1)}P.push(i.jsx("div",{className:"grid grid-cols-7",children:L},A)),L=[]}return i.jsx("div",{children:P})},x=()=>{const y=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=d.getMonth();return i.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map((C,N)=>i.jsx("button",{type:"button",onClick:()=>{u(new Date(d.getFullYear(),N,1)),l("day")},className:`
                            p-3 rounded-lg text-center cursor-pointer transition-colors
                            ${S===N?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}
                        `,children:C},C))})},p=()=>{const y=d.getFullYear(),S=y-50,C=Array.from({length:101},(N,E)=>S+E);return i.jsx("div",{className:"grid grid-cols-3 gap-3 max-h-64 overflow-y-auto",children:C.map(N=>i.jsx("button",{type:"button",onClick:()=>{u(new Date(N,d.getMonth(),1)),l("month")},className:`
                            p-3 rounded-lg text-center cursor-pointer transition-colors
                            ${y===N?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}
                        `,children:N},N))})};return i.jsxs("div",{className:"relative",children:[r&&i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:h,onChange:k,onFocus:()=>!n&&s(!0),disabled:n,placeholder:"DD/MM/AAAA",maxLength:10,className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed"}),i.jsx("button",{type:"button",onClick:()=>!n&&s(!a),disabled:n,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),i.jsxs("div",{className:"absolute z-50 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 border border-gray-200 dark:border-gray-700 w-full min-w-[320px]",children:[i.jsxs("div",{className:"flex justify-center mb-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>l("day"),className:`px-6 py-2 text-sm font-medium transition-colors ${o==="day"?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:"Dia"}),i.jsx("button",{type:"button",onClick:()=>l("month"),className:`px-6 py-2 text-sm font-medium transition-colors ${o==="month"?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:"Mês"}),i.jsx("button",{type:"button",onClick:()=>l("year"),className:`px-6 py-2 text-sm font-medium transition-colors ${o==="year"?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:"Ano"})]}),o==="day"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:B(d,"MMMM",{locale:Me})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>u(new Date(d.getFullYear(),d.getMonth()-1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(wp,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{type:"button",onClick:()=>u(new Date(d.getFullYear(),d.getMonth()+1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(to,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})]}),i.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mn","Tu","We","Th","Fr","Sa","Su"].map(y=>i.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2",children:y},y))}),j()]}),o==="month"&&x(),o==="year"&&p()]})]})]})}const Ur=({isOpen:t,onClose:e,title:r,children:n,maxWidth:a="max-w-lg",showCloseButton:s=!0,closeOnOverlayClick:o=!0})=>(w.useEffect(()=>{},[t]),t?i.jsxs("div",{className:"fixed z-[100] flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100vh",paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)",paddingLeft:"env(safe-area-inset-left, 0px)",paddingRight:"env(safe-area-inset-right, 0px)"},children:[i.jsx("div",{className:"absolute bg-black/60 backdrop-blur-sm",style:{top:"env(safe-area-inset-top, 0px)",left:"env(safe-area-inset-left, 0px)",right:"env(safe-area-inset-right, 0px)",bottom:"env(safe-area-inset-bottom, 0px)"},onClick:o?e:void 0}),i.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:i.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full ${a} flex flex-col`,style:{maxHeight:"70vh"},onClick:l=>l.stopPropagation(),children:[(r||s)&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[r&&i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r}),s&&i.jsx("button",{onClick:e,className:"ml-auto p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:n})]})})]}):null);/*! Capacitor: https://capacitorjs.com/ - MIT License */var Sa;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Sa||(Sa={}));class wc extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const L2=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},M2=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>e!==null?e.name:L2(t),s=()=>a()!=="web",o=f=>{const g=u.get(f);return!!(g!=null&&g.platforms.has(a())||l(f))},l=f=>{var g;return(g=r.PluginHeaders)===null||g===void 0?void 0:g.find(v=>v.name===f)},d=f=>t.console.error(f),u=new Map,h=(f,g={})=>{const v=u.get(f);if(v)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),v.proxy;const k=a(),_=l(f);let j;const x=async()=>(!j&&k in g?j=typeof g[k]=="function"?j=await g[k]():j=g[k]:e!==null&&!j&&"web"in g&&(j=typeof g.web=="function"?j=await g.web():j=g.web),j),p=(P,L)=>{var A,ee;if(_){const le=_==null?void 0:_.methods.find(se=>L===se.name);if(le)return le.rtype==="promise"?se=>r.nativePromise(f,L.toString(),se):(se,Oe)=>r.nativeCallback(f,L.toString(),se,Oe);if(P)return(A=P[L])===null||A===void 0?void 0:A.bind(P)}else{if(P)return(ee=P[L])===null||ee===void 0?void 0:ee.bind(P);throw new wc(`"${f}" plugin is not implemented on ${k}`,Sa.Unimplemented)}},y=P=>{let L;const A=(...ee)=>{const le=x().then(se=>{const Oe=p(se,P);if(Oe){const ie=Oe(...ee);return L=ie==null?void 0:ie.remove,ie}else throw new wc(`"${f}.${P}()" is not implemented on ${k}`,Sa.Unimplemented)});return P==="addListener"&&(le.remove=async()=>L()),le};return A.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:P,writable:!1,configurable:!1}),A},S=y("addListener"),C=y("removeListener"),N=(P,L)=>{const A=S({eventName:P},L),ee=async()=>{const se=await A;C({eventName:P,callbackId:se},L)},le=new Promise(se=>A.then(()=>se({remove:ee})));return le.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ee()},le},E=new Proxy({},{get(P,L){switch(L){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _?N:S;case"removeListener":return C;default:return y(L)}}});return n[f]=E,u.set(f,{name:f,proxy:E,platforms:new Set([...Object.keys(g),..._?[k]:[]])}),E};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=a,r.handleError=d,r.isNativePlatform=s,r.isPluginAvailable=o,r.registerPlugin=h,r.Exception=wc,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},U2=t=>t.Capacitor=M2(t),Ea=U2(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Wu=Ea.registerPlugin;class Ey{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const a=this.listeners[e];if(!a){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}a.forEach(s=>s(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Ea.Exception(e,Sa.Unimplemented)}unavailable(e="not available"){return new Ea.Exception(e,Sa.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const a=n.indexOf(r);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Wm=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qm=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class F2 extends Ey{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[a,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=qm(a).trim(),s=qm(s).trim(),r[a]=s}),r}async setCookie(e){try{const r=Wm(e.key),n=Wm(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${s}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Wu("CapacitorCookies",{web:()=>new F2});const z2=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(t)}),W2=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,s,o)=>(a[s]=t[e[o]],a),{})},q2=(t,e=!0)=>t?Object.entries(t).reduce((n,a)=>{const[s,o]=a;let l,d;return Array.isArray(o)?(d="",o.forEach(u=>{l=e?encodeURIComponent(u):u,d+=`${s}=${l}&`}),d.slice(0,-1)):(l=e?encodeURIComponent(o):o,d=`${s}=${l}`),`${n}&${d}`},"").substr(1):null,B2=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),a=W2(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))s.set(o,l);r.body=s.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,d)=>{s.append(d,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);r.body=s;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class H2 extends Ey{async request(e){const r=B2(e,e.webFetchExtra),n=q2(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,s=await fetch(a,r),o=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};o.includes("application/json")&&(l="json");let d,u;switch(l){case"arraybuffer":case"blob":u=await s.blob(),d=await z2(u);break;case"json":d=await s.json();break;case"document":case"text":default:d=await s.text()}const h={};return s.headers.forEach((f,g)=>{h[g]=f}),{data:d,headers:h,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Wu("CapacitorHttp",{web:()=>new H2});const pn=Wu("PushNotifications",{}),V2=async t=>{if(!Ea.isNativePlatform()){console.log("Push notifications only work on native platforms");return}console.log("🔔 Initializing push notifications for member:",t);try{let e=await pn.checkPermissions();if(console.log("📱 Permission status:",e),e.receive==="prompt"&&(console.log("🔔 Requesting permissions..."),e=await pn.requestPermissions(),console.log("📱 Permission after request:",e)),e.receive!=="granted"){console.log("❌ Push notification permission denied");return}console.log("🎧 Setting up push notification listeners..."),await pn.addListener("registration",async r=>{console.log("✅ Push registration success!"),console.log("🔑 Token:",r.value),t&&(console.log("💾 Saving token to Supabase..."),await K2(t,r.value))}),await pn.addListener("registrationError",r=>{console.error("🔴 Registration error:",JSON.stringify(r))}),await pn.addListener("pushNotificationReceived",r=>{console.log("📬 Push notification received:",r)}),await pn.addListener("pushNotificationActionPerformed",r=>{console.log("👆 Push notification action performed:",r),J2(r)}),console.log("✅ Registering with APNs/FCM..."),await pn.register()}catch(e){console.error("Error initializing push notifications:",e)}},K2=async(t,e)=>{try{const r=Ea.getPlatform();console.log("📱 Platform:",r),console.log("👤 Member ID:",t),console.log("🔑 Token:",e);const{data:n,error:a}=await $.from("device_tokens").select("*").eq("token",e).maybeSingle();if(a)throw console.error("❌ Error checking existing token:",a),a;if(n){console.log("🔄 Token already exists, updating...");const{error:s}=await $.from("device_tokens").update({member_id:t,platform:r,updated_at:new Date().toISOString()}).eq("token",e);if(s)throw console.error("❌ Error updating token:",s),s;console.log("✅ Token updated successfully!")}else{console.log("➕ Inserting new token...");const{error:s}=await $.from("device_tokens").insert({member_id:t,token:e,platform:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(s)throw console.error("❌ Error inserting token:",s),s;console.log("✅ New device token saved successfully!")}}catch(r){console.error("❌ Error saving device token:",r)}},J2=t=>{const e=t.notification.data;e.type==="aviso"?window.location.hash="#avisos":e.type==="evento"&&(window.location.hash="#eventos")},Y2=async t=>{try{const e=Ea.getPlatform();await $.from("device_tokens").delete().eq("member_id",t).eq("platform",e),console.log("Device token removed successfully")}catch(e){console.error("Error removing device token:",e)}};function G2(t){w.useEffect(()=>{if(t){const e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[t])}const Bm=[{texto:"Porque Deus amou o mundo de tal maneira que deu o seu Filho unigênito, para que todo aquele que nele crê não pereça, mas tenha a vida eterna.",referencia:"João 3:16"},{texto:"Tudo posso naquele que me fortalece.",referencia:"Filipenses 4:13"},{texto:"O Senhor é o meu pastor, nada me faltará.",referencia:"Salmos 23:1"},{texto:"Confia no Senhor de todo o teu coração e não te estribes no teu próprio entendimento.",referencia:"Provérbios 3:5"},{texto:"Ainda que eu andasse pelo vale da sombra da morte, não temeria mal algum, porque tu estás comigo.",referencia:"Salmos 23:4"},{texto:"Entrega o teu caminho ao Senhor; confia nele, e ele o fará.",referencia:"Salmos 37:5"},{texto:"Mas os que esperam no Senhor renovarão as suas forças; subirão com asas como águias.",referencia:"Isaías 40:31"},{texto:"E sabemos que todas as coisas contribuem juntamente para o bem daqueles que amam a Deus.",referencia:"Romanos 8:28"},{texto:"O Senhor é a minha luz e a minha salvação; a quem temerei?",referencia:"Salmos 27:1"},{texto:"Não temas, porque eu sou contigo; não te assombres, porque eu sou o teu Deus.",referencia:"Isaías 41:10"},{texto:"Buscai primeiro o reino de Deus, e a sua justiça, e todas estas coisas vos serão acrescentadas.",referencia:"Mateus 6:33"},{texto:"Lançando sobre ele toda a vossa ansiedade, porque ele tem cuidado de vós.",referencia:"1 Pedro 5:7"},{texto:"A alegria do Senhor é a vossa força.",referencia:"Neemias 8:10"},{texto:"Eu sou o caminho, e a verdade, e a vida. Ninguém vem ao Pai senão por mim.",referencia:"João 14:6"},{texto:"Grande é o Senhor e muito digno de ser louvado.",referencia:"Salmos 48:1"},{texto:"Eis que estou convosco todos os dias, até à consumação dos séculos.",referencia:"Mateus 28:20"},{texto:"O amor nunca falha.",referencia:"1 Coríntios 13:8"},{texto:"Porque onde estiverem dois ou três reunidos em meu nome, aí estou eu no meio deles.",referencia:"Mateus 18:20"},{texto:"Alegrai-vos sempre no Senhor; outra vez digo, alegrai-vos.",referencia:"Filipenses 4:4"},{texto:"Bem-aventurados os limpos de coração, porque eles verão a Deus.",referencia:"Mateus 5:8"}],Q2=({currentMember:t,events:e=[],avisos:r=[],onAddMember:n,onLogout:a})=>{var Th,Ph,Oh,Rh,Dh,$h,Ah,Ih,Lh,Mh,Uh,Fh,zh,Wh,qh,Bh,Hh,Vh,Kh,Jh,Yh,Gh,Qh,Xh;const[s,o]=w.useState(t),[l,d]=w.useState(!1),[u,h]=w.useState(!1),f=c=>{if(!c)return null;const m=new Date,b=new Date(c);let T=m.getFullYear()-b.getFullYear();const O=m.getMonth()-b.getMonth();return(O<0||O===0&&m.getDate()<b.getDate())&&T--,T},g=c=>c?c.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2):"??",v=[{id:"home",label:"Feed",icon:fk},{id:"perfil",label:"Família",icon:De},{id:"eventos",label:"Eventos",icon:Ee},{id:"avisos",label:"Avisos",icon:ic},{id:"playlistzoe",label:"Playlist Zoe",icon:null},{id:"configuracoes",label:"Configurações",icon:ym}],k={louvor:{id:"louvor",label:"Louvor",icon:ke},"líder de louvor":{id:"louvor",label:"Louvor",icon:ke},diaconia:{id:"diaconia",label:"Diaconia",icon:ns},"lider da diaconia":{id:"diaconia",label:"Diaconia",icon:ns},kids:{id:"kids",label:"Kids",icon:Ct},"lider kids":{id:"kids",label:"Kids",icon:Ct},"professor kids":{id:"kids",label:"Kids",icon:Ct},jovens:{id:"jovens",label:"Jovens",icon:nr},jovem:{id:"jovens",label:"Jovens",icon:nr},"lider jovens":{id:"jovens",label:"Jovens",icon:nr}},_=w.useMemo(()=>{const c=[...v],m=(s==null?void 0:s.funcoes)||[],b=new Set;return m.forEach(T=>{k[T]&&!b.has(k[T].id)&&(c.push(k[T]),b.add(k[T].id))}),c},[s]),[j,x]=w.useState("home"),[p,y]=w.useState(new Date),[S,C]=w.useState("list");w.useState("month");const[N,E]=w.useState(null),[P,L]=w.useState(!1),[A,ee]=w.useState({}),[le,se]=w.useState(!1),[Oe,ie]=w.useState(""),[tt,Qt]=w.useState({}),[M,H]=w.useState(!1),[V,ce]=w.useState({nome:"",descricao:""}),[ge,Xt]=w.useState([]),[F,It]=w.useState(null),[Zt,$r]=w.useState(!1),[qu,cl]=w.useState(!1),[He,La]=w.useState({nome:"",descricao:"",membrosIds:[]}),[de,fr]=w.useState({nome:"",telefone:"",dataNascimento:"",idade:"",genero:"",funcoes:[]}),[ei,Cy]=w.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[Bu,dl]=w.useState([]),[Nt,ul]=w.useState([]),[Hu,hl]=w.useState(!1),[Se,dn]=w.useState({nome:"",telefone:"",nascimento:"",genero:"",funcoes:[]}),[St,ti]=w.useState([]),[rt,ri]=w.useState([]),[fl,ml]=w.useState([]),[aS,Ty]=w.useState([]),[sS,Vu]=w.useState(!1),[J,gl]=w.useState(null),[ni,ai]=w.useState(!1),[Ku,Mn]=w.useState([]),[Ju,pl]=w.useState(!1),[Yu,yl]=w.useState(""),[Gu,Ma]=w.useState([]),[si,Qu]=w.useState(0),[un,Xu]=w.useState([]),[Zu,xl]=w.useState(!1),[eh,vl]=w.useState(""),[th,Ua]=w.useState([]),[rh,wl]=w.useState(!1),[nh,Un]=w.useState(!1),[ii,oi]=w.useState(null),[Fa,Py]=w.useState(!1),[ah,za]=w.useState([]),[Fn,Oy]=w.useState([]),[sh,Wa]=w.useState(!1),[li,ci]=w.useState(null),[ih,di]=w.useState(!1),[te,bl]=w.useState(null),[ui,kl]=w.useState(!1),[er,oh]=w.useState([]),[lh,hi]=w.useState(!1),[q,Re]=w.useState({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]}),[D,xe]=w.useState({data:"",horario:"19:00",categoria:"culto",descricao:"",local:"",observacoes:"",membros_ids:[],musicas:[],instrumentos:{},newMusicaTemp:""}),[ch,jl]=w.useState(!1),[mr,qa]=w.useState({nome:"",artista:"",link:""}),[dh,_l]=w.useState(!1),[uh,Nl]=w.useState(!1),[gr,Ry]=w.useState([]),[Ar,Dy]=w.useState([]),[re,$y]=w.useState({criancas:[],professores:[],all:[]}),[hh,Sl]=w.useState(!1),[fh,fi]=w.useState(!1),[El,Ba]=w.useState(null),[Y,Et]=w.useState({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),[mh,mi]=w.useState(!1),[gh,ph]=w.useState(!1),[yh,Cl]=w.useState(!1),[xh,Tl]=w.useState(!1),[nt,Ay]=w.useState([]),[pr,Iy]=w.useState(null),[vh,wh]=w.useState(!1),[tr,bh]=w.useState(0),[kh,Ly]=w.useState(0),[jh,My]=w.useState(0),[_h,Ha]=w.useState(!1),[Nh,gi]=w.useState(!1);G2(P||M||Zt||qu||Hu||ni||Ju||Zu||rh||nh||sh||ih||lh||ch||dh||uh||hh||fh||mh||gh||yh||xh||vh||_h||Nh||l);const[Sh,pi]=w.useState(!1),[Uy,Fy]=w.useState(()=>{const c=localStorage.getItem("dailyMusic");if(c){const m=JSON.parse(c),b=B(new Date,"yyyy-MM-dd");if(m.date===b)return m.music}return null}),[zy,Wy]=w.useState(()=>{const c=localStorage.getItem("dailyVerse");if(c){const m=JSON.parse(c),b=B(new Date,"yyyy-MM-dd");if(m.date===b)return m.verse}return null}),[ue,yr]=w.useState({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]}),[qy,By]=w.useState(()=>{const c=localStorage.getItem("escalasKids");return c?JSON.parse(c):[]}),[Ye,Va]=w.useState(null),[at,Ka]=w.useState({turmas:[],data:"",horario:"",professoresSelecionados:[]});w.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),m=b=>{Cy(b.matches)};return c.addEventListener("change",m),()=>c.removeEventListener("change",m)},[]),w.useEffect(()=>{const c=()=>{window.dispatchEvent(new Event("resize"))};c(),setTimeout(c,100),setTimeout(c,300)},[]),w.useEffect(()=>(t!=null&&t.id&&V2(t.id),()=>{t!=null&&t.id&&Y2(t.id)}),[t==null?void 0:t.id]),w.useEffect(()=>{const c=async()=>{if(t!=null&&t.id)try{const b=await oy(s.id);b&&(o(b),localStorage.setItem("current_member",JSON.stringify(b)))}catch(b){console.error("Erro ao recarregar dados do membro:",b)}};c();const m=setInterval(c,1e4);return()=>clearInterval(m)},[t==null?void 0:t.id]),w.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{const m=await uy(s.id);if(m){const T=(await kr()).filter(O=>{var I;return(I=m.membros_ids)==null?void 0:I.includes(O.id)});It({...m,membros:T})}}catch(m){console.error("Erro ao carregar família:",m)}})()},[s==null?void 0:s.id]),w.useEffect(()=>{const c=async()=>{if(s!=null&&s.id)try{const b=await wy(s.id);Qu(b);const T=await io(s.id);Xu(T||[])}catch(b){console.error("Erro ao carregar avisos:",b)}};c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[s==null?void 0:s.id,j]),w.useEffect(()=>{(async()=>{if(j==="avisos"&&(s!=null&&s.id)&&un.length>0)try{const m=un.filter(b=>b.aviso_notifications&&b.aviso_notifications.length>0&&!b.aviso_notifications[0].lido);for(const b of m)await Ad(b.id,s.id);if(m.length>0){const b=await io(s.id);Xu(b||[]),Qu(0)}}catch(m){console.error("Erro ao marcar avisos como lidos:",m)}})()},[j,un.length,s==null?void 0:s.id]),w.useEffect(()=>{(async()=>{try{const m=await Id();ul(m||[])}catch(m){console.error("Erro ao carregar playlist:",m),ul([])}})()},[]),w.useEffect(()=>{(async()=>{var m;if(ni&&J&&((m=J.membros_ids)==null?void 0:m.length)>0)try{const T=(await kr()).filter(O=>J.membros_ids.includes(O.id));Mn(T)}catch(b){console.error("Erro ao carregar membros da escala:",b),Mn([])}else Mn([])})()},[ni,J]),w.useEffect(()=>{const c=async()=>{if(Oe.trim().length>=2)try{const b=await Pd(Oe.trim());dl(b)}catch(b){console.error("Erro ao buscar membros:",b),dl([])}else dl([])},m=setTimeout(()=>{c()},300);return()=>clearTimeout(m)},[Oe]),w.useEffect(()=>{(async()=>{if(["diaconia","louvor","kids","jovens"].includes(j)){const m=(t==null?void 0:t.funcoes)||[];let b=!1;if(j==="louvor"?b=m.some(T=>T.toLowerCase().includes("louvor")):j==="diaconia"?b=m.some(T=>T.toLowerCase().includes("diaconia")||T.toLowerCase().includes("diácono")):j==="kids"?b=m.some(T=>T.toLowerCase().includes("kids")):j==="jovens"&&(b=m.some(T=>T.toLowerCase().includes("jovens")||T.toLowerCase().includes("jovem"))),!b){console.log(`Membro não tem permissão para ver escalas de ${j}. Funções: ${m.join(", ")}`);return}Vu(!0);try{const T=await xr(j);switch(console.log(`Escalas carregadas para ${j}:`,T),j){case"diaconia":ti(T);const I=(await kr()).filter(We=>{var dt,Lt,hn;return((dt=We.funcoes)==null?void 0:dt.includes("diaconia"))||((Lt=We.funcoes)==null?void 0:Lt.includes("líder da diaconia"))||((hn=We.funcoes)==null?void 0:hn.includes("lider da diaconia"))});Dy(I);break;case"louvor":console.log("Definindo louvorSchedules:",T),ri(T);const Q=(await kr()).filter(We=>{var dt,Lt,hn;return((dt=We.funcoes)==null?void 0:dt.includes("louvor"))||((Lt=We.funcoes)==null?void 0:Lt.includes("líder de louvor"))||((hn=We.funcoes)==null?void 0:hn.includes("lider de louvor"))});console.log("Músicos de louvor:",Q),Ry(Q);break;case"kids":ml(T);const be=await kr(),st=be.filter(We=>{const dt=f(We.nascimento);return dt!==null&&dt<=12}),Ge=be.filter(We=>(We.funcoes||(We.funcao?[We.funcao]:[])).some(Lt=>Lt==="professor kids"||Lt==="lider kids"));console.log("Professores Kids encontrados:",Ge),console.log("Todos os membros Kids:",be),$y({criancas:st,professores:Ge,all:be});break;case"jovens":Ty(T);break}}catch(T){console.error(`Erro ao carregar escalas de ${j}:`,T)}finally{Vu(!1)}}})()},[j,t]),w.useEffect(()=>{(async()=>{if(j==="galeria"||j==="home")try{const m=await jy();Ay(m||[])}catch(m){console.error("Erro ao carregar fotos:",m)}})()},[j]),w.useEffect(()=>{(async()=>{if(j==="jovens"&&t){const b=(t.funcoes||[]).includes("lider jovens");Py(b);try{const T=await jr();za(T||[]);const I=(await kr()).filter(z=>{const Q=f(z.nascimento),be=z.funcoes||(z.funcao?[z.funcao]:[]);return Q!==null&&Q>=13&&Q<=30||be.includes("jovem")});Oy(I)}catch(T){console.error("Erro ao carregar dados de jovens:",T)}}})()},[j,t]),w.useEffect(()=>{let c=window.scrollY;const m=()=>{const b=window.scrollY;b>c&&b>50?h(!0):(b<c||b<=50)&&h(!1),c=b};return window.addEventListener("scroll",m,{passive:!0}),()=>{window.removeEventListener("scroll",m)}},[]);const Pl=w.useMemo(()=>{const c=new Date;return e.filter(m=>{try{const b=oe(m.data);return dc(b,c)}catch{return!1}}).sort((m,b)=>{try{return oe(m.data)-oe(b.data)}catch{return 0}})},[e]);Pl[0];const Eh=w.useMemo(()=>un.slice(0,5),[un]),Ol=async c=>{try{if(c.tipo==="oficina"||c.workshopId){const b=await Qn(c.workshopId,t.id);console.log("Workshop registration check:",c.workshopId,t.id,b),se(b),E(c)}else{const b=await hs(c.id,t.id);if(console.log("Event registration check:",c.id,t.id,b),se(b),c.alimentacao){const T=await fy(c.id);E({...c,comidas:T||[]})}else E(c)}L(!0)}catch(m){console.error("Erro ao buscar dados do evento:",m),E(c),L(!0)}},Hy=async()=>{if(!(!N||!t))try{const c=N.tipo==="oficina"||N.workshopId;if(console.log("handleEventRegistration - selectedEvent:",N),console.log("handleEventRegistration - currentMember.id:",t.id),console.log("handleEventRegistration - isRegistered:",le),c){const m=N.workshopId;if(le){console.log("Cancelando inscrição na oficina:",m,t.id),await Dd(m,t.id);const b=await Qn(m,t.id);console.log("Status após cancelamento (workshop):",b),se(b),alert("Você foi desinscrito da oficina.")}else{console.log("Inscrevendo na oficina:",m,t.id),await so(m,t.id);const b=await Qn(m,t.id);console.log("Status após inscrição (workshop):",b),se(b),alert("Inscrição na oficina confirmada com sucesso!")}}else if(le){console.log("Cancelando inscrição no evento:",N.id,t.id);const m=await py(N.id,t.id);console.log("Resultado do unregister:",m);const b=await hs(N.id,t.id);console.log("Status após cancelamento (evento):",b),se(b),alert("Você foi desinscrito do evento.")}else{console.log("Inscrevendo no evento:",N.id,t.id),await Od(N.id,t.id);const m=await hs(N.id,t.id);console.log("Status após inscrição (evento):",m),se(m),alert("Inscrição confirmada com sucesso!")}}catch(c){console.error("Erro ao processar inscrição:",c),alert("Erro ao processar inscrição. Tente novamente.")}},Vy=async()=>{var c;if(!(!N||!t))try{const m=N.comidas.filter(O=>A[O.nome]).map(O=>my(O.id,{membro_id:s.id,responsavel:s.nome}));await Promise.all(m);const b={...N,comidas:(c=N.comidas)==null?void 0:c.map(O=>A[O.nome]?{...O,responsavel:s.nome,membro_id:s.id,member:{id:s.id,nome:s.nome}}:O)};E(b),ee({});const T=Object.keys(A).filter(O=>A[O]).join(", ");alert(`Seleção confirmada! Você se comprometeu a trazer: ${T}`)}catch(m){console.error("Erro ao confirmar seleção de comidas:",m),alert("Erro ao confirmar seleção. Tente novamente.")}},Ch=c=>{if(vl(c),!F||!F.membros){Ua([]);return}if(c.trim().length>=2){const m=F.membros.filter(b=>b.nome.toLowerCase().includes(c.toLowerCase())&&b.id!==s.id);Ua(m)}else{const m=F.membros.filter(b=>b.id!==s.id);Ua(m)}},Ky=async c=>{try{if(N.tipo==="oficina"||N.workshopId){if(await Qn(N.workshopId,c.id)){alert(`${c.nome} já está inscrito(a) nesta oficina.`);return}await so(N.workshopId,c.id),alert(`${c.nome} foi inscrito(a) na oficina com sucesso!`)}else{if(await hs(N.id,c.id)){alert(`${c.nome} já está inscrito(a) neste evento.`);return}await Od(N.id,c.id),alert(`${c.nome} foi inscrito(a) no evento com sucesso!`)}xl(!1),vl(""),Ua([])}catch(m){console.error("Erro ao inscrever pessoa:",m),alert("Erro ao inscrever pessoa. Tente novamente.")}},Jy=()=>{const c=Ep(p),m=Sp(p),b=jp(c,{weekStartsOn:1}),T=Cp(m,{weekStartsOn:1}),O="d",I=[];let z=[],Q=b;for(;Q<=T;){for(let be=0;be<7;be++){const st=Q,Ge=e.filter(hn=>{try{const ox=oe(hn.data);return B(ox,"yyyy-MM-dd")===B(st,"yyyy-MM-dd")}catch{return!1}}),We=Dp(Q,c),dt=$p(Q),Lt=Ge.length>0;z.push(i.jsx("div",{onClick:()=>{Lt&&Ol(Ge[0])},className:`
                            aspect-square flex items-center justify-center p-2 cursor-pointer
                            ${We?"text-gray-900 dark:text-white":"text-gray-300 dark:text-gray-600"}
                            ${dt?"bg-gray-900 dark:bg-white text-white dark:text-black rounded-full font-bold":""}
                            ${Lt&&!dt?"text-red-600 dark:text-red-400 font-semibold":""}
                        `,children:B(Q,O)},Q)),Q=kp(Q,1)}I.push(i.jsx("div",{className:"grid grid-cols-7",children:z},Q)),z=[]}return i.jsx("div",{children:I})},Yy=()=>{var b;if(!N)return null;const c=oe(N.data),m=N.alimentacao&&((b=N.comidas)==null?void 0:b.length)>0;return i.jsx(Ur,{isOpen:P,onClose:()=>{L(!1),E(null),ee({})},title:i.jsxs("div",{children:[N.tipo==="oficina"&&"🎓 ",N.nome,N.tipo==="oficina"&&i.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm",children:"Oficina"})]}),maxWidth:"max-w-2xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[i.jsx(fn,{className:"h-5 w-5 mr-2"}),i.jsx("span",{style:{textTransform:"capitalize"},children:B(c,"EEEE, d 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Me})})]}),N.local&&i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[i.jsx(as,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:N.local})]}),N.descricao&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Descrição"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:N.descricao})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("button",{onClick:Hy,className:`w-full px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center ${le?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:le?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-5 w-5 mr-2"}),"Cancelar Inscrição"]}):i.jsxs(i.Fragment,{children:[i.jsx(gm,{className:"h-5 w-5 mr-2"}),"Inscrever-se"]})}),le&&i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2 text-center",children:"✓ Você está inscrito neste evento"}),i.jsxs("button",{onClick:()=>{xl(!0),Ch("")},className:"w-full px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white border border-blue-700",children:[i.jsx(De,{className:"h-5 w-5 mr-2"}),"Inscrever Familiar"]})]}),m&&i.jsxs("div",{className:"mt-6 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:"🍽️ Alimentação - Escolha o que você pode trazer"}),i.jsx("div",{className:"space-y-2",children:N.comidas.map((T,O)=>{const I=T.responsavel&&T.responsavel!=="",z=T.membro_id===(t==null?void 0:t.id);return i.jsxs("label",{className:`
                                                flex items-center p-3 rounded border cursor-pointer transition-all
                                                ${I&&!z?"bg-gray-100 dark:bg-black border-gray-300 dark:border-gray-600 opacity-50 cursor-not-allowed":z?"bg-green-100 dark:bg-green-900/30 border-green-500 dark:border-green-600":"bg-white dark:bg-black border-gray-300 dark:border-gray-600 hover:border-amber-500 dark:hover:border-amber-400"}
                                            `,children:[i.jsx("input",{type:"checkbox",checked:A[T.nome]||z,onChange:Q=>{(!I||z)&&ee({...A,[T.nome]:Q.target.checked})},disabled:I&&!z,className:"h-5 w-5 text-amber-600 rounded border-gray-300 focus:ring-amber-500"}),i.jsxs("span",{className:"ml-3 flex-1",children:[i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:T.nome}),I&&i.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:["(",z?"Você escolheu":`Escolhido por ${T.responsavel}`,")"]})]}),I?i.jsx(gm,{className:"h-5 w-5 text-green-500"}):i.jsx(mk,{className:"h-5 w-5 text-gray-400"})]},O)})}),Object.keys(A).filter(T=>A[T]).length>0&&i.jsx("button",{onClick:Vy,className:"mt-4 w-full bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Confirmar Seleção"})]})]})})},Gy=((Th=s==null?void 0:s.funcoes)==null?void 0:Th.includes("líder de louvor"))||((Ph=s==null?void 0:s.funcoes)==null?void 0:Ph.includes("lider de louvor")),Qy=((Oh=s==null?void 0:s.funcoes)==null?void 0:Oh.includes("lider da diaconia"))||((Rh=s==null?void 0:s.funcoes)==null?void 0:Rh.includes("líder da diaconia")),Xy=((Dh=s==null?void 0:s.funcoes)==null?void 0:Dh.includes("lider kids"))||(($h=s==null?void 0:s.funcoes)==null?void 0:$h.includes("líder kids")),Zy=async()=>{try{const c=Object.entries(D.instrumentos||{}).filter(([st,Ge])=>Ge).map(([st,Ge])=>({id:Ge,instrumento:st})),{instrumentos:m,newMusicaTemp:b,categoria:T,descricao:O,local:I,membros_ids:z,...Q}=D;await ro({data:D.data,horario:D.horario,tipo:T,observacoes:D.observacoes,musicas:D.musicas||[],ministerio:"louvor",musicos:c});const be=await xr("louvor");ri(be),xe({data:"",horario:"19:00",categoria:"culto",descricao:"",local:"",observacoes:"",membros_ids:[],musicas:[],instrumentos:{},newMusicaTemp:""}),wl(!1),alert("Escala criada com sucesso!")}catch(c){console.error("Erro ao criar escala:",c),alert("Erro ao criar escala")}},ex=async()=>{try{const c=Object.entries(D.instrumentos||{}).filter(([st,Ge])=>Ge).map(([st,Ge])=>({id:Ge,instrumento:st})),{instrumentos:m,newMusicaTemp:b,categoria:T,descricao:O,local:I,membros_ids:z,...Q}=D;await no(ii.id,{data:D.data,horario:D.horario,tipo:T,observacoes:D.observacoes,musicas:D.musicas||[],ministerio:"louvor",musicos:c});const be=await xr("louvor");ri(be),Un(!1),oi(null),alert("Escala atualizada com sucesso!")}catch(c){console.error("Erro ao atualizar escala:",c),alert("Erro ao atualizar escala")}},tx=async c=>{if(confirm("Deseja realmente deletar esta escala?"))try{await ao(c,"louvor");const m=await xr("louvor");ri(m),alert("Escala deletada com sucesso!")}catch(m){console.error("Erro ao deletar escala:",m),alert("Erro ao deletar escala")}},rx=async c=>{c.preventDefault();try{const m=Nt.length>0?Math.max(...Nt.map(O=>O.ordem||0)):0,b={titulo:mr.nome,artista:mr.artista,link:mr.link,ordem:m+1,ativa:!0};await by(b);const T=await Id();ul(T||[]),jl(!1),qa({nome:"",artista:"",link:""}),alert("Música adicionada com sucesso!")}catch(m){console.error("Erro ao adicionar música:",m),alert("Erro ao adicionar música")}},nx=async()=>{try{const c={nome:q.nome,descricao:q.descricao,data:`${q.data}T${q.horario}:00`,local:q.local,vagas:parseInt(q.vagas),inscritos:parseInt(q.inscritos),quem_pode_se_inscrever:q.quem_pode_se_inscrever};li?(await Rd(li.id,c),alert("Oficina atualizada com sucesso!")):(await yy(c),alert("Oficina criada com sucesso!"));const m=await jr();za(m||[]),Wa(!1),ci(null),Re({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]})}catch(c){console.error("Erro ao salvar oficina:",c),alert("Erro ao salvar oficina")}},ax=async c=>{if(confirm("Deseja realmente deletar esta oficina?"))try{await xy(c),alert("Oficina deletada com sucesso!");const m=await jr();za(m||[]),Wa(!1),ci(null)}catch(m){console.error("Erro ao deletar oficina:",m),alert("Erro ao deletar oficina")}},sx=async c=>{try{if(typeof c.id!="number"){alert("Esta oficina possui um ID inválido. Por favor, entre em contato com o administrador.");return}bl(c);const m=await Qn(c.id,s.id);kl(m);const b=await $d(c.id);oh(b||[]),di(!0)}catch(m){console.error("Erro ao verificar inscrição:",m),alert("Erro ao carregar detalhes da oficina.")}},ix=async()=>{if(!(!te||!s))try{if(ui)await Dd(te.id,s.id),kl(!1),alert("Inscrição cancelada com sucesso!");else{if(er.length>=te.vagas){alert("Não há mais vagas disponíveis para esta oficina.");return}await so(te.id,s.id),kl(!0),alert("Inscrição confirmada com sucesso!")}const c=await jr();za(c);const m=await $d(te.id);oh(m||[])}catch(c){console.error("Erro ao processar inscrição:",c),alert("Erro ao processar inscrição. Tente novamente.")}};return i.jsx("div",{className:`w-full flex flex-col ${ei?"dark":""}`,style:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",overflow:"hidden"},children:i.jsxs("div",{className:"w-full h-full flex flex-col bg-white dark:bg-black overflow-hidden",style:{paddingTop:0,marginTop:"calc(-1 * env(safe-area-inset-top, 0px))"},children:[i.jsx("div",{className:"bg-white dark:bg-black shadow-sm border-b border-gray-200 dark:border-gray-700 shrink-0 z-40",style:{paddingTop:"calc(env(safe-area-inset-top, 44px) + 48px)"},children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>d(!l),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors text-gray-900 dark:text-white",children:i.jsx(bk,{className:"h-6 w-6"})}),i.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Olá, ",((Ah=t==null?void 0:t.nome)==null?void 0:Ah.split(" ")[0])||"Membro","!"]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>pi(!Sh),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors relative flex items-center justify-center text-gray-900 dark:text-white",children:[i.jsx(ic,{className:"h-5 w-5"}),si>0&&i.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1",children:si})]}),Sh&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-x-0 top-0 z-40",style:{bottom:0},onClick:()=>pi(!1)}),i.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-y-auto bg-white dark:bg-black rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Avisos Recentes"})}),i.jsx("div",{className:"p-2",children:Eh.length>0?i.jsx("div",{className:"space-y-2",children:Eh.slice(0,5).map(c=>{var T;const m=(T=c.aviso_notifications)==null?void 0:T[0],b=m&&!m.lido;return i.jsxs("div",{className:`p-3 hover:bg-gray-50 dark:hover:bg-gray-900 rounded-lg cursor-pointer transition-colors border-l-4 ${b?"bg-blue-50 dark:bg-blue-900/20 border-blue-500":"bg-transparent border-transparent"}`,onClick:()=>{pi(!1),x("avisos"),b&&Ad(c.id,t.id).then(()=>{io(t.id).then(O=>{setAvisos(O)})})},children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white flex-1",children:c.titulo}),b&&i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:c.mensagem}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:B(oe(c.created_at),"d 'de' MMM",{locale:Me})})]},c.id)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ic,{className:"w-8 h-8 mx-auto text-gray-300 dark:text-gray-700 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhum aviso recente"})]})}),i.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>{pi(!1),x("avisos")},className:"w-full text-center text-sm text-gray-900 dark:text-white font-medium hover:underline",children:"Ver todos os avisos →"})})]})]})]})]})})}),l&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-x-0 top-0 bg-black/50 z-[800]",style:{bottom:0},onClick:()=>d(!1)}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[900] bg-white dark:bg-black rounded-t-3xl shadow-2xl max-h-[70vh] overflow-hidden",style:{paddingBottom:"1rem",paddingLeft:"env(safe-area-inset-left, 0px)",paddingRight:"env(safe-area-inset-right, 0px)"},children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-black rounded-full"})}),i.jsxs("div",{className:"flex items-center space-x-3 mb-6 p-3 bg-gray-100 dark:bg-black rounded-lg",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-bold",children:((Ih=t==null?void 0:t.nome)==null?void 0:Ih.charAt(0))||"M"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t==null?void 0:t.nome}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t!=null&&t.funcoes&&s.funcoes.length>0?s.funcoes.map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(", "):t!=null&&t.funcao?t.funcao.charAt(0).toUpperCase()+t.funcao.slice(1):"Membro"})]})]}),i.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:_.map(c=>{const m=c.icon,b=j===c.id;return i.jsxs("button",{onClick:()=>{x(c.id),d(!1)},className:`relative flex flex-col items-center justify-center p-4 rounded-2xl transition-all ${b?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-lg scale-105":"bg-gray-100 dark:bg-black text-gray-700 dark:text-gray-300 hover:scale-105"}`,children:[c.id==="avisos"&&si>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:si}),c.id==="playlistzoe"?i.jsx("span",{className:"w-7 h-7 mb-2 flex items-center justify-center font-bold text-2xl",children:"Z"}):i.jsx(m,{className:"w-7 h-7 mb-2"}),i.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:c.label})]},c.id)})}),i.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[i.jsx(wk,{className:"h-5 w-5"}),i.jsx("span",{children:"Sair"})]})]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4",style:{paddingLeft:"calc(1rem + env(safe-area-inset-left, 0px))",paddingRight:"calc(1rem + env(safe-area-inset-right, 0px))",paddingBottom:0},children:[j==="home"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:(()=>{let c=zy;if(!c){const m=B(new Date,"yyyy-MM-dd"),b=Math.floor((new Date-new Date(new Date().getFullYear(),0,0))/1e3/60/60/24);c=Bm[b%Bm.length],localStorage.setItem("dailyVerse",JSON.stringify({date:m,verse:c})),Wy(c)}return c?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-lg leading-relaxed italic text-gray-700 dark:text-gray-300",children:['"',c.texto,'"']}),i.jsxs("p",{className:"text-right font-semibold text-gray-900 dark:text-white",children:["- ",c.referencia]})]}):null})()}),nt.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Nossa Programação"}),i.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 max-w-xl mx-auto",children:i.jsxs("div",{className:"relative h-40 sm:h-44 md:h-48 bg-transparent",onTouchStart:c=>Ly(c.targetTouches[0].clientX),onTouchMove:c=>My(c.targetTouches[0].clientX),onTouchEnd:()=>{kh-jh>50&&bh(c=>c===nt.length-1?0:c+1),kh-jh<-50&&bh(c=>c===0?nt.length-1:c-1)},children:[(Lh=nt[tr].url)!=null&&Lh.match(/\.(mp4|webm|ogg)$/i)?i.jsx("video",{src:nt[tr].url,className:"w-full h-full object-cover",controls:!0,playsInline:!0}):i.jsx("img",{src:nt[tr].url,alt:nt[tr].titulo||"Foto do culto",className:"w-full h-full object-cover"}),(nt[tr].titulo||nt[tr].descricao)&&i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[nt[tr].titulo&&i.jsx("p",{className:"text-white font-semibold text-lg",children:nt[tr].titulo}),nt[tr].descricao&&i.jsx("p",{className:"text-gray-200 text-sm mt-1",children:nt[tr].descricao})]})]})})]}),Nt.length>0&&i.jsxs("div",{className:"bg-black rounded-lg shadow-lg p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2 text-white",children:[i.jsx(ke,{className:"w-5 h-5"}),"Ouça Agora"]}),(()=>{let c=Uy;if(!c&&Nt.length>0){c=Nt[Math.floor(Math.random()*Nt.length)];const m=B(new Date,"yyyy-MM-dd");localStorage.setItem("dailyMusic",JSON.stringify({date:m,music:c})),Fy(c)}return c?i.jsxs("div",{className:"bg-black rounded-lg p-4 flex items-center justify-between",style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-lg text-white",children:c.titulo}),c.artista&&i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:c.artista}),c.duracao&&i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:c.duracao})]}),c.link&&i.jsxs("button",{onClick:()=>{let m=c.link;m.includes("youtu.be/")&&(m=`https://www.youtube.com/watch?v=${m.split("youtu.be/")[1].split("?")[0]}`),window.open(m,"_blank","noopener,noreferrer")},className:"px-4 py-2 bg-white text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors flex items-center gap-2 flex-shrink-0",children:[i.jsx(ke,{className:"w-4 h-4"}),"Ouvir Agora"]})]}):null})()]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ee,{className:"w-5 h-5"}),"Próximos Eventos"]}),i.jsx("button",{onClick:()=>x("eventos"),className:"text-sm text-gray-900 dark:text-white hover:underline font-medium",children:"Ver calendário →"})]}),Pl.slice(0,3).length>0?i.jsx("div",{className:"space-y-3",children:Pl.slice(0,3).map(c=>i.jsxs("div",{onClick:()=>Ol(c),className:"p-4 rounded-lg shadow-sm hover:shadow-md cursor-pointer transition-all border-l-4 border-gray-900 dark:border-white hover:scale-[1.02]",style:{backgroundColor:ei?"#1C1C1E":"#ffffff"},children:[i.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[c.tipo==="oficina"&&"🎓 ",c.nome]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 flex items-center gap-1",children:[i.jsx(fn,{className:"w-4 h-4"}),B(oe(c.data),"d 'de' MMMM 'às' HH:mm",{locale:Me})]})]},c.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ee,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-700 mb-2"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum evento agendado"})]})]})]}),j==="eventos"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs("div",{className:"inline-flex rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{onClick:()=>C("list"),className:`px-4 py-2 text-sm font-medium rounded-l-lg transition-colors ${S==="list"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-white dark:bg-black text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900"}`,children:[i.jsx(xk,{className:"h-4 w-4 inline mr-2"}),"Lista"]}),i.jsxs("button",{onClick:()=>C("calendar"),className:`px-4 py-2 text-sm font-medium rounded-r-lg transition-colors ${S==="calendar"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-white dark:bg-black text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900"}`,children:[i.jsx(Ee,{className:"h-4 w-4 inline mr-2"}),"Calendário"]})]})}),S==="calendar"&&i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white capitalize",children:B(p,"MMMM",{locale:Me})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:()=>y(new Date(p.getFullYear(),p.getMonth()-1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(wp,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{onClick:()=>y(new Date(p.getFullYear(),p.getMonth()+1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(to,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})]}),i.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mn","Tu","We","Th","Fr","Sa","Su"].map(c=>i.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2",children:c},c))}),Jy()]}),S==="list"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white px-1",children:"Próximos Eventos"}),e.filter(c=>dc(oe(c.data),new Date)).length>0?e.filter(c=>dc(oe(c.data),new Date)).sort((c,m)=>new Date(c.data)-new Date(m.data)).map(c=>{const m=oe(c.data),b=c.tipo==="oficina";return i.jsx("div",{onClick:()=>Ol(c),className:"rounded-lg shadow-sm p-4 border-l-4 border-gray-900 dark:border-white cursor-pointer hover:shadow-md transition-all",style:{backgroundColor:ei?"#1C1C1E":"#ffffff"},children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:[b&&"🎓 ",c.nome]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mt-2",children:[i.jsx(fn,{className:"h-4 w-4 mr-1"}),i.jsx("span",{style:{textTransform:"capitalize"},children:B(m,"EEEE, d 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Me})})]}),c.local&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mt-1",children:[i.jsx(as,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:c.local})]}),c.descricao&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:c.descricao})]}),b&&i.jsx("span",{className:"ml-3 px-3 py-1 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full text-xs font-medium",children:"Oficina"})]})},c.id)}):i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-8 text-center border border-gray-200 dark:border-gray-700",children:[i.jsx(Ee,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum evento próximo agendado"})]})]})]}),j==="avisos"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Avisos"}),un.length>0?i.jsx("div",{className:"space-y-3",children:un.map(c=>{var T;const m=(T=c.aviso_notifications)==null?void 0:T[0],b=m&&!m.lido;return i.jsxs("div",{className:`p-4 rounded-lg border transition-colors ${b?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-black/50 border-gray-200 dark:border-gray-600"}`,children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[b&&i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),c.titulo]}),b&&i.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded-full",children:"Novo"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.mensagem}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:B(oe(c.data_envio),"dd/MM/yyyy 'às' HH:mm",{locale:Me})}),c.destinatarios&&c.destinatarios.length>0&&i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:["Para: ",c.destinatarios.join(", ")]})]},c.id)})}):i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum aviso disponível"})]})}),j==="aniversarios"&&i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aniversários"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade em desenvolvimento"})]}),j==="diaconia"&&i.jsx("div",{className:"space-y-4",children:Qy?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex gap-3",children:i.jsxs("button",{onClick:()=>{Ba(null),Et({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),Sl(!0)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2",children:[i.jsx(Ut,{className:"w-5 h-5"}),"Montar escala"]})}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Diáconos"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:Ar.length}),i.jsx(ns,{className:"w-8 h-8 text-purple-500"})]})]})}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ee,{className:"w-5 h-5 text-purple-600"}),"Escalas de Diaconia (",(St==null?void 0:St.length)||0,")"]}),!St||St.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:'Clique em "Montar escala" para criar a primeira.'})]}):i.jsx("div",{className:"space-y-4",children:St.slice(0,5).map((c,m)=>{const b=I=>I.charAt(0).toUpperCase()+I.slice(1),T=c.membros_ids||[],O=m===0;return i.jsxs("div",{className:`p-4 rounded-lg border-l-4 cursor-pointer hover:shadow-lg transition-all ${O?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 bg-white dark:bg-black dark:border-gray-600"}`,onClick:()=>{Ba(c),Et({data:c.data,horario:c.horario||"",categoria:c.tipo||c.categoria||"culto",observacoes:c.observacoes||"",diaconosSelecionados:c.membros_ids||[]}),fi(!0)},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:`font-semibold ${O?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:b(B(oe(c.data),"EEEE - dd/MM/yyyy",{locale:Me}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${(c.tipo||c.categoria)==="culto"?"bg-purple-500 text-white":"bg-orange-500 text-white"}`,children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${O?"bg-blue-600 text-white":"bg-gray-400 text-white"}`,children:c.horario}),O&&i.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs font-medium rounded-full",children:"Próximo"})]})]}),c.observacoes&&i.jsx("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("span",{children:["💡 ",c.observacoes]})}),T.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:`flex items-center gap-2 mb-2 text-sm ${O?"text-blue-800 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[i.jsx(De,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Diáconos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(I=>{var Q;const z=Ar.find(be=>be.id===I);return z?i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${O?"bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200":"bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300"}`,children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((Q=z.nome)==null?void 0:Q.charAt(0))||"D"}),i.jsx("span",{className:"text-xs font-medium",children:z.nome||"Diácono"})]},I):null})})]})]},c.id)})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(De,{className:"w-5 h-5 text-purple-600"}),"Lista de Diáconos (",Ar.length,")"]}),i.jsx("div",{className:"space-y-3",children:Ar.length===0?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Nenhum diácono cadastrado ainda"}):Ar.map(c=>{var b,T;const m=c.idade||f(c.nascimento);return i.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 bg-purple-50 dark:bg-purple-900/10 rounded-lg border border-purple-100 dark:border-purple-800",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:((T=(b=c.nome)==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"D"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white uppercase",children:c.nome||"Sem nome"}),c.telefone?i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.telefone}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 italic",children:"Sem telefone"}),m&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[m," anos"]})]})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"0"})})]},c.id)})})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(ns,{className:"w-6 h-6 mr-2 text-purple-600"}),"Ministério de Diaconia"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ministério dedicado ao serviço e cuidado da igreja."})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ee,{className:"w-5 h-5 text-purple-600"}),"Escalas de Diaconia (",(St==null?void 0:St.length)||0,")"]}),!St||St.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."})]}):i.jsx("div",{className:"space-y-4",children:St.slice(0,5).map((c,m)=>{const b=z=>z.charAt(0).toUpperCase()+z.slice(1),T=c.membros_ids||[],O=T.includes(s==null?void 0:s.id),I=m===0;return i.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${I?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":O?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 bg-white dark:bg-black"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:`font-semibold ${I?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:b(B(oe(c.data),"EEEE - dd/MM/yyyy",{locale:Me}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${(c.tipo||c.categoria)==="culto"?"bg-purple-500 text-white":"bg-orange-500 text-white"}`,children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${I?"bg-blue-600 text-white":"bg-gray-400 text-white"}`,children:c.horario}),I&&i.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs font-medium rounded-full",children:"Próximo"})]})]}),O&&i.jsx("div",{className:"mb-3",children:i.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white text-xs font-bold rounded-full",children:"✓ Você está escalado"})}),T.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:`flex items-center gap-2 mb-2 text-sm ${I?"text-blue-800 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[i.jsx(De,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Diáconos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(z=>{var be;const Q=Ar.find(st=>st.id===z);return Q?i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${I?"bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200":"bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300"}`,children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((be=Q.nome)==null?void 0:be.charAt(0))||"D"}),i.jsx("span",{className:"text-xs font-medium",children:Q.nome||"Diácono"})]},z):null})})]}),c.observacoes&&i.jsx("div",{className:"flex items-center gap-2 mt-3 text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("span",{children:["💡 ",c.observacoes]})})]},c.id)})})]})]})}),j==="louvor"&&i.jsx("div",{className:"space-y-4",children:Gy?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>wl(!0),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2",children:[i.jsx(Ut,{className:"w-5 h-5"}),"Nova Escala"]}),i.jsxs("button",{onClick:()=>{qa({nome:"",artista:"",link:""}),jl(!0)},className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2",children:[i.jsx(Ut,{className:"w-5 h-5"}),"Nova Música"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{onClick:()=>Nl(!0),className:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-md hover:scale-105 transition-all",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Músicos Ativos"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(()=>{const c=new Set;return rt.forEach(m=>{var b;(b=m.musicos)==null||b.forEach(T=>c.add(T.id))}),c.size||gr.length})()}),i.jsx(ke,{className:"w-8 h-8 text-purple-500"})]})]}),i.jsxs("div",{onClick:()=>_l(!0),className:"bg-white dark:bg-black rounded-lg p-4 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-md hover:scale-105 transition-all",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Músicas Cadastradas"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:Nt.length}),i.jsx(ke,{className:"w-8 h-8 text-green-500"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ee,{className:"w-5 h-5 text-purple-600"}),"Próximas escalas (",(rt==null?void 0:rt.length)||0,")"]}),!rt||rt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:'Clique em "Nova Escala" para criar a primeira.'})]}):i.jsx("div",{className:"space-y-4",children:rt.slice(0,5).map(c=>{const m=c.musicas?c.musicas.length:0,b=T=>T.charAt(0).toUpperCase()+T.slice(1);return i.jsxs("div",{className:"p-4 bg-white dark:bg-black rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all",onClick:()=>{var O;const T={};(O=c.musicos)==null||O.forEach(I=>{T[I.instrumento]=I.id}),oi(c),xe({data:c.data,horario:c.horario||"",categoria:c.tipo||c.categoria||"culto",observacoes:c.observacoes||"",musicas:c.musicas||[],instrumentos:T}),Un(!0)},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b(B(oe(c.data),"EEEE - dd/MM/yyyy",{locale:Me}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded",children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:"px-3 py-1 bg-gray-400 text-white text-xs font-medium rounded",children:c.horario})]})]}),m>0&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ke,{className:"w-4 h-4"}),i.jsxs("span",{children:[m," música",m!==1?"s":""]})]}),c.musicos&&c.musicos.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(De,{className:"w-4 h-4"}),i.jsx("span",{children:"Músicos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.musicos.map((T,O)=>{var I,z;return i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((I=T.nome)==null?void 0:I.charAt(0))||"M"}),i.jsxs("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:[((z=T.nome)==null?void 0:z.split(" ")[0])||"Músico"," - ",T.instrumento]})]},O)})})]})]},c.id)})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Equipe de Louvor"}),i.jsx("div",{className:"space-y-2",children:(()=>{const c=new Map;return rt.forEach(m=>{var b;(b=m.musicos)==null||b.forEach(T=>{c.has(T.id)?c.get(T.id).instrumentos.add(T.instrumento):c.set(T.id,{...T,instrumentos:new Set([T.instrumento])})})}),c.size===0?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Nenhum músico escalado ainda"}):Array.from(c.values()).map(m=>i.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:i.jsx(ke,{className:"w-5 h-5"})}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:m.nome})]}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from(m.instrumentos).map(b=>i.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:b},b))})]},m.id))})()})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(ke,{className:"w-6 h-6 mr-2 text-purple-600"}),"Ministério de Louvor"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ministério dedicado a conduzir a congregação em adoração através da música."}),i.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:'Confira as músicas que estamos cantando na aba "Playlist Zoe" 🎵'})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ee,{className:"w-5 h-5 text-purple-600"}),"Próximas escalas (",(rt==null?void 0:rt.length)||0,")"]}),!rt||rt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Nenhuma escala criada ainda."})]}):i.jsx("div",{className:"space-y-4",children:rt.slice(0,5).map(c=>{const m=c.musicas?c.musicas.length:0,b=T=>T.charAt(0).toUpperCase()+T.slice(1);return i.jsxs("div",{className:"p-4 bg-white dark:bg-black rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all",onClick:()=>{var O;const T={};(O=c.musicos)==null||O.forEach(I=>{T[I.instrumento]=I.id}),oi(c),xe({data:c.data,horario:c.horario||"",categoria:c.tipo||c.categoria||"culto",observacoes:c.observacoes||"",musicas:c.musicas||[],instrumentos:T}),Un(!0)},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b(B(oe(c.data),"EEEE - dd/MM/yyyy",{locale:Me}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded",children:b(c.tipo||c.categoria||"Culto")}),i.jsx("span",{className:"px-3 py-1 bg-gray-400 text-white text-xs font-medium rounded",children:c.horario})]})]}),m>0&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ke,{className:"w-4 h-4"}),i.jsxs("span",{children:[m," música",m!==1?"s":""]})]}),c.musicos&&c.musicos.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(De,{className:"w-4 h-4"}),i.jsx("span",{children:"Músicos escalados:"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.musicos.map((T,O)=>{var I,z;return i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((I=T.nome)==null?void 0:I.charAt(0))||"M"}),i.jsxs("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:[((z=T.nome)==null?void 0:z.split(" ")[0])||"Músico"," - ",T.instrumento]})]},O)})})]})]},c.id)})})]})]})}),j==="galeria"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Galeria de Fotos"}),nt.length===0?i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-12 border border-gray-200 dark:border-gray-700 text-center",children:[i.jsx(yk,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma foto na galeria ainda."})]}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:nt.map(c=>i.jsxs("div",{className:"relative group cursor-pointer rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow bg-white dark:bg-black",onClick:()=>{Iy(c),wh(!0)},children:[i.jsx("img",{src:c.url,alt:c.titulo,className:"w-full h-48 object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center",children:i.jsx("div",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity text-center p-2",children:i.jsx("p",{className:"font-semibold text-sm",children:c.titulo})})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded",children:c.categoria})})]},c.id))}),pr&&i.jsx(Ur,{isOpen:vh,onClose:()=>wh(!1),title:pr.titulo,maxWidth:"max-w-4xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("img",{src:pr.url,alt:pr.titulo,className:"w-full rounded-lg"}),pr.descricao&&i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:pr.descricao}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Categoria"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:pr.categoria})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Data"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:pr.data_foto?B(new Date(pr.data_foto),"dd/MM/yyyy"):"-"})]})]})]})})]}),j==="playlistzoe"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(ke,{className:"w-6 h-6 mr-2 text-red-600"}),"Playlist Zoe"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Músicas que estamos cantando nos cultos e encontros"}),i.jsx("div",{className:"space-y-3",children:Nt.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ke,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma música adicionada ainda."})]}):Nt.map(c=>i.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-lg border-l-4 border-red-500",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:c.titulo}),c.artista&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.artista}),c.duracao&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:c.duracao})]}),c.link&&i.jsxs("button",{onClick:()=>{let m=c.link;m.includes("youtu.be/")&&(m=`https://www.youtube.com/watch?v=${m.split("youtu.be/")[1].split("?")[0]}`),window.open(m,"_blank","noopener,noreferrer")},className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 flex items-center gap-2",children:[i.jsx(ke,{className:"w-4 h-4"}),"Ouvir"]})]})},c.id))})]})}),j==="kids"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Kids"}),Xy&&i.jsxs("button",{onClick:()=>mi(!0),className:"flex items-center px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Nova Escala"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{onClick:()=>ph(!0),className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-pink-500 dark:hover:border-pink-400 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total de Crianças"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((Mh=re==null?void 0:re.criancas)==null?void 0:Mh.length)||0})]}),i.jsx(Ct,{className:"w-8 h-8 text-pink-500"})]})}),i.jsx("div",{onClick:()=>Cl(!0),className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Professores"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((Uh=re==null?void 0:re.professores)==null?void 0:Uh.length)||0})]}),i.jsx(De,{className:"w-8 h-8 text-blue-500"})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Crianças por Faixa Etária"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ct,{className:"w-5 h-5 text-yellow-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"0-3 anos"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((Fh=re==null?void 0:re.criancas)==null?void 0:Fh.filter(c=>{const m=f(c.nascimento);return m!==null&&m<=3}).length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ct,{className:"w-5 h-5 text-orange-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"4-7 anos"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((zh=re==null?void 0:re.criancas)==null?void 0:zh.filter(c=>{const m=f(c.nascimento);return m>=4&&m<=7}).length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ct,{className:"w-5 h-5 text-pink-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"8-12 anos"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((Wh=re==null?void 0:re.criancas)==null?void 0:Wh.filter(c=>{const m=f(c.nascimento);return m>=8&&m<=12}).length)||0})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[i.jsx(Ee,{className:"w-5 h-5 mr-2 text-pink-600"}),"Próximas Escalas (",fl.length,")"]}),fl.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ee,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma escala criada ainda."})]}):i.jsx("div",{className:"space-y-3",children:fl.sort((c,m)=>new Date(c.data)-new Date(m.data)).slice(0,5).map((c,m)=>{var z,Q;const b=(z=c.descricao)!=null&&z.includes("Turmas:")?c.descricao.replace("Turmas: ","").split(", "):[],T=b.includes("Pequenos"),O=b.includes("Grandes");let I="p-4 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow ";return T&&O?I+="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-blue-300 dark:border-blue-700":T?I+="bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-300 dark:border-blue-700":O?I+="bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-300 dark:border-purple-700":I+="bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 border-pink-200 dark:border-pink-800",i.jsxs("div",{className:I,onClick:()=>{Va(c),Ha(!0)},children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ee,{className:"w-5 h-5 text-pink-600"}),i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[B(oe(c.data),"dd/MM/yyyy",{locale:Me})," - ",c.horario]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:B(oe(c.data),"EEEE",{locale:Me})})]})]})}),b.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Turmas:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:b.map((be,st)=>i.jsx("span",{className:`text-xs px-2 py-0.5 text-white rounded-full ${be==="Pequenos"?"bg-blue-500":"bg-purple-600"}`,children:be},st))})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Professores escalados:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(Q=c.membros_ids)==null?void 0:Q.map((be,st)=>{var We;const Ge=(We=re.all)==null?void 0:We.find(dt=>dt.id===be);return Ge?i.jsx("span",{className:"text-xs px-2 py-1 bg-pink-600 text-white rounded-full",children:Ge.nome},st):null})})]})]},m)})})]})]}),j==="jovens"&&i.jsxs("div",{className:"space-y-4",children:[Fa&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Jovens"}),i.jsxs("button",{onClick:()=>{ci(null),Re({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]}),Wa(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Nova Oficina"]})]}),Fa&&i.jsx("div",{onClick:()=>Tl(!0),className:"card cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total de Jovens"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fn.filter(c=>(c.funcoes||(c.funcao?[c.funcao]:[])).includes("jovem")).length})]}),i.jsx(nr,{className:"w-8 h-8 text-indigo-500"})]})}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Jovens por Faixa Etária"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"13-18 anos (Adolescentes)"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Fn.filter(c=>{const m=c.funcoes||(c.funcao?[c.funcao]:[]),b=f(c.nascimento);return m.includes("jovem")&&b>=13&&b<=18}).length})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{className:"w-5 h-5 text-indigo-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"19-24 anos (Jovens)"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Fn.filter(c=>{const m=c.funcoes||(c.funcao?[c.funcao]:[]),b=f(c.nascimento);return m.includes("jovem")&&b>=19&&b<=24}).length})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"25+ anos (Jovens Adultos)"})]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Fn.filter(c=>{const m=c.funcoes||(c.funcao?[c.funcao]:[]),b=f(c.nascimento);return m.includes("jovem")&&b>=25}).length})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Oficinas"}),Fa&&i.jsxs("button",{onClick:()=>Wa(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[i.jsx(Ut,{className:"w-4 h-4"}),"Nova Oficina"]})]}),ah.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(nr,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma oficina cadastrada ainda."})]}):i.jsx("div",{className:"space-y-3",children:ah.map(c=>i.jsx("div",{className:"p-4 border-l-4 border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",onClick:()=>sx(c),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:c.nome}),c.descricao&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:c.descricao}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fn,{className:"w-3 h-3"}),c.data&&B(new Date(c.data),"dd/MM/yyyy 'às' HH:mm",{locale:Me})]}),c.vagas&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(De,{className:"w-3 h-3"}),c.vagas," vagas"]}),c.local&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(as,{className:"w-3 h-3"}),c.local]})]})]}),Fa&&i.jsx("button",{onClick:m=>{m.stopPropagation(),ax(c.id)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:i.jsx(cc,{className:"w-4 h-4"})})]})},c.id))})]})]}),j==="configuracoes"&&i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Configurações"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade em desenvolvimento"})]}),j==="configuracoes"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[i.jsx(ym,{className:"w-6 h-6 mr-2 text-black dark:text-white"}),"Configurações"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meu Perfil"}),i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-black flex items-center justify-center text-white font-bold text-2xl",children:((qh=t==null?void 0:t.nome)==null?void 0:qh.charAt(0))||"M"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t==null?void 0:t.nome}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t!=null&&t.funcoes&&s.funcoes.length>0?s.funcoes.join(", "):(t==null?void 0:t.funcao)||"Membro"})]}),i.jsxs("button",{onClick:()=>{let c=[];Array.isArray(t==null?void 0:t.funcoes)&&s.funcoes.length>0?c=[...s.funcoes]:t!=null&&t.funcao?c=[s.funcao]:c=["membro"],console.log("Abrindo modal de edição com funções:",c),dn({nome:(t==null?void 0:t.nome)||"",telefone:(t==null?void 0:t.telefone)||"",nascimento:(t==null?void 0:t.nascimento)||"",genero:(t==null?void 0:t.genero)||"",funcoes:c}),hl(!0)},className:"px-4 py-2 bg-black hover:bg-gray-800 text-white rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Ai,{className:"w-4 h-4"}),"Editar Perfil"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(t==null?void 0:t.telefone)||"Não informado"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data de Nascimento"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t!=null&&t.nascimento?B(oe(s.nascimento),"dd/MM/yyyy",{locale:Me}):"Não informado"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Idade"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t!=null&&t.nascimento?`${f(s.nascimento)} anos`:"Não informado"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Família"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(t==null?void 0:t.familia)||"Não informado"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-6 pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Preferências"}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Modo Escuro"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sincronizado com o sistema"})]}),i.jsx("div",{className:"p-2 bg-white dark:bg-black rounded-lg",children:ei?i.jsx(kk,{className:"h-5 w-5 text-gray-900 dark:text-white"}):i.jsx(jk,{className:"h-5 w-5 text-gray-900 dark:text-white"})})]})]})]})}),j==="perfil"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Minha Família"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>H(!0),className:"flex items-center justify-center px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm md:text-base",children:"Criar Família"})]}),i.jsxs("button",{onClick:()=>$r(!0),className:"flex items-center justify-center px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm md:text-base",children:"Adicionar Membro"})]})]})]}),F||t!=null&&t.familia?i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-4",onClick:()=>{const c=(F==null?void 0:F.nome)||s.familia;Qt(m=>({...m,[c]:!m[c]}))},children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-gray-900 to-gray-700 dark:from-white dark:to-gray-200 flex items-center justify-center",children:i.jsx(De,{className:"w-6 h-6 text-white dark:text-gray-900"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base md:text-lg",children:(F==null?void 0:F.nome)||s.familia}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:F?`${F.membros.length} ${F.membros.length===1?"membro":"membros"}`:"Minha família"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:c=>{c.stopPropagation(),F&&(La({id:F.id,nome:F.nome,descricao:F.descricao||"",membrosIds:F.membros.map(m=>m.id)}),cl(!0))},className:"p-2 bg-gray-100 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",title:"Editar Família",children:i.jsx(Ai,{className:"w-5 h-5"})}),tt[(F==null?void 0:F.nome)||s.familia]?i.jsx(to,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 transform rotate-90 transition-transform"}):i.jsx(to,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 transition-transform"})]})]}),tt[(F==null?void 0:F.nome)||s.familia]&&i.jsx("div",{className:"space-y-3 p-4 pt-0 border-t border-gray-200 dark:border-gray-700",children:F?F.membros.map((c,m)=>i.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-semibold text-sm",children:c.nome.charAt(0)}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[c.nome," ",c.isCurrentUser&&"(Você)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:c.funcoes?c.funcoes.join(", "):c.funcao||"Membro"}),c.idade&&i.jsxs("span",{children:["• ",c.idade," anos"]})]})]})]})},m)):i.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-semibold text-sm",children:((Bh=t==null?void 0:t.nome)==null?void 0:Bh.charAt(0))||"M"}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[s.nome," (Você)"]}),i.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:i.jsx("span",{children:s.funcao||"Membro"})})]})]})})})]}):i.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700 text-center",children:[i.jsx(De,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Você ainda não pertence a uma família."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:'Clique em "Criar Família" para começar.'})]})]})]}),i.jsx(Ur,{isOpen:Zt,onClose:()=>{$r(!1),fr({nome:"",telefone:"",dataNascimento:"",idade:"",genero:"",funcoes:[]})},title:"Adicionar Novo Membro",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{if(c.preventDefault(),de.funcoes.length===0){alert("Selecione pelo menos uma função");return}try{const m={nome:de.nome,telefone:de.telefone,nascimento:de.dataNascimento,idade:de.idade?parseInt(de.idade):null,genero:de.genero,funcoes:de.funcoes,status:"ativo",familia:s.familia||s.nome,senha:"senha123"};n&&await n(m),It(F?{...F,membros:[...F.membros,{...de,isCurrentUser:!1}]}:{nome:s.familia||s.nome,descricao:"",membros:[{nome:s.nome,funcao:s.funcao||"Membro",isCurrentUser:!0},{...de,isCurrentUser:!1}]})}catch(m){console.error("Erro ao adicionar membro:",m),alert("Erro ao adicionar membro: "+m.message);return}fr({nome:"",telefone:"",dataNascimento:"",idade:"",genero:"",funcoes:[]}),$r(!1)},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome Completo *"}),i.jsx("input",{type:"text",required:!0,value:de.nome,onChange:c=>fr({...de,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"João Silva"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Telefone"}),i.jsx("input",{type:"tel",value:de.telefone,onChange:c=>fr({...de,telefone:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"(11) 98765-4321"})]}),i.jsx("div",{children:i.jsx(Sy,{label:"Data de Nascimento",value:de.dataNascimento,onChange:c=>{const m=f(c);fr({...de,dataNascimento:c,idade:m!==null?m.toString():""})}})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Idade"}),i.jsx("input",{type:"number",value:de.idade,onChange:c=>fr({...de,idade:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: 25",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Gênero *"}),i.jsxs("select",{required:!0,value:de.genero,onChange:c=>fr({...de,genero:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:border-gray-600 dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"masculino",children:"Masculino"}),i.jsx("option",{value:"feminino",children:"Feminino"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Funções * (Selecione uma ou mais)"}),i.jsx("div",{className:"space-y-2 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-black/50",children:["Membro","Jovem","Louvor","Diaconia","Professor kids"].map(c=>{const m=de.funcoes.includes(c);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:b=>{b.target.checked?fr({...de,funcoes:[...de.funcoes,c]}):fr({...de,funcoes:de.funcoes.filter(T=>T!==c)})},className:"sr-only"}),i.jsx("div",{className:`w-6 h-6 border-2 rounded flex items-center justify-center transition-all ${m?"bg-blue-600 border-blue-600":"bg-white border-gray-400 dark:bg-black dark:border-gray-500"}`,children:m&&i.jsx(Te,{className:"w-4 h-4 text-white",strokeWidth:3})})]}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 select-none",children:c})]},c)})}),de.funcoes.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Selecione pelo menos uma função"})]}),i.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Adicionar Membro"})})]})}),i.jsx(Ur,{isOpen:M,onClose:()=>{H(!1),ce({nome:"",descricao:""}),Xt([]),ie("")},title:"Criar Nova Família",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{const m=[{id:s.id,nome:s.nome,funcao:s.funcao||"Membro",funcoes:s.funcoes||[],idade:s.idade,isCurrentUser:!0},...ge],b=m.map(I=>I.id).filter(I=>I),{createFamily:T}=await cr(()=>Promise.resolve().then(()=>Fi),void 0,import.meta.url),O=await T({nome:V.nome,descricao:V.descricao||"",membros_ids:b});console.log("Família criada no Supabase:",O),It({id:O.id,nome:O.nome,descricao:O.descricao,membros:m}),ce({nome:"",descricao:""}),Xt([]),ie(""),H(!1),alert("Família criada com sucesso!")}catch(m){console.error("Erro ao criar família:",m),alert("Erro ao criar família. Tente novamente.")}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Família *"}),i.jsx("input",{type:"text",required:!0,value:V.nome,onChange:c=>ce({...V,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Família Silva"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:V.descricao,onChange:c=>ce({...V,descricao:c.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Informações adicionais sobre a família..."})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[i.jsxs("h4",{className:"text-sm font-semibold mb-3 text-gray-900 dark:text-white flex items-center",children:[i.jsx(De,{className:"w-4 h-4 mr-2"}),"Buscar Membro para Adicionar (",ge.length," selecionado",ge.length!==1?"s":"",")"]}),i.jsxs("div",{className:"mb-3 relative",children:[i.jsx(lc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:Oe,onChange:c=>ie(c.target.value),placeholder:"Digite o nome do membro...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:text-white text-sm"})]}),ge.length>0&&i.jsxs("div",{className:"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"Membros selecionados:"}),i.jsx("div",{className:"space-y-2",children:ge.map((c,m)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-green-700 dark:text-green-400",children:c.nome}),i.jsx("button",{type:"button",onClick:()=>Xt(b=>b.filter((T,O)=>O!==m)),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:i.jsx(Te,{className:"w-4 h-4"})})]},m))})]}),i.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:!Oe.trim()||Oe.trim().length<2?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:[i.jsx(lc,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),i.jsx("p",{children:"Digite pelo menos 2 caracteres para buscar"})]}):Bu.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:i.jsxs("p",{children:['Nenhum membro encontrado com "',Oe,'"']})}):i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Bu.map(c=>{var I;const m=ge.some(z=>z.id===c.id),b=c.nome.split(" ").map(z=>z[0]).join("").slice(0,2).toUpperCase(),T=f(c.nascimento),O=((I=c.funcoes)==null?void 0:I[0])||"membro";return i.jsxs("div",{onClick:()=>{Xt(m?z=>z.filter(Q=>Q.id!==c.id):z=>[...z,c])},className:"flex items-center p-3 hover:bg-gray-50 dark:hover:bg-gray-900 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:()=>{},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500 pointer-events-none"}),i.jsxs("div",{className:"ml-3 flex items-center flex-1",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 dark:bg-white flex items-center justify-center text-white dark:text-gray-900 font-semibold text-sm mr-3",children:b}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.nome}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[T?`${T} anos`:"Idade não informada"," • ",O]})]})]})]},c.id)})})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100",children:"Criar Família"})})]})}),i.jsx(Ur,{isOpen:qu,onClose:()=>{cl(!1)},title:"Editar Família",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{const{updateFamily:m}=await cr(()=>Promise.resolve().then(()=>Fi),void 0,import.meta.url);await m(He.id,{nome:He.nome,descricao:He.descricao,membros_ids:He.membrosIds}),It({id:He.id,nome:He.nome,descricao:He.descricao,membros:F.membros}),cl(!1),alert("Família atualizada com sucesso!")}catch(m){console.error("Erro ao atualizar família:",m),alert("Erro ao atualizar família. Tente novamente.")}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Família *"}),i.jsx("input",{type:"text",required:!0,value:He.nome,onChange:c=>La({...He,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Família Silva"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:He.descricao,onChange:c=>La({...He,descricao:c.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Informações adicionais sobre a família..."})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Membros da Família"}),i.jsxs("button",{type:"button",onClick:()=>{pl(!0)},className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(Ut,{className:"w-4 h-4"}),"Adicionar Membro"]})]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-2",children:F!=null&&F.membros&&F.membros.length>0?F.membros.map(c=>{var m;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(yd,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[c.nome,c.id===s.id&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:"Você"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((m=c.funcoes)==null?void 0:m.join(", "))||"Membro"})]})]}),c.id!==s.id&&i.jsx("button",{type:"button",onClick:async()=>{if(confirm(`Deseja remover ${c.nome} da família?`))try{const b=He.membrosIds.filter(O=>O!==c.id);La({...He,membrosIds:b});const{updateFamily:T}=await cr(()=>Promise.resolve().then(()=>Fi),void 0,import.meta.url);await T(He.id,{membros_ids:b}),It({...F,membros:F.membros.filter(O=>O.id!==c.id)}),alert("Membro removido com sucesso!")}catch(b){console.error("Erro ao remover membro:",b),alert("Erro ao remover membro.")}},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Remover membro",children:i.jsx(Te,{className:"w-5 h-5"})})]},c.id)}):i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Nenhum membro na família ainda."})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Alterações"})})]})}),i.jsxs(Ur,{isOpen:Ju,onClose:()=>{pl(!1),yl(""),Ma([])},title:"Adicionar Membro à Família",maxWidth:"max-w-2xl",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Buscar Membro"}),i.jsxs("div",{className:"relative",children:[i.jsx(lc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",value:Yu,onChange:async c=>{if(yl(c.target.value),c.target.value.trim().length>=2)try{const b=(await Pd(c.target.value.trim())).filter(T=>{var O;return!((O=F==null?void 0:F.membros)!=null&&O.some(I=>I.id===T.id))});Ma(b)}catch(m){console.error("Erro ao buscar membros:",m),Ma([])}else Ma([])},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-black dark:text-white",placeholder:"Digite o nome do membro..."})]})]}),i.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:[Yu.trim().length>=2&&Gu.length===0&&i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Nenhum membro encontrado"}),Gu.map(c=>{var m;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-black/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(yd,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c.nome}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((m=c.funcoes)==null?void 0:m.join(", "))||"Membro"})]})]}),i.jsx("button",{type:"button",onClick:async()=>{try{const b=[...He.membrosIds||[],c.id],{updateFamily:T}=await cr(()=>Promise.resolve().then(()=>Fi),void 0,import.meta.url);await T(He.id,{membros_ids:b}),La({...He,membrosIds:b}),It({...F,membros:[...F.membros||[],c]}),yl(""),Ma([]),pl(!1),alert(`${c.nome} foi adicionado à família!`)}catch(b){console.error("Erro ao adicionar membro:",b),alert("Erro ao adicionar membro à família.")}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Adicionar"})]},c.id)})]})]}),i.jsx(Ur,{isOpen:Hu,onClose:()=>{hl(!1)},title:"Editar Perfil",maxWidth:"max-w-2xl",children:i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{if(console.log("Iniciando atualização de perfil...",{id:s.id,dados:Se,funcoesAtuais:s.funcoes}),!Se.funcoes||Se.funcoes.length===0){alert("Selecione pelo menos uma função");return}console.log("Funções que serão salvas:",Se.funcoes);const m=await ly(s.id,{nome:Se.nome,telefone:Se.telefone||null,nascimento:Se.nascimento||null,genero:Se.genero||null,funcoes:Se.funcoes});console.log("Perfil atualizado com sucesso:",m),Object.assign(t,m),localStorage.setItem("current_member",JSON.stringify(m)),console.log("localStorage atualizado:",m),hl(!1),alert("Perfil atualizado com sucesso!"),window.location.reload()}catch(m){console.error("Erro detalhado ao atualizar perfil:",m),alert(`Erro ao atualizar perfil: ${m.message||"Tente novamente"}`)}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome *"}),i.jsx("input",{type:"text",required:!0,value:Se.nome,onChange:c=>dn({...Se,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Telefone"}),i.jsx("input",{type:"tel",value:Se.telefone,onChange:c=>dn({...Se,telefone:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Data de Nascimento"}),i.jsx("input",{type:"date",value:Se.nascimento,onChange:c=>dn({...Se,nascimento:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Gênero"}),i.jsxs("select",{value:Se.genero,onChange:c=>dn({...Se,genero:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione"}),i.jsx("option",{value:"masculino",children:"Masculino"}),i.jsx("option",{value:"feminino",children:"Feminino"}),i.jsx("option",{value:"outro",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Funções"}),i.jsx("div",{className:"space-y-2",children:["membro","diaconia","louvor","jovens"].map(c=>{const m=Se.funcoes.includes(c);return i.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-all ${m?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-500":"bg-gray-50 dark:bg-black/50 border-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:b=>{b.target.checked?dn({...Se,funcoes:[...Se.funcoes,c]}):dn({...Se,funcoes:Se.funcoes.filter(T=>T!==c)})},className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${m?"bg-blue-600 border-blue-600":"bg-transparent border-gray-300 dark:border-gray-600"}`,children:m&&i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),i.jsx("span",{className:`text-sm font-medium capitalize ${m?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:c})]},c)})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Alterações"})})]})}),gh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ct,{className:"w-6 h-6 text-pink-500"}),"Crianças Cadastradas"]}),i.jsx("button",{onClick:()=>ph(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",children:i.jsx(Te,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:((Hh=re==null?void 0:re.criancas)==null?void 0:Hh.length)>0?i.jsx("div",{className:"space-y-3",children:re.criancas.map(c=>{const m=c.idade||(c.nascimento?f(c.nascimento):null);let b="";return m!==null&&(m<=3?b="0-3 anos":m<=7?b="4-7 anos":b="8-12 anos"),i.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-black/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:c.nome}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[m!==null&&i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m," ",m===1?"ano":"anos"]}),b&&i.jsx("span",{className:"text-xs px-2 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 rounded-full",children:b})]})]}),i.jsx(Ct,{className:"w-5 h-5 text-pink-500"})]})},c.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ct,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma criança cadastrada ainda."})]})})]})})}),yh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(De,{className:"w-7 h-7 text-blue-500"}),"Professores Kids"]}),i.jsx("button",{onClick:()=>Cl(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-3",children:((Vh=re==null?void 0:re.professores)==null?void 0:Vh.length)>0?re.professores.map(c=>{var T;const m=f(c.nascimento),b=(T=c.funcoes)==null?void 0:T.includes("lider kids");return i.jsx("div",{className:"p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800 bg-white dark:bg-black",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold text-lg",children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.nome}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${b?"bg-pink-600 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:b?"Líder Kids":"Professor Kids"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[c.telefone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(oc,{className:"w-4 h-4"}),i.jsx("span",{children:c.telefone})]}),m&&i.jsxs("span",{children:["• ",m," anos"]})]})]})]})},c.id)}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(De,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum professor cadastrado ainda."})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:i.jsx("button",{onClick:()=>Cl(!1),className:"px-6 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Fechar"})})]})})}),xh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(nr,{className:"w-7 h-7 text-indigo-500"}),"Jovens Cadastrados"]}),i.jsx("button",{onClick:()=>Tl(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-3",children:Fn.filter(c=>(c.funcoes||(c.funcao?[c.funcao]:[])).includes("jovem")).length>0?Fn.filter(c=>(c.funcoes||(c.funcao?[c.funcao]:[])).includes("jovem")).map(c=>{var T;const m=f(c.nascimento),b=(T=c.funcoes)==null?void 0:T.includes("lider_jovens");return i.jsx("div",{className:"p-4 rounded-lg border-2 border-indigo-200 dark:border-indigo-800 bg-white dark:bg-black",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold text-lg",children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.nome}),b&&i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-600 text-white",children:"Líder de Jovens"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[c.telefone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(oc,{className:"w-4 h-4"}),i.jsx("span",{children:c.telefone})]}),m&&i.jsxs("span",{children:["• ",m," anos"]}),m&&i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${m>=13&&m<=18?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":m>=19&&m<=24?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"}`,children:m>=13&&m<=18?"Adolescente":m>=19&&m<=24?"Jovem":"Jovem Adulto"})]})]})]})},c.id)}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(nr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum jovem cadastrado ainda."})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:i.jsx("button",{onClick:()=>Tl(!1),className:"px-6 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Fechar"})})]})})}),mh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ee,{className:"w-7 h-7 text-pink-600"}),"Nova Escala de Professores"]}),i.jsx("button",{onClick:()=>{mi(!1),yr({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]})},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("form",{onSubmit:async c=>{if(c.preventDefault(),ue.turmas.length===0){alert("Selecione pelo menos uma turma!");return}if(ue.professoresSelecionados.length===0){alert("Selecione pelo menos um professor!");return}try{const m={ministerio:"kids",descricao:`Turmas: ${ue.turmas.join(", ")}`,data:`${ue.data}T${ue.horario}:00`,horario:ue.horario,membros_ids:ue.professoresSelecionados},T={id:(await ro(m)).id,...ue},O=[...qy,T];By(O),localStorage.setItem("escalasKids",JSON.stringify(O)),mi(!1),yr({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]})}catch(m){console.error("Erro ao criar escala:",m),alert("Erro ao criar escala: "+m.message)}},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selecione as Turmas"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Pequenos","Grandes"].map(c=>{const m=ue.turmas.includes(c);return i.jsx("div",{onClick:()=>{yr(m?{...ue,turmas:ue.turmas.filter(b=>b!==c)}:{...ue,turmas:[...ue.turmas,c]})},className:`p-4 rounded-lg border-2 cursor-pointer transition-all text-center ${m?"border-pink-600 bg-pink-50 dark:bg-pink-900/30":"border-gray-200 dark:border-gray-700 hover:border-pink-300 dark:hover:border-pink-700"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c}),m&&i.jsx("div",{className:"h-5 w-5 rounded-full bg-pink-600 flex items-center justify-center",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},c)})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data"}),i.jsx("input",{type:"date",value:ue.data,onChange:c=>yr({...ue,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário"}),i.jsx("input",{type:"time",value:ue.horario,onChange:c=>yr({...ue,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Selecione os Professores (",ue.professoresSelecionados.length," selecionados)"]}),!(re!=null&&re.professores)||re.professores.length===0?i.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-black rounded-lg",children:[i.jsx(De,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum professor cadastrado."}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:'Cadastre membros com função "Professor Kids" ou "Líder Kids"'})]}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:re.professores.map(c=>{var T,O;const m=ue.professoresSelecionados.includes(c.id),b=c.idade||(c.nascimento?f(c.nascimento):null);return i.jsx("div",{onClick:()=>{yr(m?{...ue,professoresSelecionados:ue.professoresSelecionados.filter(I=>I!==c.id)}:{...ue,professoresSelecionados:[...ue.professoresSelecionados,c.id]})},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${m?"border-pink-600 bg-pink-50 dark:bg-pink-900/30":"border-gray-200 dark:border-gray-700 hover:border-pink-300 dark:hover:border-pink-700"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-pink-600 flex items-center justify-center text-white font-semibold",children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:c.nome}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${(T=c.funcoes)!=null&&T.includes("lider kids")?"bg-pink-600 text-white":"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200"}`,children:(O=c.funcoes)!=null&&O.includes("lider kids")?"Líder":"Professor"})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[c.telefone&&i.jsx("span",{children:c.telefone}),b&&i.jsxs("span",{children:["• ",b," anos"]})]})]}),m&&i.jsx("div",{className:"h-6 w-6 rounded-full bg-pink-600 flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},c.id)})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{mi(!1),yr({turmas:[],data:B(new Date,"yyyy-MM-dd"),horario:"09:00",professoresSelecionados:[]})},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:ue.professoresSelecionados.length===0,className:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(Ee,{className:"w-4 h-4"}),"Criar Escala (",ue.professoresSelecionados.length," ",ue.professoresSelecionados.length===1?"professor":"professores",")"]})]})]})]})})}),P&&Yy(),i.jsx(Ur,{isOpen:Zu,onClose:()=>{xl(!1),vl(""),Ua([])},title:"Inscrever Familiar",maxWidth:"max-w-md",children:!F||!F.membros||F.membros.length<=1?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Você não possui outros membros cadastrados na sua família."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",value:eh,onChange:c=>Ch(c.target.value),placeholder:"Buscar familiar por nome...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-black text-gray-900 dark:text-white"})}),i.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[th.length===0&&eh.length>=2&&i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Nenhum familiar encontrado"}),th.map(c=>i.jsxs("div",{onClick:()=>Ky(c),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition-colors",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c.nome}),c.email&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.email})]},c.id))]})]})}),ni&&J&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-2xl max-w-lg w-full shadow-2xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-full ${J.categoria==="culto"?"bg-purple-100 dark:bg-purple-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:i.jsx(ns,{className:`w-6 h-6 ${J.categoria==="culto"?"text-purple-600 dark:text-purple-400":"text-orange-600 dark:text-orange-400"}`})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Detalhes da Escala"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:J.categoria?J.categoria.charAt(0).toUpperCase()+J.categoria.slice(1):"Escala de Diaconia"})]})]}),i.jsx("button",{onClick:()=>{ai(!1),gl(null),Mn([])},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gray-50 dark:bg-black/50 rounded-xl p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[i.jsx(Ee,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium capitalize",children:B(oe(J.data),"EEEE, d 'de' MMMM 'de' yyyy",{locale:Me})})]}),J.horario&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[i.jsx(fn,{className:"w-4 h-4"}),i.jsx("span",{children:J.horario})]})]})}),J.descricao&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Descrição"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-black/50 rounded-lg p-3",children:J.descricao})]}),J.local&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Local"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-black/50 rounded-lg p-3",children:[i.jsx(as,{className:"w-4 h-4"}),i.jsx("span",{children:J.local})]})]}),J.musicas&&J.musicas.length>0&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Músicas (",J.musicas.length,")"]}),i.jsx("div",{className:"space-y-2",children:J.musicas.map((c,m)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-black rounded-lg",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(ke,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]},m))})]}),i.jsx("div",{children:J.musicos&&J.musicos.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(ke,{className:"w-4 h-4"}),"Músicos Escalados (",J.musicos.length,")"]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:J.musicos.map((c,m)=>{var b;return i.jsxs("div",{className:`flex items-center justify-between gap-3 p-3 rounded-lg ${c.id===(t==null?void 0:t.id)?"bg-purple-100 dark:bg-purple-900/30 border-2 border-purple-300 dark:border-purple-700":"bg-gray-50 dark:bg-black/50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${c.id===(t==null?void 0:t.id)?"bg-purple-600":"bg-gray-500"}`,children:(b=c.nome)==null?void 0:b.split(" ").map(T=>T[0]).join("").substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[c.nome,c.id===(t==null?void 0:t.id)&&i.jsx("span",{className:"ml-2 text-xs text-purple-600 dark:text-purple-400 font-bold",children:"(Você)"})]}),c.telefone&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone})]})]}),i.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium rounded-full",children:c.instrumento})]},m)})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(De,{className:"w-4 h-4"}),"Membros Escalados (",(J.membros_ids||[]).length,")"]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(J.membros_ids||[]).length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum membro escalado"}):Ku.length===0?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):Ku.map((c,m)=>{var b;return i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${c.id===(t==null?void 0:t.id)?"bg-purple-100 dark:bg-purple-900/30 border-2 border-purple-300 dark:border-purple-700":"bg-gray-50 dark:bg-black/50"}`,children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${c.id===(t==null?void 0:t.id)?"bg-purple-600":"bg-gray-500"}`,children:(b=c.nome)==null?void 0:b.split(" ").map(T=>T[0]).join("").substring(0,2).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[c.nome,c.id===(t==null?void 0:t.id)&&i.jsx("span",{className:"ml-2 text-xs text-purple-600 dark:text-purple-400 font-bold",children:"(Você)"})]}),c.telefone&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone})]})]},m)})})]})}),J.observacoes&&i.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Observações"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3 border-l-4 border-amber-400",children:["💡 ",J.observacoes]})]})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:J.musicos?i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{oi(J);const c={};J.musicos&&J.musicos.forEach(m=>{c[m.instrumento]=m.id}),xe({data:J.data,horario:J.horario||"19:00",categoria:J.tipo||J.categoria||"culto",descricao:J.descricao||"",local:J.local||"",observacoes:J.observacoes||"",membros_ids:J.membros_ids||[],musicas:J.musicas||[],instrumentos:c,newMusicaTemp:""}),ai(!1),Un(!0)},className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[i.jsx(Ai,{className:"w-4 h-4"}),"Editar Escala"]}),i.jsx("button",{onClick:()=>{ai(!1),gl(null),Mn([])},className:"px-6 py-2.5 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 font-medium transition-colors",children:"Fechar"})]}):i.jsx("button",{onClick:()=>{ai(!1),gl(null),Mn([])},className:"w-full px-4 py-2.5 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 font-medium transition-colors",children:"Fechar"})})]})})}),dh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ke,{className:"w-6 h-6 text-green-500"}),"Músicas Cadastradas (",Nt.length,")"]}),i.jsx("button",{onClick:()=>_l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",children:i.jsx(Te,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-3",children:Nt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ke,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma música cadastrada ainda"})]}):Nt.map((c,m)=>i.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-sm font-bold text-green-700 dark:text-green-400",children:["#",m+1]}),i.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:c.titulo})]}),c.artista&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:c.artista}),c.duracao&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Duração: ",c.duracao]})]}),c.link&&i.jsxs("button",{onClick:()=>{let b=c.link;b.includes("youtu.be/")&&(b=`https://www.youtube.com/watch?v=${b.split("youtu.be/")[1].split("?")[0]}`),window.open(b,"_blank","noopener,noreferrer")},className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 flex items-center gap-2 whitespace-nowrap",children:[i.jsx(ke,{className:"w-4 h-4"}),"Ouvir"]})]})},c.id))}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>_l(!1),className:"w-full px-4 py-2 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Fechar"})})]})}),uh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ke,{className:"w-6 h-6 text-purple-500"}),"Músicos Ativos"]}),i.jsx("button",{onClick:()=>Nl(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",children:i.jsx(Te,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"space-y-2",children:gr.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(De,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum músico cadastrado ainda"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Total de ",gr.length," ",gr.length===1?"músico":"músicos"," na equipe"]}),gr.map(c=>{var b;const m=rt.filter(T=>{var O;return(O=T.membros_ids)==null?void 0:O.includes(c.id)}).length;return i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:c.nome.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[c.nome,c.id===(s==null?void 0:s.id)&&i.jsx("span",{className:"ml-2 text-xs bg-purple-600 text-white px-2 py-1 rounded-full",children:"Você"})]}),c.telefone&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.telefone}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:((b=c.funcoes)==null?void 0:b.join(", "))||"Louvor"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[m," ",m===1?"escala":"escalas"]})})]},c.id)})]})}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>Nl(!1),className:"w-full px-4 py-2 bg-gray-200 dark:bg-black text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Fechar"})})]})}),rh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Nova Escala de Louvor"}),i.jsxs("form",{onSubmit:c=>{c.preventDefault(),Zy()},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Evento"}),i.jsxs("select",{value:D.categoria,onChange:c=>xe({...D,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"ensaio",children:"Ensaio"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Data do Culto":"Data do Ensaio"}),i.jsx("input",{type:"date",required:!0,value:D.data,onChange:c=>xe({...D,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Horário do Culto":"Horário do Ensaio"}),i.jsx("input",{type:"time",required:!0,value:D.horario,onChange:c=>xe({...D,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Músicas (",(D.musicas||[]).length,"/5)"]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",value:D.newMusicaTemp||"",onChange:c=>xe({...D,newMusicaTemp:c.target.value}),onKeyPress:c=>{var m;if(c.key==="Enter"){c.preventDefault();const b=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&b.length<5&&xe({...D,musicas:[...b,D.newMusicaTemp.trim()],newMusicaTemp:""})}},placeholder:"Nome da música...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-black dark:text-white placeholder-gray-400",disabled:(D.musicas||[]).length>=5}),i.jsx("button",{type:"button",onClick:()=>{var m;const c=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&c.length<5&&xe({...D,musicas:[...c,D.newMusicaTemp.trim()],newMusicaTemp:""})},disabled:!((Kh=D.newMusicaTemp)!=null&&Kh.trim())||(D.musicas||[]).length>=5,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:i.jsx(Ut,{className:"w-5 h-5"})})]}),(D.musicas||[]).length>0&&i.jsx("div",{className:"space-y-2",children:D.musicas.map((c,m)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(ke,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]}),i.jsx("button",{type:"button",onClick:()=>{xe({...D,musicas:D.musicas.filter((b,T)=>T!==m)})},className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:i.jsx(Te,{className:"w-4 h-4"})})]},m))})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Instrumentos (",Object.values(D.instrumentos||{}).filter(Boolean).length," escalados)"]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:["Voz 1","Voz 2","Voz 3","Teclado 1","Teclado 2","Guitarra","Contrabaixo","Violão","Bateria"].map(c=>{const m=D.instrumentos||{},b=m[c],T=b?gr.find(O=>O.id===b):null;return i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ke,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c})]}),T&&i.jsx("button",{type:"button",onClick:()=>{const O={...m};delete O[c],xe({...D,instrumentos:O})},className:"text-red-600 hover:text-red-700",children:i.jsx(Te,{className:"w-4 h-4"})})]}),i.jsxs("select",{value:b||"",onChange:O=>{const I=O.target.value;if(I)xe({...D,instrumentos:{...m,[c]:parseInt(I)}});else{const z={...m};delete z[c],xe({...D,instrumentos:z})}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione um músico"}),gr.map(O=>i.jsx("option",{value:O.id,children:O.nome},O.id))]})]},c)})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>wl(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:Object.values(D.instrumentos||{}).filter(Boolean).length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Criar Escala (",Object.values(D.instrumentos||{}).filter(Boolean).length," ",Object.values(D.instrumentos||{}).filter(Boolean).length===1?"músico":"músicos",")"]})]})]})]})}),nh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Editar Escala de Louvor"}),i.jsxs("form",{onSubmit:c=>{c.preventDefault(),ex()},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Evento"}),i.jsxs("select",{value:D.categoria,onChange:c=>xe({...D,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"ensaio",children:"Ensaio"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Data do Culto":"Data do Ensaio"}),i.jsx("input",{type:"date",required:!0,value:D.data,onChange:c=>xe({...D,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.categoria==="culto"?"Horário do Culto":"Horário do Ensaio"}),i.jsx("input",{type:"time",required:!0,value:D.horario,onChange:c=>xe({...D,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white"})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Músicas (",(D.musicas||[]).length,"/5)"]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",value:D.newMusicaTemp||"",onChange:c=>xe({...D,newMusicaTemp:c.target.value}),onKeyPress:c=>{var m;if(c.key==="Enter"){c.preventDefault();const b=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&b.length<5&&xe({...D,musicas:[...b,D.newMusicaTemp.trim()],newMusicaTemp:""})}},placeholder:"Nome da música...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-black dark:text-white placeholder-gray-400",disabled:(D.musicas||[]).length>=5}),i.jsx("button",{type:"button",onClick:()=>{var m;const c=D.musicas||[];(m=D.newMusicaTemp)!=null&&m.trim()&&c.length<5&&xe({...D,musicas:[...c,D.newMusicaTemp.trim()],newMusicaTemp:""})},disabled:!((Jh=D.newMusicaTemp)!=null&&Jh.trim())||(D.musicas||[]).length>=5,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:i.jsx(Ut,{className:"w-5 h-5"})})]}),(D.musicas||[]).length>0&&i.jsx("div",{className:"space-y-2",children:D.musicas.map((c,m)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(ke,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]}),i.jsx("button",{type:"button",onClick:()=>{xe({...D,musicas:D.musicas.filter((b,T)=>T!==m)})},className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:i.jsx(Te,{className:"w-4 h-4"})})]},m))})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Instrumentos (",Object.values(D.instrumentos||{}).filter(Boolean).length," escalados)"]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:["Voz 1","Voz 2","Voz 3","Teclado 1","Teclado 2","Guitarra","Contrabaixo","Violão","Bateria"].map(c=>{const m=D.instrumentos||{},b=m[c],T=b?gr.find(O=>O.id===b):null;return i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ke,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c})]}),T&&i.jsx("button",{type:"button",onClick:()=>{const O={...m};delete O[c],xe({...D,instrumentos:O})},className:"text-red-600 hover:text-red-700",children:i.jsx(Te,{className:"w-4 h-4"})})]}),i.jsxs("select",{value:b||"",onChange:O=>{const I=O.target.value;if(I)xe({...D,instrumentos:{...m,[c]:parseInt(I)}});else{const z={...m};delete z[c],xe({...D,instrumentos:z})}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",children:[i.jsx("option",{value:"",children:"Selecione um músico"}),gr.map(O=>i.jsx("option",{value:O.id,children:O.nome},O.id))]})]},c)})})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsxs("button",{type:"button",onClick:()=>{confirm("Deseja realmente excluir esta escala?")&&(tx(ii==null?void 0:ii.id),Un(!1))},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[i.jsx(cc,{className:"w-4 h-4"}),"Excluir"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>Un(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:Object.values(D.instrumentos||{}).filter(Boolean).length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Salvar Alterações (",Object.values(D.instrumentos||{}).filter(Boolean).length," ",Object.values(D.instrumentos||{}).filter(Boolean).length===1?"músico":"músicos",")"]})]})]})]})]})}),ch&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-4 md:p-6 rounded-lg shadow-lg max-w-md w-full",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Adicionar Música"}),i.jsxs("form",{onSubmit:rx,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Música *"}),i.jsx("input",{type:"text",required:!0,value:mr.nome,onChange:c=>qa({...mr,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Bondade de Deus"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Artista"}),i.jsx("input",{type:"text",value:mr.artista,onChange:c=>qa({...mr,artista:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Isaías Saad"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Link do YouTube"}),i.jsx("input",{type:"url",value:mr.link,onChange:c=>qa({...mr,link:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"https://www.youtube.com/watch?v=..."})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>jl(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Adicionar Música"})]})]})]})}),sh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] overflow-y-auto p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-4 md:p-6 rounded-lg shadow-lg max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-base md:text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:li?"Editar Oficina":"Nova Oficina"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Oficina *"}),i.jsx("input",{type:"text",required:!0,value:q.nome,onChange:c=>Re({...q,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Louvor e Adoração"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:q.descricao,onChange:c=>Re({...q,descricao:c.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Descrição da oficina"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Data *"}),i.jsx("input",{type:"date",required:!0,value:q.data,onChange:c=>Re({...q,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:q.horario,onChange:c=>Re({...q,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Local"}),i.jsx("input",{type:"text",value:q.local,onChange:c=>Re({...q,local:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white",placeholder:"Ex: Sala 2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Número de Vagas *"}),i.jsx("input",{type:"number",required:!0,min:"1",value:q.vagas,onChange:c=>Re({...q,vagas:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Quem pode se inscrever?"}),i.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto p-2 bg-gray-50 dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${q.quem_pode_se_inscrever.includes("todos")?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 shadow-sm":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-900"}`,children:[i.jsx("div",{className:"relative flex items-center justify-center",children:i.jsx("input",{type:"checkbox",checked:q.quem_pode_se_inscrever.includes("todos"),onChange:c=>{c.target.checked?Re({...q,quem_pode_se_inscrever:["todos"]}):Re({...q,quem_pode_se_inscrever:[]})},className:"w-5 h-5 text-indigo-600 bg-white dark:bg-black border-2 border-gray-300 dark:border-gray-500 rounded focus:ring-2 focus:ring-indigo-500 cursor-pointer"})}),i.jsx("span",{className:`ml-3 text-sm font-semibold ${q.quem_pode_se_inscrever.includes("todos")?"text-indigo-700 dark:text-indigo-300":"text-gray-900 dark:text-white"}`,children:"Todos os Membros"})]}),["membro","pastor","lider da diaconia","líder de louvor","lider kids","lider jovens","jovem","ministro","louvor","diaconia","professor kids"].map(c=>{const m=q.quem_pode_se_inscrever.includes(c),b=q.quem_pode_se_inscrever.includes("todos");return i.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${b?"border-gray-200 dark:border-gray-700 opacity-50 cursor-not-allowed":m?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 shadow-sm":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-900"}`,children:[i.jsx("div",{className:"relative flex items-center justify-center",children:i.jsx("input",{type:"checkbox",checked:m,onChange:T=>{const O=q.quem_pode_se_inscrever.filter(I=>I!=="todos");T.target.checked?Re({...q,quem_pode_se_inscrever:[...O,c]}):Re({...q,quem_pode_se_inscrever:O.filter(I=>I!==c)})},disabled:b,className:"w-5 h-5 text-indigo-600 bg-white dark:bg-black border-2 border-gray-300 dark:border-gray-500 rounded focus:ring-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"})}),i.jsx("span",{className:`ml-3 text-sm ${b?"text-gray-400 dark:text-gray-500":m?"text-indigo-700 dark:text-indigo-300 font-semibold":"text-gray-700 dark:text-gray-300"}`,children:c.charAt(0).toUpperCase()+c.slice(1)})]},c)})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{Wa(!1),ci(null),Re({nome:"",descricao:"",data:B(new Date,"yyyy-MM-dd"),horario:"19:00",local:"",vagas:12,inscritos:0,quem_pode_se_inscrever:["todos"]})},className:"px-4 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Cancelar"}),i.jsx("button",{type:"button",onClick:nx,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:li?"Atualizar":"Criar"})]})]})]})}),ih&&te&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:te.nome}),i.jsx("button",{onClick:()=>{di(!1),bl(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[te.descricao&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:te.descricao})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data e Horário"}),i.jsxs("p",{className:"text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ee,{className:"w-4 h-4"}),te.data&&B(oe(te.data.split("T")[0]),"dd/MM/yyyy",{locale:Me})]}),i.jsxs("p",{className:"text-gray-900 dark:text-white flex items-center gap-2 mt-1",children:[i.jsx(fn,{className:"w-4 h-4"}),te.data&&te.data.includes("T")?te.data.split("T")[1].substring(0,5):"19:00"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Vagas"}),i.jsxs("p",{className:`flex items-center gap-2 font-semibold ${er.length>=te.vagas?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[i.jsx(De,{className:"w-4 h-4"}),er.length,"/",te.vagas||12,er.length>=te.vagas&&i.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-0.5 rounded",children:"Esgotado"})]})]})]}),te.local&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local"}),i.jsxs("p",{className:"text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(as,{className:"w-4 h-4"}),te.local]})]}),er.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Inscritos (",er.length,")"]}),i.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:er.map(c=>{var m;return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-black rounded-lg",children:[i.jsx(De,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:((m=c.member)==null?void 0:m.nome)||"Nome não disponível"})]},c.id)})})]}),i.jsxs("div",{className:"flex justify-between gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{di(!1),bl(null)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Fechar"}),Fa&&i.jsxs("button",{onClick:()=>{var c,m,b;Re({nome:te.nome,descricao:te.descricao,data:((c=te.data)==null?void 0:c.split("T")[0])||B(new Date,"yyyy-MM-dd"),horario:((b=(m=te.data)==null?void 0:m.split("T")[1])==null?void 0:b.substring(0,5))||"19:00",local:te.local,vagas:te.vagas||12,permissaoInscricao:te.permissaoInscricao||["todos"]}),di(!1),hi(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[i.jsx(Ai,{className:"w-4 h-4"}),"Editar"]})]}),i.jsx("button",{onClick:ix,disabled:er.length>=te.vagas&&!ui,className:`px-4 py-2 rounded-lg text-white ${ui?"bg-red-600 hover:bg-red-700":er.length>=te.vagas?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:ui?"Cancelar Inscrição":er.length>=te.vagas?"Vagas Esgotadas":"Inscrever-se"})]})]})]})})}),lh&&te&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] overflow-y-auto p-4",children:i.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-lg max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Editar Oficina"}),i.jsx("button",{onClick:()=>hi(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{const m={nome:q.nome,descricao:q.descricao,data:`${q.data}T${q.horario}`,local:q.local,vagas:parseInt(q.vagas),permissao_inscricao:q.permissaoInscricao};await Rd(te.id,m),alert("Oficina atualizada com sucesso!"),hi(!1);const b=await jr();za(b||[])}catch(m){console.error("Erro ao atualizar oficina:",m),alert("Erro ao atualizar oficina. Tente novamente.")}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Nome da Oficina *"}),i.jsx("input",{type:"text",required:!0,value:q.nome,onChange:c=>Re({...q,nome:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Descrição"}),i.jsx("textarea",{value:q.descricao,onChange:c=>Re({...q,descricao:c.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Data *"}),i.jsx("input",{type:"date",required:!0,value:q.data,onChange:c=>Re({...q,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:q.horario,onChange:c=>Re({...q,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Local"}),i.jsx("input",{type:"text",value:q.local,onChange:c=>Re({...q,local:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Número de Vagas *"}),i.jsx("input",{type:"number",required:!0,min:"1",value:q.vagas,onChange:c=>Re({...q,vagas:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 bg-white dark:bg-black dark:border-gray-600 dark:text-white"})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>hi(!1),className:"px-4 py-2 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Salvar Alterações"})]})]})]})}),hh&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Montar Escala de Diaconia"}),i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{await ro({data:Y.data,horario:Y.horario,tipo:Y.categoria,observacoes:Y.observacoes,ministerio:"diaconia",membros_ids:Y.diaconosSelecionados});const m=await xr("diaconia");ti(m),Sl(!1),Et({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),alert("Escala criada com sucesso!")}catch(m){console.error("Erro ao criar escala:",m),alert("Erro ao criar escala. Tente novamente.")}},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),i.jsxs("select",{value:Y.categoria,onChange:c=>Et({...Y,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"limpeza",children:"Limpeza"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.categoria==="culto"?"Data do Culto":"Data da Limpeza"}),i.jsx("input",{type:"date",value:Y.data,onChange:c=>Et({...Y,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.categoria==="culto"?"Horário do Culto":"Horário da Limpeza"}),i.jsx("input",{type:"time",value:Y.horario,onChange:c=>Et({...Y,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Selecione os Diáconos (",Y.diaconosSelecionados.length," selecionados)"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Ar.map(c=>{var b,T;const m=Y.diaconosSelecionados.includes(c.id);return i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${m?"bg-purple-100 dark:bg-purple-900/30":"bg-gray-50 dark:bg-black hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>{const O=m?Y.diaconosSelecionados.filter(I=>I!==c.id):[...Y.diaconosSelecionados,c.id];Et({...Y,diaconosSelecionados:O})},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:((T=(b=c.nome)==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"D"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white uppercase",children:c.nome}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone||"Sem telefone"})]})]}),i.jsx("input",{type:"checkbox",checked:m,onChange:()=>{},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"})]},c.id)})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{Et({data:B(new Date,"yyyy-MM-dd"),horario:"19:00",categoria:"culto",observacoes:"",diaconosSelecionados:[]}),Sl(!1)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:Y.diaconosSelecionados.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Criar Escala (",Y.diaconosSelecionados.length," ",Y.diaconosSelecionados.length===1?"diácono":"diáconos",")"]})]})]})]})})}),fh&&El&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Editar Escala de Diaconia"}),i.jsxs("form",{onSubmit:async c=>{c.preventDefault();try{await no(El.id,{data:Y.data,horario:Y.horario,tipo:Y.categoria,observacoes:Y.observacoes,ministerio:"diaconia",membros_ids:Y.diaconosSelecionados});const m=await xr("diaconia");ti(m),fi(!1),Ba(null),alert("Escala atualizada com sucesso!")}catch(m){console.error("Erro ao atualizar escala:",m),alert("Erro ao atualizar escala. Tente novamente.")}},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),i.jsxs("select",{value:Y.categoria,onChange:c=>Et({...Y,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0,children:[i.jsx("option",{value:"culto",children:"Culto"}),i.jsx("option",{value:"limpeza",children:"Limpeza"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.categoria==="culto"?"Data do Culto":"Data da Limpeza"}),i.jsx("input",{type:"date",value:Y.data,onChange:c=>Et({...Y,data:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.categoria==="culto"?"Horário do Culto":"Horário da Limpeza"}),i.jsx("input",{type:"time",value:Y.horario,onChange:c=>Et({...Y,horario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Selecione os Diáconos (",Y.diaconosSelecionados.length," selecionados)"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Ar.map(c=>{var b,T;const m=Y.diaconosSelecionados.includes(c.id);return i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${m?"bg-purple-100 dark:bg-purple-900/30":"bg-gray-50 dark:bg-black hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>{const O=m?Y.diaconosSelecionados.filter(I=>I!==c.id):[...Y.diaconosSelecionados,c.id];Et({...Y,diaconosSelecionados:O})},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:((T=(b=c.nome)==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"D"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white uppercase",children:c.nome}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.telefone||"Sem telefone"})]})]}),i.jsx("input",{type:"checkbox",checked:m,onChange:()=>{},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"})]},c.id)})})]})]}),i.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsx("button",{type:"button",onClick:async()=>{if(window.confirm("Tem certeza que deseja excluir esta escala?"))try{await ao(El.id,"diaconia");const c=await xr("diaconia");ti(c),fi(!1),Ba(null),alert("Escala excluída com sucesso!")}catch(c){console.error("Erro ao excluir escala:",c),alert("Erro ao excluir escala. Tente novamente.")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>{fi(!1),Ba(null)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:Y.diaconosSelecionados.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Salvar (",Y.diaconosSelecionados.length," ",Y.diaconosSelecionados.length===1?"diácono":"diáconos",")"]})]})]})]})]})})}),_h&&Ye&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ee,{className:"w-7 h-7 text-pink-600"}),"Detalhes da Escala"]}),i.jsx("button",{onClick:()=>{Ha(!1),Va(null)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 p-6 rounded-lg border border-pink-200 dark:border-pink-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Ee,{className:"w-8 h-8 text-pink-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B(oe(Ye.data),"dd/MM/yyyy",{locale:Me})}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 capitalize",children:B(oe(Ye.data),"EEEE",{locale:Me})})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"w-5 h-5 text-pink-600"}),i.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:Ye.horario})]})]}),((Yh=Ye.descricao)==null?void 0:Yh.includes("Turmas:"))&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Ct,{className:"w-5 h-5 text-pink-600"}),"Turmas"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:Ye.descricao.replace("Turmas: ","").split(", ").map((c,m)=>i.jsx("div",{className:`px-6 py-3 rounded-lg text-white font-medium text-lg ${c==="Pequenos"?"bg-blue-500":"bg-purple-600"}`,children:c},m))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(De,{className:"w-5 h-5 text-pink-600"}),"Professores Escalados (",((Gh=Ye.membros_ids)==null?void 0:Gh.length)||0,")"]}),i.jsx("div",{className:"space-y-3",children:(Qh=Ye.membros_ids)==null?void 0:Qh.map((c,m)=>{var O,I,z;const b=(O=re.all)==null?void 0:O.find(Q=>Q.id===c);if(!b)return null;const T=f(b.nascimento);return i.jsx("div",{className:"p-4 rounded-lg border-2 border-pink-200 dark:border-pink-800 bg-white dark:bg-black",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-pink-600 flex items-center justify-center text-white font-semibold text-lg",children:g(b.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:b.nome}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${(I=b.funcoes)!=null&&I.includes("lider kids")?"bg-pink-600 text-white":"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200"}`,children:(z=b.funcoes)!=null&&z.includes("lider kids")?"Líder":"Professor"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[b.telefone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(oc,{className:"w-4 h-4"}),i.jsx("span",{children:b.telefone})]}),T&&i.jsxs("span",{children:["• ",T," anos"]})]})]})]})},m)})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:[i.jsxs("button",{onClick:()=>{var c;Ka({turmas:((c=Ye.descricao)==null?void 0:c.replace("Turmas: ","").split(", "))||[],data:B(oe(Ye.data),"yyyy-MM-dd"),horario:Ye.horario,professoresSelecionados:Ye.membros_ids||[]}),gi(!0)},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(pm,{className:"w-5 h-5"}),"Editar Escala"]}),i.jsxs("button",{onClick:async()=>{if(window.confirm("Tem certeza que deseja deletar esta escala?"))try{await ao(Ye.id),ml(c=>c.filter(m=>m.id!==Ye.id)),Ha(!1),Va(null)}catch(c){console.error("Erro ao deletar escala:",c),alert("Erro ao deletar escala")}},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(cc,{className:"w-5 h-5"}),"Deletar"]}),i.jsx("button",{onClick:()=>{Ha(!1),Va(null)},className:"px-6 py-3 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Fechar"})]})]})})}),Nh&&Ye&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-black rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(pm,{className:"w-7 h-7 text-blue-600"}),"Editar Escala"]}),i.jsx("button",{onClick:()=>{gi(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:i.jsx(Te,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("form",{onSubmit:async c=>{if(c.preventDefault(),at.turmas.length===0){alert("Selecione pelo menos uma turma");return}if(at.professoresSelecionados.length===0){alert("Selecione pelo menos um professor");return}try{const m={data:`${at.data}T${at.horario}:00`,horario:at.horario,descricao:`Turmas: ${at.turmas.join(", ")}`,membros_ids:at.professoresSelecionados};await no(Ye.id,m);const b=await xr("kids");ml(b),gi(!1),Ha(!1),Va(null)}catch(m){console.error("Erro ao atualizar escala:",m),alert("Erro ao atualizar escala")}},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Turmas *"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Pequenos","Grandes"].map(c=>i.jsx("button",{type:"button",onClick:()=>{Ka(m=>({...m,turmas:m.turmas.includes(c)?m.turmas.filter(b=>b!==c):[...m.turmas,c]}))},className:`p-4 rounded-lg border-2 transition-all ${at.turmas.includes(c)?c==="Pequenos"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-purple-600 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ct,{className:`w-5 h-5 ${at.turmas.includes(c)?c==="Pequenos"?"text-blue-500":"text-purple-600":"text-gray-400"}`}),i.jsx("span",{className:`font-medium ${at.turmas.includes(c)?c==="Pequenos"?"text-blue-700 dark:text-blue-300":"text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300"}`,children:c})]})},c))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data *"}),i.jsx("input",{type:"date",value:at.data,onChange:c=>Ka(m=>({...m,data:c.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent dark:bg-black dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário *"}),i.jsx("input",{type:"time",value:at.horario,onChange:c=>Ka(m=>({...m,horario:c.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent dark:bg-black dark:text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Professores *"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg p-3",children:(Xh=re.all)==null?void 0:Xh.map(c=>{var b;const m=f(c.nascimento);return i.jsx("button",{type:"button",onClick:()=>{Ka(T=>({...T,professoresSelecionados:T.professoresSelecionados.includes(c.id)?T.professoresSelecionados.filter(O=>O!==c.id):[...T.professoresSelecionados,c.id]}))},className:`w-full p-3 rounded-lg border-2 transition-all text-left ${at.professoresSelecionados.includes(c.id)?"border-pink-500 bg-pink-50 dark:bg-pink-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${at.professoresSelecionados.includes(c.id)?"bg-pink-600":"bg-gray-400"}`,children:g(c.nome)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`font-medium ${at.professoresSelecionados.includes(c.id)?"text-pink-700 dark:text-pink-300":"text-gray-700 dark:text-gray-300"}`,children:c.nome}),((b=c.funcoes)==null?void 0:b.includes("lider kids"))&&i.jsx("span",{className:"text-xs px-2 py-0.5 bg-pink-600 text-white rounded-full",children:"Líder"})]}),m&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m," anos"]})]})]})},c.id)})})]}),i.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>gi(!1),className:"flex-1 px-6 py-3 bg-gray-300 dark:bg-black text-gray-700 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-9000",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Alterações"})]})]})]})})})]})})},X2=(t,e=null)=>{const[r,n]=w.useState(e),[a,s]=w.useState(!0),[o,l]=w.useState(null);return w.useEffect(()=>{t&&(async()=>{try{s(!0);const u=await _y(t);n(u||e)}catch(u){console.error(`Erro ao carregar configuração ${t}:`,u),l(u),n(e)}finally{s(!1)}})()},[t,e]),{value:r,loading:a,error:o}},Z2=(t=!1)=>X2(t?"church_logo_url_dark":"church_logo_url",""),eS=({members:t,onLogin:e,onShowSignup:r})=>{const[n,a]=w.useState(""),[s,o]=w.useState(""),[l,d]=w.useState(!1),[u,h]=w.useState(""),[f,g]=w.useState(!1);w.useEffect(()=>{const _=()=>{const x=document.documentElement.classList.contains("dark");g(x)};_();const j=new MutationObserver(_);return j.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>j.disconnect()},[]);const{value:v}=Z2(f),k=async _=>{if(_.preventDefault(),h(""),!n||!s){h("Por favor, preencha todos os campos");return}await e(n,s)||h("Usuário ou senha incorretos")};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-black px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("img",{src:v,alt:"Logo da Igreja",className:"w-80 h-80 mx-auto mb-6 object-contain"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'"E perseveravam na doutrina dos apóstolos, e na comunhão, e no partir do pão, e nas orações."'})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8",children:[i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"emailOrName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usuário"}),i.jsxs("div",{className:"relative",children:[i.jsx(yd,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{id:"emailOrName",type:"text",value:n,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",placeholder:"Digite seu usuário",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(vk,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{id:"password",type:l?"text":"password",value:s,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",placeholder:"Digite sua senha",required:!0}),i.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:l?i.jsx(gk,{className:"w-5 h-5"}):i.jsx(pk,{className:"w-5 h-5"})})]})]}),u&&i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm",children:u}),i.jsx("button",{type:"submit",className:"w-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 py-3 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:"Entrar"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[i.jsx("span",{children:"Primeira vez aqui?"}),i.jsxs("button",{onClick:r,className:"text-gray-900 dark:text-white hover:underline font-semibold inline-flex items-center gap-1",children:[i.jsx(bp,{className:"h-4 w-4"}),"Cadastre-se"]})]})})]})]})})},tS=({onSignup:t,onBack:e})=>{w.useState(()=>localStorage.getItem("darkMode")==="true"||!1);const[r,n]=w.useState({nome:"",email:"",telefone:"",nascimento:"",idade:null,genero:"masculino",funcoes:[],senha:"",confirmarSenha:""}),a=h=>{if(!h)return null;const f=new Date,g=new Date(h);let v=f.getFullYear()-g.getFullYear();const k=f.getMonth()-g.getMonth();return(k<0||k===0&&f.getDate()<g.getDate())&&v--,v},[s,o]=w.useState(""),[l,d]=w.useState(!1),u=async h=>{if(h.preventDefault(),!l){if(o(""),d(!0),!r.nome||!r.telefone||!r.nascimento){o("Por favor, preencha todos os campos obrigatórios"),d(!1);return}if(r.senha!==r.confirmarSenha){o("As senhas não coincidem"),d(!1);return}if(r.senha.length<4){o("A senha deve ter pelo menos 4 caracteres"),d(!1);return}if(r.funcoes.length===0){o("Selecione pelo menos uma função"),d(!1);return}try{const f={nome:r.nome,email:r.email,telefone:r.telefone,nascimento:r.nascimento,idade:r.idade,genero:r.genero,funcoes:r.funcoes,status:"ativo",senha:r.senha};await t(f)}catch{o("Erro ao cadastrar. Tente novamente."),d(!1)}}};return i.jsx("div",{className:"fixed inset-0 bg-white dark:bg-black overflow-y-scroll",style:{paddingTop:"calc(env(safe-area-inset-top, 44px) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom, 16px) + 80px)",paddingLeft:"16px",paddingRight:"16px",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:i.jsx("div",{className:"max-w-md w-full mx-auto",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-6",children:[i.jsx("div",{className:"flex justify-start items-center mb-6",children:i.jsx("button",{onClick:e,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:i.jsx(hk,{className:"h-6 w-6"})})}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full mb-3",children:i.jsx(bp,{className:"h-8 w-8 text-gray-900 dark:text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"Cadastro de Membro"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preencha seus dados para se cadastrar"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo *"}),i.jsx("input",{type:"text",value:r.nome,onChange:h=>n({...r,nome:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:r.email,onChange:h=>n({...r,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone *"}),i.jsx("input",{type:"tel",value:r.telefone,onChange:h=>n({...r,telefone:h.target.value}),placeholder:"(11) 98765-4321",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0})]}),i.jsx(Sy,{label:"Data de Nascimento *",value:r.nascimento,onChange:h=>{const f=a(h);n({...r,nascimento:h,idade:f})}}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gênero *"}),i.jsxs("select",{value:r.genero,onChange:h=>n({...r,genero:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"masculino",children:"Masculino"}),i.jsx("option",{value:"feminino",children:"Feminino"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Funções * (Selecione uma ou mais)"}),i.jsx("div",{className:"space-y-2 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700/50 max-h-48 overflow-y-auto",children:["membro","jovem","louvor","diaconia","professor kids"].map(h=>{const f=r.funcoes.includes(h),g=h.charAt(0).toUpperCase()+h.slice(1);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("input",{type:"checkbox",checked:f,onChange:v=>{v.target.checked?n({...r,funcoes:[...r.funcoes,h]}):n({...r,funcoes:r.funcoes.filter(k=>k!==h)})},className:"sr-only"}),i.jsx("div",{className:`w-6 h-6 border-2 rounded flex items-center justify-center transition-all ${f?"bg-gray-900 border-gray-900 dark:bg-white dark:border-white":"bg-white border-gray-400 dark:bg-gray-700 dark:border-gray-500"}`,children:f&&i.jsx(Te,{className:"w-4 h-4 text-white dark:text-gray-900",strokeWidth:3})})]}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 select-none",children:g})]},h)})}),r.funcoes.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Selecione pelo menos uma função"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha *"}),i.jsx("input",{type:"password",value:r.senha,onChange:h=>n({...r,senha:h.target.value}),placeholder:"Mínimo 4 caracteres",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0,minLength:4})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Senha *"}),i.jsx("input",{type:"password",value:r.confirmarSenha,onChange:h=>n({...r,confirmarSenha:h.target.value}),placeholder:"Digite a senha novamente",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400",required:!0,minLength:4})]}),s&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:s})}),l&&i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 text-center",children:"⏳ Conectando com o servidor..."})}),i.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 py-3 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Cadastrando...":"Cadastrar"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Já tem cadastro?"," ",i.jsx("button",{onClick:e,className:"text-gray-900 dark:text-white hover:underline font-semibold",children:"Fazer login"})]})})]})})})},rS=()=>{const[t,e]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState([]),[o,l]=w.useState([]),[d,u]=w.useState([]),[h,f]=w.useState(!0),[g,v]=w.useState(null),k=async()=>{try{f(!0),v(null);try{await gy(),console.log("Alimentações de eventos passados limpas com sucesso")}catch(E){console.error("Erro ao limpar alimentações de eventos passados:",E)}const[_,j,x,p,y,S]=await Promise.all([kr(),hy(),dy(),vy(),ky(),jr()]),C=(S||[]).map(E=>{let P;return E.data.includes("T")?P=E.data:P=`${E.data}T${E.horario||"00:00"}`,{id:`workshop-${E.id}`,nome:`Oficina: ${E.nome}`,data:P,local:E.local,descricao:E.descricao,tipo:"oficina",vagas:E.vagas,inscritos:E.inscritos,workshopId:E.id}}),N=[...j||[],...C];e(_||[]),n(N),s(x||[]),l(p||[]),u(y||[])}catch(_){console.error("Erro ao carregar dados:",_),v(_.message)}finally{f(!1)}};return w.useEffect(()=>{k(),console.log("[Realtime] Configurando subscriptions...");const _=bn("avisos",C=>{l(N=>[C,...N])},C=>{l(N=>N.map(E=>E.id===C.id?C:E))},C=>{l(N=>N.filter(E=>E.id!==C.id))}),j=bn("events",C=>{n(N=>[...N,C])},C=>{n(N=>N.map(E=>E.id===C.id?C:E))},C=>{n(N=>N.filter(E=>E.id!==C.id))}),x=bn("members",C=>{e(N=>[...N,C].sort((E,P)=>E.nome.localeCompare(P.nome)))},C=>{e(N=>N.map(E=>E.id===C.id?C:E).sort((E,P)=>E.nome.localeCompare(P.nome)))},C=>{e(N=>N.filter(E=>E.id!==C.id))}),p=bn("families",C=>{s(N=>[...N,C])},C=>{s(N=>N.map(E=>E.id===C.id?C:E))},C=>{s(N=>N.filter(E=>E.id!==C.id))}),y=bn("workshops",async()=>{const N=(await jr()||[]).map(E=>{let P;return E.data.includes("T")?P=E.data:P=`${E.data}T${E.horario||"00:00"}`,{id:`workshop-${E.id}`,nome:`Oficina: ${E.nome}`,data:P,local:E.local,descricao:E.descricao,tipo:"oficina",vagas:E.vagas,inscritos:E.inscritos,workshopId:E.id}});n(E=>[...E.filter(L=>!String(L.id).startsWith("workshop-")),...N])},async()=>{const N=(await jr()||[]).map(E=>{let P;return E.data.includes("T")?P=E.data:P=`${E.data}T${E.horario||"00:00"}`,{id:`workshop-${E.id}`,nome:`Oficina: ${E.nome}`,data:P,local:E.local,descricao:E.descricao,tipo:"oficina",vagas:E.vagas,inscritos:E.inscritos,workshopId:E.id}});n(E=>[...E.filter(L=>!String(L.id).startsWith("workshop-")),...N])},C=>{n(N=>N.filter(E=>E.workshopId!==C.id))}),S=bn("prayer_requests",C=>{u(N=>[C,...N])},C=>{u(N=>N.map(E=>E.id===C.id?C:E))},C=>{u(N=>N.filter(E=>E.id!==C.id))});return console.log("[Realtime] Subscriptions configuradas"),()=>{console.log("[Realtime] Limpando subscriptions..."),_&&_.unsubscribe().catch(C=>console.error("Erro ao desinscrever avisos:",C)),j&&j.unsubscribe().catch(C=>console.error("Erro ao desinscrever events:",C)),x&&x.unsubscribe().catch(C=>console.error("Erro ao desinscrever members:",C)),p&&p.unsubscribe().catch(C=>console.error("Erro ao desinscrever families:",C)),y&&y.unsubscribe().catch(C=>console.error("Erro ao desinscrever workshops:",C)),S&&S.unsubscribe().catch(C=>console.error("Erro ao desinscrever prayer:",C))}},[]),{members:t,setMembers:e,events:r,setEvents:n,families:a,setFamilies:s,avisos:o,setAvisos:l,prayerRequests:d,setPrayerRequests:u,loading:h,error:g,reload:k}};function nS(){const{members:t,setMembers:e,events:r,avisos:n,loading:a}=rS(),[s,o]=w.useState(()=>{const v=localStorage.getItem("current_member");return v?JSON.parse(v):null}),[l,d]=w.useState(!1),u=async v=>{try{const k={...v,senha:v.senha||"senha123",idade:v.idade&&v.idade!==""?parseInt(v.idade):null,nascimento:v.nascimento&&v.nascimento!==""?v.nascimento:null,email:v.email&&v.email!==""?v.email:null,telefone:v.telefone&&v.telefone!==""?v.telefone:null,familia:v.familia&&v.familia!==""?v.familia:null,funcoes:Array.isArray(v.funcoes)&&v.funcoes.length>0?v.funcoes:["membro"]},_=await Td(k);e([...t,_])}catch(k){console.error("Erro ao criar membro:",k),alert(`Erro ao criar membro: ${k.message||k}`)}},h=async(v,k)=>{try{const _=await cy(v,k);return o(_),localStorage.setItem("current_member",JSON.stringify(_)),!0}catch(_){return console.error("Erro no login:",_),!1}},f=()=>{o(null),localStorage.removeItem("current_member")},g=async v=>{try{const k=await Td({...v,data_cadastro:new Date().toISOString()});e([...t,k]),o(k),localStorage.setItem("current_member",JSON.stringify(k)),d(!1)}catch(k){throw console.error("Erro ao cadastrar:",k),new Error(k.message||"Erro ao fazer cadastro")}};return a?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."}):i.jsx(Zb,{children:i.jsxs(Tb,{children:[i.jsx(gd,{path:"/",element:s?i.jsx(Q2,{currentMember:s,events:r,avisos:n,onAddMember:u,onLogout:f}):l?i.jsx(tS,{onSignup:g,onBack:()=>d(!1)}):i.jsx(eS,{members:t,onLogin:h,onShowSignup:()=>d(!0)})}),i.jsx(gd,{path:"*",element:i.jsx(Eb,{to:"/",replace:!0})})]})})}console.log("🚀 MEMBER APP - Iniciando...");const Hm=document.getElementById("root");Hm?(console.log("✅ Root encontrado, renderizando AppMember"),bc.createRoot(Hm).render(i.jsx(Nx.StrictMode,{children:i.jsx(nS,{})})),console.log("✅ AppMember renderizado")):(console.error("❌ Root element não encontrado!"),alert("Erro: Root element não encontrado"));
